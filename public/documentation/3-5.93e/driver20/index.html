<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8"><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<link rel="canonical" href="https://www.ntp.org/documentation/3-5.93e/driver20/" />
  
  <meta property="og:title" content="Generic NMEA GPS Receiver" />
<meta property="og:description" content="Table of Contents  Synopsis Description Setting up the Garmin GPS-25XL Monitor Data Fudge Factors Additional Information   Synopsis  Address: 127.127.20.u Reference ID: GPS Driver ID: GPS_NMEA Serial Port: /dev/gps_u; 4800 baud, 8-bits, no parity Features: tty_clk   Description This driver supports GPS&rsquo;s with the $GPRMC NMEA output string. The driver expects the GPS to be set up to transmit a $GPRMC message every second.
The accuracy depends on the GPS used." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ntp.org/documentation/3-5.93e/driver20/" /><meta property="og:image" content="https://www.ntp.org/images/NTPLogo800x418.webp"/><meta property="article:section" content="documentation" />

<meta property="article:modified_time" content="2022-05-04T17:05:38&#43;01:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.ntp.org/images/NTPLogo800x418.webp"/>

<meta name="twitter:title" content="Generic NMEA GPS Receiver"/>
<meta name="twitter:description" content="Table of Contents  Synopsis Description Setting up the Garmin GPS-25XL Monitor Data Fudge Factors Additional Information   Synopsis  Address: 127.127.20.u Reference ID: GPS Driver ID: GPS_NMEA Serial Port: /dev/gps_u; 4800 baud, 8-bits, no parity Features: tty_clk   Description This driver supports GPS&rsquo;s with the $GPRMC NMEA output string. The driver expects the GPS to be set up to transmit a $GPRMC message every second.
The accuracy depends on the GPS used."/>





<script async src="https://www.googletagmanager.com/gtag/js?id=G-BN61ZTDHBP"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BN61ZTDHBP', { 'anonymize_ip': true });
</script>




<script>
window.onload = demo;
function demo() {
    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search...")
}
</script>


<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "c33igkoodm");
</script>


  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>Generic NMEA GPS Receiver</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The NTP Project conducts Research and Development in NTP, a protocol designed to synchronize the clocks of computers over a network to a common timebase.">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://www.ntp.org/scss/nwtime.min.d707c1d343640bf6acc5ed0bd0e2bf24.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://www.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://www.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://www.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://www.ntp.org/"><img height="80" width="80" src="https://www.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/current-stable/">Documentation</a>
        </button>
      
    </div>



<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>

</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/documentation/">NTP Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/documentation/3-5.93e/">3-5.93e</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://www.ntp.org/documentation/3-5.93e/driver20/">Generic NMEA GPS Receiver</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Generic NMEA GPS Receiver</h1> 
    <p style="font-size: small; color: grey;">Last update: May 4, 2022 17:05 UTC (<a href="https://bitbucket.nwtime.org/projects/WEBSITES/repos/ntpwww/commits/dbea9b7d4daf047a65cdfd64d621e7efa23484da">dbea9b7d4</a>)</p>
	<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#synopsis">Synopsis</a></li>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#description">Description</a></li>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#setting-up-the-garmin-gps-25xl">Setting up the Garmin GPS-25XL</a></li>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#monitor-data">Monitor Data</a></li>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#fudge-factors">Fudge Factors</a></li>
<li><a href="https://www.ntp.org/documentation/3-5.93e/driver20/#additional-information">Additional Information</a></li>
</ul>
<hr>
<h4 id="synopsis">Synopsis</h4>
<dl>
<dt><strong>Address:</strong> <code>127.127.20.<em>u</em></code></dt>
<dd><strong>Reference ID:</strong> <code>GPS</code></dd>
<dd><strong>Driver ID:</strong> <code>GPS_NMEA</code></dd>
<dd><strong>Serial Port:</strong> <code>/dev/gps_<em>u</em></code>; 4800 baud, 8-bits, no parity</dd>
<dd><strong>Features:</strong> <code>tty_clk</code></dd>
</dl>
<hr>
<h4 id="description">Description</h4>
<p>This driver supports GPS&rsquo;s with the <code>$GPRMC</code> NMEA output string. The driver expects the GPS to be set up to transmit a <code>$GPRMC</code> message every second.</p>
<p>The accuracy depends on the GPS used. Inexpensive GPS models are available with a claimed PPS signal accuracy of 1 Î¼s or better relative to the broadcast signal. However, in most cases the actual accuracy is limited by the precision of the timecode and the latencies of the serial interface and operating system.</p>
<p>The <code>$GPRMC</code> message that the GPS transmits look like this:</p>
<pre>$GPRMC,POS_UTC,POS_STAT,LAT,LAT_REF,LON,LON_REF,SPD,HDG,DATE,MAG_VAR,MAG_REF*CC&lsaquo;cr&rsaquo;&lsaquo;lf&rsaquo;

  POS_UTC  - UTC of position. Hours, minutes and seconds. (hhmmss)
  POS_STAT - Position status. (A = Data valid, V = Data invalid)
  LAT      - Latitude (llll.ll)
  LAT_REF  - Latitude direction. (N = North, S = South)
  LON      - Longitude (yyyyy.yy)
  LON_REF  - Longitude direction (E = East, W = West)
  SPD      - Speed over ground. (knots) (x.x)
  HDG      - Heading/track made good (degrees True) (x.x)
  DATE     - Date (ddmmyy)
  MAG_VAR  - Magnetic variation (degrees) (x.x)
  MAG_REF  - Magnetic variation (E = East, W = West)
  CC       - Checksum (optional)
  &lsaquo;cr&rsaquo;&lsaquo;lf&rsaquo; - Sentence terminator.
</pre>
<p>The driver will send a <code>$PMOTG,RMC,0000*1D&lt;cr&gt;&lt;lf&gt;</code> message each time a <code>$GPRMC</code> string is needed. This is not needed on most GPS receivers because they automatically send the <code>$GPRMC</code> string every second and will only work on GPS receivers that understand the <code>$PMOTG</code> string. Others will just ignore it.</p>
<hr>
<h4 id="setting-up-the-garmin-gps-25xl">Setting up the Garmin GPS-25XL</h4>
<p>Switch off all output by sending it the following string.</p>
<p><code>&quot;$PGRMO,,2&lt;cr&gt;&lt;lf&gt;&quot;</code></p>
<p>Now switch only <code>$GPRMC</code> on by sending it the following string.</p>
<p><code>&quot;$PGRMO,GPRMC,1&lt;cr&gt;&lt;lf&gt;&quot;</code></p>
<p>On some systems the PPS signal isn&rsquo;t switched on by default. It can be switched on by sending the following string.</p>
<p><code>&quot;$PGRMC,,,,,,,,,,,,2&lt;cr&gt;&lt;lf&gt;&quot;</code></p>
<hr>
<h4 id="monitor-data">Monitor Data</h4>
<p>The <code>$GPRMC</code> string that is used is written to the clockstats file.</p>
<hr>
<h4 id="fudge-factors">Fudge Factors</h4>
<dl>
<dt><code><strong>time1 <em>time</em></strong></code></dt>
<dd>
<p>Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.</p>
</dd>
<dt><code><strong>time2 <em>time</em></strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>stratum <em>number</em></strong></code></dt>
<dd>
<p>Specifies the driver stratum, in decimal from 0 to 15, with default 0.</p>
</dd>
<dt><code><strong>refid <em>string</em></strong></code></dt>
<dd>
<p>Specifies the driver reference identifier, an ASCII string from one to four characters, with default <code>GPS</code>.</p>
</dd>
<dt><code><strong>flag1 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag2 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag3 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag4 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
</dl>
<hr>
<h4 id="additional-information">Additional Information</h4>
<p><a href="https://www.ntp.org/documentation/3-5.93e/refclock/">Reference Clock Drivers</a></p>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="https://www.ntp.org/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="https://www.ntp.org/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="https://www.ntp.org/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2023 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>