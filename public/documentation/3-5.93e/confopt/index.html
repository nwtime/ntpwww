<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8"><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<link rel="canonical" href="https://doc.ntp.org/documentation/3-5.93e/confopt/" />
  
  <meta property="og:title" content="Configuration Options" />
<meta property="og:description" content="Configuration Commands  peer address [key key ] [version version] [prefer] [minpoll minpoll] [maxpoll maxpoll] server address [key key ] [version version] [prefer] [mode mode] broadcast address [key key ] [version version] [ttl ttl]  These three commands specify the time server name or address address to be used and the mode in which to operate. The address can be either a DNS name or a IP address in dotted-quad notation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://doc.ntp.org/documentation/3-5.93e/confopt/" /><meta property="og:image" content="https://doc.ntp.org/images/NTPLogo800x418.webp"/><meta property="article:section" content="documentation" />

<meta property="article:modified_time" content="2022-05-04T17:05:38&#43;01:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://doc.ntp.org/images/NTPLogo800x418.webp"/>

<meta name="twitter:title" content="Configuration Options"/>
<meta name="twitter:description" content="Configuration Commands  peer address [key key ] [version version] [prefer] [minpoll minpoll] [maxpoll maxpoll] server address [key key ] [version version] [prefer] [mode mode] broadcast address [key key ] [version version] [ttl ttl]  These three commands specify the time server name or address address to be used and the mode in which to operate. The address can be either a DNS name or a IP address in dotted-quad notation."/>





<script async src="https://www.googletagmanager.com/gtag/js?id=G-BN61ZTDHBP"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BN61ZTDHBP', { 'anonymize_ip': true });
</script>




<script>
window.onload = demo;
function demo() {
    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search...")
}
</script>


<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "c33igkoodm");
</script>


  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>Configuration Options</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The NTP Project conducts Research and Development in NTP, a protocol designed to synchronize the clocks of computers over a network to a common timebase.">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://doc.ntp.org/scss/nwtime.min.4076252e84f6b88920097824ca49d445.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://doc.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://doc.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://doc.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://doc.ntp.org/"><img height="80" width="80" src="https://doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/documentation/">Documentation</a>
        </button>
      
    </div>



<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>

</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/documentation/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/documentation/3-5.93e/">3-5.93e</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://doc.ntp.org/documentation/3-5.93e/confopt/">Configuration Options</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Configuration Options</h1> 
    <p style="font-size: small; color: grey;">Last update: May 4, 2022 17:05 UTC (<a href="https://bitbucket.nwtime.org/projects/WEBSITES/repos/ntpwww/commits/dbea9b7d4daf047a65cdfd64d621e7efa23484da">dbea9b7d4</a>)</p>
	<h4 id="configuration-commands">Configuration Commands</h4>
<dl>
<dt><code><strong>peer <em>address</em> [key <em>key</em> ] [version <em>version</em>] [prefer] [minpoll <em>minpoll</em>] [maxpoll <em>maxpoll</em>]</strong></code></dt>
<dd><code><strong>server <em>address</em> [key <em>key</em> ] [version <em>version</em>] [prefer] [mode <em>mode</em>]</strong></code></dd>
<dd><code><strong>broadcast <em>address</em> [key <em>key</em> ] [version <em>version</em>] [ttl <em>ttl</em>]</strong></code></dd>
<dd>
<p>These three commands specify the time server name or address <code><em>address</em></code> to be used and the mode in which to operate. The <em>address</em> can be either a DNS name or a IP address in dotted-quad notation. The <code>peer</code> command specifies that the local server is to operate in symmetric active mode with the remote server. In this mode, the local server can be synchronized to the remote server and, in addition, the remote server can be synchronized by the local server. This is useful in a network of servers where, depending on various failure scenarios, either the local or remote server may be the better source of time.</p>
</dd>
</dl>
<p>The <code>server</code> command specifies that the local server is to operate in client mode with the specified remote server. In this mode, the local server can be synchronized to the remote server, but the remote server can never be synchronized to the local server.</p>
<p>The <code>broadcast</code> command specifies that the local server is to operate in broadcast mode, where the local server sends periodic broadcast messages to a client population at the broadcast/multicast <code><em>address</em></code> specified. Ordinarily, this specification applies only to the local server operating as a sender; for operation as a broadcast client, see the <code>broadcastclient</code> or <code>multicastclient</code> commands below. In this mode, <code><em>address</em></code> is usually the broadcast address on (one of) the local network(s) or a multicast address assigned to NTP. The Numbers Czar has assigned the address 224.0.1.1 to NTP; this is presently the only address that should be used. Note that the use of multicast features requires a multicast kernel, which is not yet ubiquitous in vendor products.</p>
<dl>
<dt><code>key <em>key</em></code></dt>
<dd>
<p>All packets sent to the address are to include authentication fields encrypted using the specified key identifier, which is an unsigned 32 bit integer. The default is to not include an encryption field.</p>
</dd>
<dt><code>version <em>version</em></code></dt>
<dd>
<p>Specifies the version number to be used for outgoing NTP packets. Versions 1, 2, and 3 are the choices, with version 3 the default.</p>
</dd>
</dl>
<p><code>prefer</code></p>
<p>Marks the server as preferred. All other things being equal, this host will be chosen for synchronization among a set of correctly operating hosts. See the <a href="https://doc.ntp.org/documentation/3-5.93e/prefer/">Mitigation Rules and the <code>prefer</code> Keyword</a> page for further information.</p>
<dl>
<dt><code>ttl <em>ttl</em></code></dt>
<dd>
<p>This option is used only with broadcast mode. It specifies the time- to-live ttl to use on multicast packets. Selection of the proper value, which defaults to 127, is something of a black art and must be coordinated with the network administrator(s).</p>
</dd>
<dt><code>minpoll <em>minpoll</em></code></dt>
<dd>
<p>This option specifies the minimum polling interval for NTP messages, in seconds to the power of two. The allowable range is 4 (16 s to 14 (16384 s) inclusive. The default is 6 (64 s) for all except reference clocks.</p>
</dd>
<dt><code>maxpoll <em>maxpoll</em></code></dt>
<dd>
<p>This option specifies the maximum polling interval for NTP messages, in seconds to the power of two. The allowable range is 4 (16 s to 14 (16384 s) inclusive. The default is 10 (1024 s) for all except reference clocks.</p>
</dd>
<dt><code><strong>broadcastclient [ <em>address</em> ]</strong></code></dt>
<dd>
<p>This command directs the local server to listen for broadcast messages at the broadcast address <code><em>address</em></code> of the local network. The default address is the subnet address with the host field bits set to ones. Upon hearing a broadcast message for the first time, the local server measures the nominal network delay using a brief client/server exchange with the remote server, then enters the broadcastclient mode, in which it listens for and synchronizes to succeeding broadcast messages. Note that, in order to avoid accidental or malicious disruption in this mode, both the local and remote servers should operate using authentication and the same trusted key and key identifier.</p>
</dd>
<dt><code><strong>multicastclient [ <em>address</em> ] [ &hellip; ]</strong></code></dt>
<dd>
<p>This command directs the local server to listen for multicast messages at the group <code><em>address</em></code>(es) of the global network. The default address is that assigned by the Numbers Czar to NTP (224.0.1.1). This command operates in the same way as the <code>broadcastclient</code> command, but uses IP multicasting. Support for this command requires a multicast kernel.</p>
</dd>
<dt><code><strong>driftfile <em>driftfile</em></strong></code></dt>
<dd>
<p>This command specifies the name of the file used to record the frequency offset of the local clock oscillator. If the file exists, it is read at startup in order to set the initial frequency offset and then updated once per hour with the current frequency offset computed by the daemon. If the file does not exist or this command is not given, the initial frequency offset is assumed zero. In this case, it may take some hours for the frequency to stabilize and the residual timing errors to subside.</p>
</dd>
</dl>
<p>The <code>ntp.drift</code> file format consists of a single line containing a single floating point number, which records the frequency offset measured in parts-per-million (PPM). That the file is updated once per hour by first writing the current drift value into a temporary file and then renaming this file to replace the old version. This implies that <code>xntpd</code> must have write permission for the directory the drift file is located in, and that file system links, symbolic or otherwise, should probably be avoided.</p>
<dl>
<dt><code><strong>enable auth | bclient | monitor | pll | pps | stats</strong></code></dt>
<dd><code><strong>disable auth | bclient | monitor | pll | pps | stats</strong></code></dd>
<dd>
<p>Provides a way to enable or disable various server options. Flags not mentioned are unaffected. Note that all of these flags can be controlled remotely using the <a href="https://doc.ntp.org/documentation/3-5.93e/xntpdc/"><code>xntpdc</code></a> utility program.</p>
</dd>
<dt><code>auth</code></dt>
<dd>
<p>Enables the server to synchronize with unconfigured peers only if the peer has been correctly authenticated using a trusted key and key identifier. The default for this flag is enable.</p>
</dd>
<dt><code>bclient</code></dt>
<dd>
<p>Enables the server to listen for a message from a broadcast or multicast server, as in the <code>multicastclient</code> command with default address. The default for this flag is disable.</p>
</dd>
<dt><code>monitor</code></dt>
<dd>
<p>Enables the monitoring facility. See the <code>xntpdc</code> program and the <code>monlist</code> command or further information. The default for this flag is enable.</p>
</dd>
<dt><code>pll</code></dt>
<dd>
<p>Enables the server to adjust its local clock by means of NTP. If disabled, the local clock free-runs at its intrinsic time and frequency offset. This flag is useful in case the local clock is controlled by some other device or protocol and NTP is used only to provide synchronization to other clients. In this case, the local clock driver is used. See the <a href="https://doc.ntp.org/documentation/3-5.93e/refclock/">Reference Clock Drivers</a> page for further information. The default for this flag is enable.</p>
</dd>
<dt><code>pps</code></dt>
<dd>
<p>Enables the pulse-per-second (PPS) signal when frequency and time is disciplined by the precision time kernel modifications. See the <a href="https://doc.ntp.org/documentation/3-5.93e/kern/">A Kernel Model for Precision Timekeeping</a> page for further information. The default for this flag is disable.</p>
</dd>
<dt><code>stats</code></dt>
<dd>
<p>Enables the statistics facility. See the <a href="https://doc.ntp.org/documentation/3-5.93e/monopt/">Monitoring Options</a> page for further information. The default for this flag is enable.</p>
</dd>
<dt><code><strong>tick value</strong></code></dt>
<dd>
<p>If no value for <code>tick</code> can be found from the kernel, use this value. This is the &ldquo;normalized&rdquo; value; if your system keeps <code>tick</code> in nanoseconds you must divide your value by 1000. The expected range of the value is between 900 and 11,000 (don&rsquo;t use the comma in the config file).</p>
</dd>
<dt><code><strong>tickadj value</strong></code></dt>
<dd>
<p>If no value for <code>tickadj</code> can be found in the kernel, use this value. The value must be &ldquo;normalized&rdquo;; if your system keeps <code>tickadj</code> in nanoseconds you must divide your value by 1000. The expected range of the value is between 1 and 50.</p>
</dd>
</dl>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="https://doc.ntp.org/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="https://doc.ntp.org/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="https://doc.ntp.org/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2023 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>