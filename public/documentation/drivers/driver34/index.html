<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW"><link rel="canonical" href="https://www.ntp.org/documentation/drivers/driver34/" />
  
  <meta property="og:title" content="Ultralink Clock" />
<meta property="og:description" content="The Ultralink Clock driver supports the Ultralink Model 325 RS-232 powered WWVB receiver." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ntp.org/documentation/drivers/driver34/" /><meta property="og:image" content="https://www.ntp.org/images/NTPLogo800x418.webp"/><meta property="article:section" content="documentation" />

<meta property="article:modified_time" content="2022-05-04T17:05:38&#43;01:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />




<script async src="https://www.googletagmanager.com/gtag/js?id=G-BN61ZTDHBP"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BN61ZTDHBP', { 'anonymize_ip': true });
</script>




<script>
window.onload = demo;
function demo() {
    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search...")
}
</script>


<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "c33igkoodm");
</script>


  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>Ultralink Clock</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The Ultralink Clock driver supports the Ultralink Model 325 RS-232 powered WWVB receiver.">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://www.ntp.org/scss/nwtime.min.1de55a903767bacfaee426f1958345df.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://www.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://www.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://www.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://www.ntp.org/"><img height="80" width="80" src="https://www.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/documentation/">Documentation</a>
        </button>
      
    </div>



<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>

</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/documentation/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/documentation/drivers/">Drivers</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://www.ntp.org/documentation/drivers/driver34/">Ultralink Clock</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Ultralink Clock</h1> 
    <p style="font-size: small; color: grey;">Last update: May 4, 2022 17:05 UTC (<a href="https://bitbucket.nwtime.org/projects/WEBSITES/repos/ntpwww/commits/dbea9b7d4daf047a65cdfd64d621e7efa23484da">dbea9b7d4</a>)</p>
	<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#synopsis">Synopsis</a></li>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#description">Description</a></li>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#model-325-timecode-format">Model 325 timecode format</a></li>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#model-320-timecode-format">Model 320 timecode format</a></li>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#model-33x-timecode-format">Model 33x timecode format</a></li>
<li><a href="https://www.ntp.org/documentation/drivers/driver34/#fudge-factors">Fudge factors</a></li>
</ul>
<hr>
<h4 id="synopsis">Synopsis</h4>
<dl>
<dt><strong>Address:</strong> <code>127.127.34.<em>u</em></code></dt>
<dd><strong>Reference ID:</strong> <code>WWVB</code></dd>
<dd><strong>Driver ID:</strong> <code>ULINK</code></dd>
<dd><strong>Serial Port:</strong> <code>/dev/wwvb<em>u</em></code>; 9600 bps, 8-bits, no parity</dd>
<dd><strong>Features:</strong> none</dd>
</dl>
<hr>
<h4 id="description">Description</h4>
<p>This driver supports the Ultralink Model 325 (replacement for Model 320) RS-232 powered WWVB receiver.</p>
<p>This driver also supports the Model 320, 330, 331, and 332 decoders in both polled or continous time code mode. Leap second and quality are supported. Most of this code is originally from <code>refclock_wwvb.c</code> with thanks. Any mistakes are mine. Any improvements are welcome.</p>
<hr>
<h4 id="model-325-timecode-format">Model 325 timecode format</h4>
<p><code>&lt;cr&gt;&lt;lf&gt;RQ_1C00LYYYY+DDDUTCS_HH:MM:SSL+5</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RQ</code></td>
<td>Signal readability indicator, ranging from R1 to R5 where R1 is unreadable, R5 is best reception</td>
</tr>
<tr>
<td><code>_</code></td>
<td>Space</td>
</tr>
<tr>
<td><code>1</code></td>
<td>prev. received data bit, values: 0, 1, M, or ? unknown</td>
</tr>
<tr>
<td><code>C</code></td>
<td>Signal reception from <code>C</code>olorado or <code>H</code>awaii</td>
</tr>
<tr>
<td><code>00</code></td>
<td>Hours since last WWVB time and flag code update, values 00 to 99 (hopefully always 00)</td>
</tr>
<tr>
<td><code>L</code></td>
<td>HEX A5 if receiver is locked to WWVB, Space if not</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>Year from 2000 to 2099</td>
</tr>
<tr>
<td><code>+</code></td>
<td><code>+</code> if current year is a leap year, else ''</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>current day in the year from 1 to 365/366</td>
</tr>
<tr>
<td><code>UTC</code></td>
<td>timezone (always UTC)</td>
</tr>
<tr>
<td><code>S</code></td>
<td>Daylight savings indicator<br> <code>S</code>TD<br> <code>D</code>ST<br> <code>O</code> transition into DST<br> <code>I</code> transition out of DST</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>UTC hour 0 to 23</td>
</tr>
<tr>
<td><code>:</code></td>
<td>Time delimiter: <code>:</code> if synced, space if not</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Minutes of current hour from 0 to 59</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>Seconds of current minute from 0 to 59</td>
</tr>
<tr>
<td><code>mm</code></td>
<td>10&rsquo;s milliseconds of the current second from 00 to 99</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Leap second pending at end of month: <code>I</code>nsert, <code>D</code>elete, or space</td>
</tr>
<tr>
<td><code>+5</code></td>
<td>UT1 correction in +/- .1 sec increments</td>
</tr>
</tbody>
</table>
<p>Note that Model 325 reports a very similar output like Model 33X series. The driver for this clock is similar to Model 33X behavior. On a unmodified new ULM325 clock, the polling flag (<code>flag1 =1</code>) needs to be set.</p>
<hr>
<h4 id="model-320-timecode-format">Model 320 timecode format</h4>
<p><code>&lt;cr&gt;&lt;lf&gt;SQRYYYYDDD+HH:MM:SS.mmLT&lt;cr&gt;</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S</code></td>
<td><code>S</code>: sync&rsquo;d in last hour<br> 0-9: hours x 10 since last update<br> else <code>?</code></td>
</tr>
<tr>
<td><code>Q</code></td>
<td>Number of correlating timeframes, from 0 to 5</td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>R</code>: reception in progress<br> <code>N</code>: Noisy reception<br> '' standby mode</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>year from 1990 to 2089</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>current day from 1 to 366<br> <code>+</code> if current year is a leap year</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>UTC hour 0 to 23</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Minutes of current hour from 0 to 59</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>Seconds of current minute from 0 to 59</td>
</tr>
<tr>
<td><code>mm</code></td>
<td>10&rsquo;s milliseconds of the current second from 00 to 99</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Leap second pending at end of month<br> <code>I</code>: insert<br> <code>D</code> delete</td>
</tr>
<tr>
<td><code>T</code></td>
<td>DST to STD transition indicators</td>
</tr>
</tbody>
</table>
<p>Note that this driver does not do anything with the <code>T</code> flag. The M320 also has a <code>U</code> command which returns UT1 correction information. It is not used in this driver.</p>
<hr>
<h4 id="model-33x-timecode-format">Model 33x timecode format</h4>
<p><code>S9+D 00 YYYY+DDDUTCS HH:MM:SSl+5</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S</code></td>
<td>sync indicator<br> <code>S</code> insync<br> <code>N</code> not in sync<br> the sync flag is WWVB decoder<br> sync has nothing to do with time being correct</td>
</tr>
<tr>
<td><code>9+</code></td>
<td>signal level 0 thru 9+<br> If over 9, indicated as 9</td>
</tr>
<tr>
<td><code>D</code></td>
<td>data bit (fun to watch but useless), space</td>
</tr>
<tr>
<td><code>00</code></td>
<td>hours since last good WWVB frame sync space</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>current year<br> <code>+</code> leap year indicator</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>day of year</td>
</tr>
<tr>
<td><code>UTC</code></td>
<td>timezone (always UTC)</td>
</tr>
<tr>
<td><code>S</code></td>
<td>daylight savings indicator space</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>hours : This is the real in-sync indicator where <code>:</code> means insync</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>minutes<br> <code>:</code> in sync<br> <code>?</code> NOT in sync</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>seconds</td>
</tr>
<tr>
<td><code>L</code></td>
<td>leap second flag</td>
</tr>
<tr>
<td><code>+5</code></td>
<td>UT1 correction (sign + digit)</td>
</tr>
</tbody>
</table>
<p>This driver ignores UT1 correction, DST indicator, Leap year, and signal level.</p>
<hr>
<h4 id="fudge-factors">Fudge factors</h4>
<dl>
<dt>flag1 polling enable</dt>
<dd><code>1</code>=poll</dd>
<dd><code>0</code>=no poll</dd>
</dl>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="https://www.ntp.org/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="https://www.ntp.org/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="https://www.ntp.org/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2022 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>