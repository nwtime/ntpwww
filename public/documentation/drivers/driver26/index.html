<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW"><meta property="og:title" content="Hewlett Packard 58503A GPS Receiver and HP Z3801A" />
<meta property="og:description" content="Table of Contents  Synopsis Description Fudge Factors   Synopsis  Address: 127.127.26.u Reference ID: GPS Driver ID: GPS_HP Serial Port: /dev/hpgpsu; 9600 baud, 8-bits, no parity, 19200 baud 7-bits, odd parity for the HP Z3801A   Description This driver supports the HP 58503A Time and Frequency Reference Receiver and HP Z3801A GPS Receiver which use HP SmartClock (TM) to implement an Enhanced GPS receiver. The receiver accuracy when locked to GPS in normal operation is better than 1 μs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://test.doc.ntp.org/documentation/drivers/driver26/" /><meta property="article:section" content="documentation" />

<meta property="article:modified_time" content="2022-05-24T16:19:31&#43;01:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />






  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>Hewlett Packard 58503A GPS Receiver and HP Z3801A</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://test.doc.ntp.org/scss/nwtime.min.d583f4e59d35207a473045a722afed7a.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://test.doc.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://test.doc.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://test.doc.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://test.doc.ntp.org/"><img height="80" width="80" src="https://test.doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://test.doc.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://test.doc.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://test.doc.ntp.org/documentation/">Documentation</a>
        </button>
      
    </div>



</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/documentation/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/documentation/drivers/">Drivers</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://test.doc.ntp.org/documentation/drivers/driver26/">Hewlett Packard 58503A GPS Receiver and HP Z3801A</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Hewlett Packard 58503A GPS Receiver and HP Z3801A</h1>
     
    <p style="font-size: small; color: grey;">Last update: May 24, 2022 16:19 UTC (<a href="https://bitbucket.nwtime.org/projects/WEBSITES/repos/ntpwww/commits/c7839f65bfdbd8dbf2763533ee5cdc41b867e86e">c7839f65b</a>)</p>
	<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="/documentation/drivers/driver26/#synopsis">Synopsis</a></li>
<li><a href="/documentation/drivers/driver26/#description">Description</a></li>
<li><a href="/documentation/drivers/driver26/#fudge-factors">Fudge Factors</a></li>
</ul>
<hr>
<h4 id="synopsis">Synopsis</h4>
<dl>
<dt><strong>Address:</strong> <code>127.127.26.<em>u</em></code></dt>
<dd><strong>Reference ID:</strong> <code>GPS</code></dd>
<dd><strong>Driver ID:</strong> <code>GPS_HP</code></dd>
<dd><strong>Serial Port:</strong> <code>/dev/hpgps<em>u</em></code>; 9600 baud, 8-bits, no parity, 19200 baud 7-bits, odd parity for the HP Z3801A</dd>
</dl>
<hr>
<h4 id="description">Description</h4>
<p>This driver supports the HP 58503A Time and Frequency Reference Receiver and HP Z3801A GPS Receiver which use HP SmartClock (TM) to implement an Enhanced GPS receiver. The receiver accuracy when locked to GPS in normal operation is better than 1 μs. The accuracy when operating in holdover is typically better than 10 μs per day. Its receiver should be operated with factory default settings. Initial driver operation expects the receiver to be already locked to GPS, configured and able to output timecode format 2 messages.</p>
<p>The driver uses the poll sequence <code>:PTIME:TCODE?</code> to get a response from the receiver. The receiver responds with a timecode string of ASCII printing characters, followed by a <code>&lt;cr&gt;&lt;lf&gt;</code>, followed by a prompt string issued by the receiver in the following format:</p>
<pre>T#yyyymmddhhmmssMFLRVcc&lsaquo;cr&rsaquo;&lsaquo;lf&rsaquo;scpi ></pre>
<p>The driver processes the response at the <code>&lt;cr&gt;</code> and <code>&lt;lf&gt;</code>, so what the driver sees is the prompt from the previous poll, followed by this timecode. The prompt from the current poll is (usually) left unread until the next poll. So (except on the very first poll) the driver sees this:</p>
<pre>scpi >T#yyyymmddhhmmssMFLRVcc&lsaquo;cr&rsaquo;&lsaquo;lf&rsaquo;</pre>
<p>The <code>T</code> is the on-time character, at 980 ms before the next 1PPS edge. The <code>#</code> is the timecode format type. We look for format 2. Without any of the CLK or PPS stuff, then, the receiver buffer timestamp at the <code>&lt;cr&gt;</code> is 24 characters later, which is about 25 ms at 9600 bps, so the first approximation for <code>fudge time1</code> is nominally -0.955 seconds. This number probably needs adjusting for each machine and operating system type. So far, -0.955000 on an HP 9000 Model 712/80 HP-UX and 9.05 -0.953175 on an HP 9000 Model 370 HP-UX 9.10.</p>
<p>This driver will probably work with the 58503B and 59551A if they are setup appropriately.</p>
<p>To use an HP Z3801A, specify <code>mode 1</code> on the server config line to setup the right line parameters.</p>
<p>The timekeeping portion of HP&rsquo;s business was sold to Symmetricom which was later acquired by <a href="https://www.microchip.com/en-us/products/clock-and-timing">Microchip</a>.</p>
<hr>
<h4 id="fudge-factors">Fudge Factors</h4>
<dl>
<dt><code><strong><em>time</em></strong></code></dt>
<dd>
<p>Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.</p>
</dd>
<dt><code><strong>time2 <em>time</em></strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>stratum <em>number</em></strong></code></dt>
<dd>
<p>Specifies the driver stratum, in decimal from 0 to 15, with default 0.</p>
</dd>
<dt><code><strong>refid <em>string</em></strong></code></dt>
<dd>
<p>Specifies the driver reference identifier, an ASCII string from one to four characters, with default <code>GPS</code>.</p>
</dd>
<dt><code><strong>flag1 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag2 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag3 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
<dt><code><strong>flag4 0 | 1</strong></code></dt>
<dd>
<p>Not used by this driver.</p>
</dd>
</dl>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2022 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>