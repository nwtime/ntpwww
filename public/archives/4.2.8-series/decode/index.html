<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8"><meta name = "robots" content = "noindex">


  
  <meta name="description" content=" from Alice&rsquo;s Adventures in Wonderland, Lewis Carroll
Caterpillar knows all the error codes, which is more than most of us do.
Last update: â€¦">
<meta property="og:title" content="Event Messages and Status Words" />
<meta property="og:description" content="from Alice&rsquo;s Adventures in Wonderland, Lewis Carroll
Caterpillar knows all the error codes, which is more than most of us do.
Last update: 26-Jul-2015 06:26 UTC
 Table of Contents  Introduction System Status Word Peer Status Word Clock Status Word Flash Status Word Kiss Codes Crypto Messages   Introduction This page lists the status words, event messages and error codes used for ntpd reporting and monitoring. Status words are used to display the current status of the running program." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://test.doc.ntp.org/archives/4.2.8-series/decode/" /><meta property="article:section" content="archives" />

<meta property="og:site_name" content="NTP: Network Time Protocol" />




  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>Event Messages and Status Words</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://test.doc.ntp.org/scss/nwtime.min.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://test.doc.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://test.doc.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://test.doc.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://test.doc.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://test.doc.ntp.org/"><img height="80" width="80" src="https://test.doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" id="dropdownMenu2" aria-expanded="false"><a class="nav-item" style="text-decoration: none" href="https://test.doc.ntp.org/support">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" id="dropdownMenu2" aria-expanded="false"><a class="nav-item" style="text-decoration: none" href="https://test.doc.ntp.org/reflib">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" id="dropdownMenu2" aria-expanded="false"><a class="nav-item" style="text-decoration: none" href="https://test.doc.ntp.org/documentation">Documentation</a>
        </button>
      
    </div>


<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>
</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/documentation/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/archives/4.2.8-series/">4.2.8-series</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://test.doc.ntp.org/archives/4.2.8-series/decode/">Event Messages and Status Words</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Event Messages and Status Words</h1>
     
    <p><img src="/archives/pic/alice47.gif" alt="gif"> <a href="/reflib/pictures/">from <em>Alice&rsquo;s Adventures in Wonderland</em>, Lewis Carroll</a></p>
<p>Caterpillar knows all the error codes, which is more than most of us do.</p>
<p>Last update: 26-Jul-2015 06:26 UTC</p>
<hr>
<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="/archives/4.2.8-series/decode/#introduction">Introduction</a></li>
<li><a href="/archives/4.2.8-series/decode/#system-status-word">System Status Word</a></li>
<li><a href="/archives/4.2.8-series/decode/#peer-status-word">Peer Status Word</a></li>
<li><a href="/archives/4.2.8-series/decode/#clock-status-word">Clock Status Word</a></li>
<li><a href="/archives/4.2.8-series/decode/#flash-status-word">Flash Status Word</a></li>
<li><a href="/archives/4.2.8-series/decode/#kiss-codes">Kiss Codes</a></li>
<li><a href="/archives/4.2.8-series/decode/#crypto-messages">Crypto Messages</a></li>
</ul>
<hr>
<h4 id="introduction">Introduction</h4>
<p>This page lists the status words, event messages and error codes used for <code>ntpd</code> reporting and monitoring. Status words are used to display the current status of the running program. There is one system status word and a peer status word for each association. There is a clock status word for each association that supports a reference clock. There is a flash code for each association which shows errors found in the last packet received (pkt) and during protocol processing (peer). These are commonly viewed using the <a href="/archives/4.2.8-series/ntpq/"><code>ntpq</code></a> program.</p>
<p>Significant changes in program state are reported as events. There is one set of system events and a set of peer events for each association. In addition, there is a set of clock events for each association that supports a reference clock. Events are normally reported to the <code>protostats</code> monitoring file and optionally to the system log. In addition, if the trap facility is configured, events can be reported to a remote program that can page an administrator.</p>
<p>This page also includes a description of the error messages produced by the Autokey protocol. These messages are normally sent to the <code>cryptostats</code> monitoring file.</p>
<p>In the following tables the Code is the status or event code assigned and the Message is a short string used for display and event reporting. The Description contains a longer explanation of the status or event. Some messages include additional information useful for error diagnosis and performance assessment.</p>
<hr>
<h4 id="system-status-word">System Status Word</h4>
<p>The system status word consists of four fields LI (0-1), Source (2-7), Count (8-11) and Event (12-15). It is reported in the first line of the <code>rv</code> display produced by the <code>ntpq</code> program.</p>
<p>The <strong>Leap Field</strong> displays the system leap indicator bits coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>leap_none</td>
<td>normal synchronized state</td>
</tr>
<tr>
<td>1</td>
<td>leap_add_sec</td>
<td>insert second after 23:59:59 of the current day</td>
</tr>
<tr>
<td>2</td>
<td>leap_del_sec</td>
<td>delete second 23:59:59 of the current day</td>
</tr>
<tr>
<td>3</td>
<td>leap_alarm</td>
<td>never synchronized</td>
</tr>
</tbody>
</table>
<p>The <strong>Source Field</strong> displays the current synchronization source coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>sync_unspec</td>
<td>not yet synchronized</td>
</tr>
<tr>
<td>1</td>
<td>sync_pps</td>
<td>pulse-per-second signal (Cs, Ru, GPS, etc.)</td>
</tr>
<tr>
<td>2</td>
<td>sync_lf_radio</td>
<td>VLF/LF radio (WWVB, DCF77, etc.)</td>
</tr>
<tr>
<td>3</td>
<td>sync_hf_radio</td>
<td>MF/HF radio (WWV, etc.)</td>
</tr>
<tr>
<td>4</td>
<td>sync_uhf_radio</td>
<td>VHF/UHF radio/satellite (GPS, Galileo, etc.)</td>
</tr>
<tr>
<td>5</td>
<td>sync_local</td>
<td>local timecode (IRIG, LOCAL driver, etc.)</td>
</tr>
<tr>
<td>6</td>
<td>sync_ntp</td>
<td>NTP</td>
</tr>
<tr>
<td>7</td>
<td>sync_other</td>
<td>other (IEEE 1588, openntp, crony, etc.)</td>
</tr>
<tr>
<td>8</td>
<td>sync_wristwatch</td>
<td>eyeball and wristwatch</td>
</tr>
<tr>
<td>9</td>
<td>sync_telephone</td>
<td>telephone modem (ACTS, PTB, etc.)</td>
</tr>
</tbody>
</table>
<p>The <strong>Count Field</strong> displays the number of events since the last time the code changed. Upon reaching 15, subsequent events with the same code are ignored.</p>
<p>The <strong>Event Field</strong> displays the most recent event message coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>00</td>
<td>unspecified</td>
<td>unspecified</td>
</tr>
<tr>
<td>01</td>
<td>freq_not_set</td>
<td>frequency file not available</td>
</tr>
<tr>
<td>02</td>
<td>freq_set</td>
<td>frequency set from frequency file</td>
</tr>
<tr>
<td>03</td>
<td>spike_detect</td>
<td>spike detected</td>
</tr>
<tr>
<td>04</td>
<td>freq_mode</td>
<td>initial frequency training mode</td>
</tr>
<tr>
<td>05</td>
<td>clock_sync</td>
<td>clock synchronized</td>
</tr>
<tr>
<td>06</td>
<td>restart</td>
<td>program restart</td>
</tr>
<tr>
<td>07</td>
<td>panic_stop</td>
<td>clock error more than 600 s</td>
</tr>
<tr>
<td>08</td>
<td>no_system_peer</td>
<td>no system peer</td>
</tr>
<tr>
<td>09</td>
<td>leap_armed</td>
<td>leap second armed from file or Autokey</td>
</tr>
<tr>
<td>0a</td>
<td>leap_disarmed</td>
<td>leap second disarmed</td>
</tr>
<tr>
<td>0b</td>
<td>leap_event</td>
<td>leap event</td>
</tr>
<tr>
<td>0c</td>
<td>clock_step</td>
<td>clock stepped</td>
</tr>
<tr>
<td>0d</td>
<td>kern</td>
<td>kernel information message</td>
</tr>
<tr>
<td>0e</td>
<td>TAI&hellip;</td>
<td>leapsecond values update from file</td>
</tr>
<tr>
<td>0f</td>
<td>stale leapsecond values</td>
<td>new NIST leapseconds file needed</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="peer-status-word">Peer Status Word</h4>
<p>The peer status word consists of four fields: Status (0-4), Select (5-7), Count (8-11) and Code (12-15). It is reported in the first line of the <code>rv <em>associd</em></code> display produced by the <code>ntpq</code> program.</p>
<p>The <strong>Status Field</strong> displays the peer status code bits in hexadecimal; each bit is an independent flag. <strong>Note this field is 5 bits wide, and combines with the 3-bit-wide Select Field to create the first full byte of the peer status word.</strong> The meaning of each bit in the Status Field is listed in the following table:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>08</td>
<td>bcst</td>
<td>broadcast association</td>
</tr>
<tr>
<td>10</td>
<td>reach</td>
<td>host reachable</td>
</tr>
<tr>
<td>20</td>
<td>auth</td>
<td>authentication ok</td>
</tr>
<tr>
<td>40</td>
<td>authenb</td>
<td>authentication enabled</td>
</tr>
<tr>
<td>80</td>
<td>config</td>
<td>persistent association</td>
</tr>
</tbody>
</table>
<p>The <strong>Select Field</strong> displays the current selection status. The T Field gives the corresponding tally codes used in the <code>ntpq peers</code> display. The values are coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>T</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>sel_reject</td>
<td></td>
<td>discarded as not valid (TEST10-TEST13)</td>
</tr>
<tr>
<td>1</td>
<td>sel_falsetick</td>
<td>x</td>
<td>discarded by intersection algorithm</td>
</tr>
<tr>
<td>2</td>
<td>sel_excess</td>
<td>.</td>
<td>discarded by table overflow (not used)</td>
</tr>
<tr>
<td>3</td>
<td>sel_outlier</td>
<td>-</td>
<td>discarded by the cluster algorithm</td>
</tr>
<tr>
<td>4</td>
<td>sel_candidate</td>
<td>+</td>
<td>included by the combine algorithm</td>
</tr>
<tr>
<td>5</td>
<td>sel_backup</td>
<td>#</td>
<td>backup (more than <code>tos maxclock</code> sources)</td>
</tr>
<tr>
<td>6</td>
<td>sel_sys.peer</td>
<td>*</td>
<td>system peer</td>
</tr>
<tr>
<td>7</td>
<td>sel_pps.peer</td>
<td>o</td>
<td>PPS peer (when the prefer peer is valid)</td>
</tr>
</tbody>
</table>
<p>The <strong>Count Field</strong> displays the number of events since the last time the code changed. Upon reaching 15, subsequent events with the same code are ignored.</p>
<p>The <strong>Event Field</strong> displays the most recent event message coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>mobilize</td>
<td>association mobilized</td>
</tr>
<tr>
<td>02</td>
<td>demobilize</td>
<td>association demobilized</td>
</tr>
<tr>
<td>03</td>
<td>unreachable</td>
<td>server unreachable</td>
</tr>
<tr>
<td>04</td>
<td>reachable</td>
<td>server reachable</td>
</tr>
<tr>
<td>05</td>
<td>restart</td>
<td>association restart</td>
</tr>
<tr>
<td>06</td>
<td>no_reply</td>
<td>no server found (<code>ntpdate</code> mode)</td>
</tr>
<tr>
<td>07</td>
<td>rate_exceeded</td>
<td>rate exceeded (kiss code <code>RATE</code>)</td>
</tr>
<tr>
<td>08</td>
<td>access_denied</td>
<td>access denied (kiss code <code>DENY</code>)</td>
</tr>
<tr>
<td>09</td>
<td>leap_armed</td>
<td>leap armed from server LI code</td>
</tr>
<tr>
<td>0a</td>
<td>sys_peer</td>
<td>become system peer</td>
</tr>
<tr>
<td>0b</td>
<td>clock_event</td>
<td>see clock status word</td>
</tr>
<tr>
<td>0c</td>
<td>bad_auth</td>
<td>authentication failure</td>
</tr>
<tr>
<td>0d</td>
<td>popcorn</td>
<td>popcorn spike suppressor</td>
</tr>
<tr>
<td>0e</td>
<td>interleave_mode</td>
<td>entering interleave mode</td>
</tr>
<tr>
<td>0f</td>
<td>interleave_error</td>
<td>interleave error (recovered)</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="clock-status-word">Clock Status Word</h4>
<p>The clock status word consists of four fields: Unused (0-7), Count (8-11) and Code (12-15). It is reported in the first line of the <code>clockvar <em>associd</em></code> display produced by the <code>ntpq</code> program.</p>
<p>The Count Field displays the number of events since the last <code>lockvar</code> command, while the <strong>Event Field</strong> displays the most recent event message coded as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>00</td>
<td>clk_unspe</td>
<td>nominal</td>
</tr>
<tr>
<td>01</td>
<td>clk_noreply</td>
<td>no reply to poll</td>
</tr>
<tr>
<td>02</td>
<td>clk_badformat</td>
<td>bad timecode format</td>
</tr>
<tr>
<td>03</td>
<td>clk_fault</td>
<td>hardware or software fault</td>
</tr>
<tr>
<td>04</td>
<td>clk_bad_signal</td>
<td>signal loss</td>
</tr>
<tr>
<td>05</td>
<td>clk_bad_date</td>
<td>bad date format</td>
</tr>
<tr>
<td>06</td>
<td>clk_bad_time</td>
<td>bad time format</td>
</tr>
</tbody>
</table>
<p>When the clock driver sets the code to a new value, a <code>clock_alarm</code> (11) peer event is reported.</p>
<hr>
<h4 id="flash-status-word">Flash Status Word</h4>
<p>The flash status word is displayed by the <code>ntpq</code> program <code>rv</code> command. It consists of a number of bits coded in hexadecimal as follows:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Tag</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0001</td>
<td>TEST1</td>
<td>pkt_dup</td>
<td>duplicate packet</td>
</tr>
<tr>
<td>0002</td>
<td>TEST2</td>
<td>pkt_bogus</td>
<td>bogus packet</td>
</tr>
<tr>
<td>0004</td>
<td>TEST3</td>
<td>pkt_unsync</td>
<td>server not synchronized</td>
</tr>
<tr>
<td>0008</td>
<td>TEST4</td>
<td>pkt_denied</td>
<td>access denied</td>
</tr>
<tr>
<td>0010</td>
<td>TEST5</td>
<td>pkt_auth</td>
<td>authentication failure</td>
</tr>
<tr>
<td>0020</td>
<td>TEST6</td>
<td>pkt_stratum</td>
<td>invalid leap or stratum</td>
</tr>
<tr>
<td>0040</td>
<td>TEST7</td>
<td>pkt_header</td>
<td>header distance exceeded</td>
</tr>
<tr>
<td>0080</td>
<td>TEST8</td>
<td>pkt_autokey</td>
<td>Autokey sequence error</td>
</tr>
<tr>
<td>0100</td>
<td>TEST9</td>
<td>pkt_crypto</td>
<td>Autokey protocol error</td>
</tr>
<tr>
<td>0200</td>
<td>TEST10</td>
<td>peer_stratum</td>
<td>invalid header or stratum</td>
</tr>
<tr>
<td>0400</td>
<td>TEST11</td>
<td>peer_dist</td>
<td>distance threshold exceeded</td>
</tr>
<tr>
<td>0800</td>
<td>TEST12</td>
<td>peer_loop</td>
<td>synchronization loop</td>
</tr>
<tr>
<td>1000</td>
<td>TEST13</td>
<td>peer_unreach</td>
<td>unreachable or nonselect</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="kiss-codes">Kiss Codes</h4>
<p>Kiss codes are used in kiss-o'-death (KoD) packets, billboard displays and log messages. They consist of a string of four zero-padded ASCII charactes. In practice they are informal and tend to change with time and implementation. Some of these codes can appear in the reference identifier field in <code>ntpq</code> billboards. Following is the current list:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACST</td>
<td>manycast server</td>
</tr>
<tr>
<td>AUTH</td>
<td>authentication error</td>
</tr>
<tr>
<td>AUTO</td>
<td>Autokey sequence error</td>
</tr>
<tr>
<td>BCST</td>
<td>broadcast server</td>
</tr>
<tr>
<td>CRYPT</td>
<td>Autokey protocol error</td>
</tr>
<tr>
<td>DENY</td>
<td>access denied by server</td>
</tr>
<tr>
<td>INIT</td>
<td>association initialized</td>
</tr>
<tr>
<td>MCST</td>
<td>multicast server</td>
</tr>
<tr>
<td>RATE</td>
<td>rate exceeded</td>
</tr>
<tr>
<td>TIME</td>
<td>association timeout</td>
</tr>
<tr>
<td>STEP</td>
<td>step time change</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="crypto-messages">Crypto Messages</h4>
<p>These messages are sent to the <code>cryptostats</code> file when an error is detected in the Autokey protocol.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>bad_format</td>
<td>bad extension field format or length</td>
</tr>
<tr>
<td>02</td>
<td>bad_timestamp</td>
<td>bad timestamp</td>
</tr>
<tr>
<td>03</td>
<td>bad_filestamp</td>
<td>bad filestamp</td>
</tr>
<tr>
<td>04</td>
<td>bad_public_key</td>
<td>bad or missing public key</td>
</tr>
<tr>
<td>05</td>
<td>bad_digest</td>
<td>unsupported digest type</td>
</tr>
<tr>
<td>06</td>
<td>bad_identity</td>
<td>unsupported identity type</td>
</tr>
<tr>
<td>07</td>
<td>bad_siglength</td>
<td>bad signature length</td>
</tr>
<tr>
<td>08</td>
<td>bad signature</td>
<td>extension field signature not verified</td>
</tr>
<tr>
<td>09</td>
<td>cert_not_verified</td>
<td>certificate signature not verified</td>
</tr>
<tr>
<td>0a</td>
<td>cert_expired</td>
<td>host certificate expired</td>
</tr>
<tr>
<td>0b</td>
<td>bad_cookie</td>
<td>bad or missing cookie</td>
</tr>
<tr>
<td>0c</td>
<td>bad_leapseconds</td>
<td>bad or missing leapseconds values</td>
</tr>
<tr>
<td>0d</td>
<td>cert_missing</td>
<td>bad or missing certificate</td>
</tr>
<tr>
<td>0e</td>
<td>bad_group_key</td>
<td>bad or missing group key</td>
</tr>
<tr>
<td>0f</td>
<td>proto_error</td>
<td>protocol error</td>
</tr>
</tbody>
</table>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2022 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>