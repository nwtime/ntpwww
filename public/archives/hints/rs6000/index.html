<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.84.1" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>RS/6000 Hints | NTP: Network Time Protocol</title>
<meta name="description" content="NTP Documentation Archive"><meta property="og:title" content="RS/6000 Hints" />
<meta property="og:description" content="15.7.1993 xntp3 compiles now again on AIX. I have disabled prototyping and added the switch -D_NO_PROTO which disables prototyping in the system include files. Matthias Ernst maer@nmr.lpc.ethz.ch -------------------------------------------------------------------------------- Xntp version 3 now support the cc compiler for AIX. The Config.aix will now use cc by default. You can still compile xntp with the bsd compiler by changing &#34;COMP= cc&#34; to &#34;COMP= bsdcc&#34; and removing the &#34;-DSTUPID_SIGNAL&#34; option from the &#34;DEFS&#34; option." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/hints/rs6000/" /><meta property="article:section" content="archives" />

<meta property="og:site_name" content="NTP: Network Time Protocol" />

<meta itemprop="name" content="RS/6000 Hints">
<meta itemprop="description" content="15.7.1993 xntp3 compiles now again on AIX. I have disabled prototyping and added the switch -D_NO_PROTO which disables prototyping in the system include files. Matthias Ernst maer@nmr.lpc.ethz.ch -------------------------------------------------------------------------------- Xntp version 3 now support the cc compiler for AIX. The Config.aix will now use cc by default. You can still compile xntp with the bsd compiler by changing &#34;COMP= cc&#34; to &#34;COMP= bsdcc&#34; and removing the &#34;-DSTUPID_SIGNAL&#34; option from the &#34;DEFS&#34; option.">

<meta itemprop="wordCount" content="321">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="RS/6000 Hints"/>
<meta name="twitter:description" content="15.7.1993 xntp3 compiles now again on AIX. I have disabled prototyping and added the switch -D_NO_PROTO which disables prototyping in the system include files. Matthias Ernst maer@nmr.lpc.ethz.ch -------------------------------------------------------------------------------- Xntp version 3 now support the cc compiler for AIX. The Config.aix will now use cc by default. You can still compile xntp with the bsd compiler by changing &#34;COMP= cc&#34; to &#34;COMP= bsdcc&#34; and removing the &#34;-DSTUPID_SIGNAL&#34; option from the &#34;DEFS&#34; option."/>




<link rel="preload" href="/scss/main.min.c7590aab2525bc59dfb1dc16e6ad51978d04d1687ab16e19453b88b4ff42ceea.css" as="style">
<link href="/scss/main.min.c7590aab2525bc59dfb1dc16e6ad51978d04d1687ab16e19453b88b4ff42ceea.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>





  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">NTP: Network Time Protocol</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://www.nwtime.org" target="_blank" ><span>Network Time Foundation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/reflib/" ><span>Reference Library</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Docs
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/archives/4.2.8-series/toc">4.2.8-series</a>
	
	<a class="dropdown-item" href="/archives/4.2.6-series/toc">4.2.6-series</a>
	
	<a class="dropdown-item" href="/archives/4.2.4-series/toc">4.2.4-series</a>
	
	<a class="dropdown-item" href="/archives/4.2.2-series/toc">4.2.2-series</a>
	
	<a class="dropdown-item" href="/archives/4.2.0/toc">4.2.0</a>
	
	<a class="dropdown-item" href="/archives/4.1.2/toc">4.1.2</a>
	
	<a class="dropdown-item" href="/archives/4.1.1/toc">4.1.1</a>
	
	<a class="dropdown-item" href="/archives/4.1.0/toc">4.1.0</a>
	
	<a class="dropdown-item" href="/archives/3-5.93e/toc">3-5.93e</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="/archives/">Docs</a>
</li>




<li class="breadcrumb-item" >
	<a href="/archives/hints/">Hints</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/archives/hints/rs6000/">RS/6000 Hints</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>RS/6000 Hints</h1>
    
	       
	<pre>15.7.1993
xntp3 compiles now again on AIX. I have disabled prototyping and added
the switch -D_NO_PROTO which disables prototyping in the system include
files.

Matthias Ernst  maer@nmr.lpc.ethz.ch
--------------------------------------------------------------------------------
Xntp version 3 now support the cc compiler for AIX.
The Config.aix will now use cc by default.  You can still compile xntp
with the bsd compiler by changing "COMP= cc" to "COMP= bsdcc" and
removing the "-DSTUPID_SIGNAL" option from the "DEFS" option.

xntp and tickadj was also modified  so that the value of tickadj is read
form the kernel and can be set by tickadj.  For now I would not set 
tickadj below 40 us.   

Bill Jones 
jones@chpc.utexas.edu
-------------------------------------------------------------------------------

This is a modified version of xntp version 3 for the RS6000. It works for
AIX 3.2 and these are the same changes as have been applied tothe version 2
implementation of xntp. It works fine for us but I have not tested all of
the features, especially the local clock support for the RS6000 is not tested
at all.

Matthias Ernst, ETH-Zuerich, Switzerland  -  maer@nmr.lpc.ethz.ch

--------------------------------------------------------------------------------

Here the original README.rs6000 for the version 2 implementation:

A hacked version of xntp for the IBM RS/6000 under AIX 3.1 can be found
in xntp.rs6000.tar.Z. [ if still available at all - Frank Kardel 93/12/3 ]

This will not work on older versions of AIX due to a kernel bug;  to find
out whether you have the kernel bug, compile and run testrs6000.c (see
comments in the code for instructions).

xntp and testrs6000 require "bsdcc" to compile.  This is simply another
entry point into the xlc compiler with various options set for BSD
compatibility.  If your system does not have bsdcc, do the following:

link /bin/bsdcc to /bin/xlc

put the following into /etc/xlc.cfg:

* BSD compatibility
bsdcc:  use        = DEFLT
        crt        = /lib/crt0.o
        mcrt       = /lib/mcrt0.o
        gcrt       = /lib/gcrt0.o
        libraries  = -lbsd, -lc
        proflibs   = -L/lib/profiled,-L/usr/lib/profiled
        options    = -H512,-T512, -qlanglvl=extended, -qnoro, -D_BSD, -D_NONSTD_TYPES, -D_NO_PROTO, -tp,-B/lib/

</pre>

	
	
</div>


          </main>
        </div>
      </div>
      <link href="/assets/scss/_variables_project.css" rel="stylesheet">

<footer class="navbar site-footer fixed-bottom py-0">
      <div>
        
        
        
<ul class="list-inline">
  
  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Mailing lists" aria-label="Mailing lists">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://lists.ntp.org/listinfo">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
      <i class="fab fa-linkedin-in"></i>
    </a>
  </li>
  
  <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Facebook" aria-label="Facebook">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
      <i class="fab fa-facebook-f"></i>
    </a>
  </li>
  
</ul>

        
        
		</div>
		<div>
        <p style="font-size: 12px; font-family: 'Nunito Sans', sans-serif;">&copy; 2021 <a class="text-white" href="https://www.nwtime.org">Network Time Foundation</a></p>	
    </div>
	</div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>






 











<script src="/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js" integrity="sha256-XHS4cMaVOTGnBfOQpJx&#43;TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin="anonymous"></script>




  </body>
</html>