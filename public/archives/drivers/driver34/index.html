<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
  
  

  
  <meta name="description" content="
Table of Contents

Synopsis
Description
Model 325 timecode format
Model 320 timecode format
Model 33x timecode format
Fudge factors


Synopsis â€¦">
<meta property="og:title" content="Ultralink Clock" />
<meta property="og:description" content="Table of Contents  Synopsis Description Model 325 timecode format Model 320 timecode format Model 33x timecode format Fudge factors   Synopsis  Address: 127.127.34.u Reference ID: WWVB Driver ID: ULINK Serial Port: /dev/wwvbu; 9600 bps, 8-bits, no parity Features: none   Description This driver supports the Ultralink Model 325 (replacement for Model 320) RS-232 powered WWVB receiver.
This driver also supports the Model 320, 330, 331, and 332 decoders in both polled or continous time code mode." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://test.doc.ntp.org/archives/drivers/driver34/" /><meta property="article:section" content="archives" />

<meta property="og:site_name" content="NTP: Network Time Protocol" />



  
  <title>Ultralink Clock</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/latest/normalize.css">
  
    <link rel="stylesheet" href="https://test.doc.ntp.org/plugins/bootstrap/bootstrap.min.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://test.doc.ntp.org/scss/nwtime.min.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://test.doc.ntp.org/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://test.doc.ntp.org/images/favicon.png " type="image/x-icon">
</head>
<body><!-- navigation -->
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<header class="sticky-top navigation">
  <div class="container">


    <nav class="navbar navbar-expand-lg navbar-light py-0">
	  <div class="d-flex align-items-center" style="height:80px; width:80px;">
		 <a class="py-0 mx-1" href="https://www.nwtime.org"><img class="img-fluid" src="https://test.doc.ntp.org/images/logo.png" alt=""></a>
      </div>
	  <div class="d-flex align-items-center" style="height:80px; width:80px;">
		 <a class="navbar-brand py-0 mx-1" href="https://test.doc.ntp.org"><img class="img-fluid" src="https://test.doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
      </div>
	  <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="bi-plus"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <ul class="navbar-nav ml-auto py-0">
          <li class="nav-item py-0">
            <a class="nav-link py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org"></a>
          </li>
          
          
          <li class="nav-item dropdown py-0">
            <a class="nav-link dropdown-toggle py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Support
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://support.ntp.org/">Support Wiki</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/support/servers">Time Servers</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://support.ntp.org/bin/view/Main/SecurityNotice">Security Notices</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/ntpfaq">FAQ</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://support.ntp.org/bin/view/Dev/WebHome">Developer Resources</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/contributorslist">Contributors List</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/contact">Contacts</a>
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown py-0">
            <a class="nav-link dropdown-toggle py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Reference Library
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/brief">Briefs</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/memos">Memos</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/reports">Reports</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/rfc">RFCs</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/software">Software</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/reflib/papers">White Papers</a>
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown py-0">
            <a class="nav-link dropdown-toggle py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Documentation
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.2.8-series/toc">4.2.8-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.2.6-series/toc">4.2.6-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.2.4-series/toc">4.2.4-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.2.2-series/toc">4.2.2-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.2.0/toc">4.2.0</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.1.2/toc">4.1.2</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.1.1/toc">4.1.1</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/4.1.0/toc">4.1.0</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://test.doc.ntp.org/archives/3-5.93e/toc">3-5.93e</a>
              
            </div>
          </li>
          
          
        </ul>
      </div>
	  
      <script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
      <div class="gcse-search">
      </div>

    </nav>
  </div>
  <div class="header-border">
  </div>
</header>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/documentation/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://test.doc.ntp.org/archives/drivers/">Drivers</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://test.doc.ntp.org/archives/drivers/driver34/">Ultralink Clock</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Ultralink Clock</h1>
     
    <hr>
<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="/archives/drivers/driver34/#synopsis">Synopsis</a></li>
<li><a href="/archives/drivers/driver34/#description">Description</a></li>
<li><a href="/archives/drivers/driver34/#model-325-timecode-format">Model 325 timecode format</a></li>
<li><a href="/archives/drivers/driver34/#model-320-timecode-format">Model 320 timecode format</a></li>
<li><a href="/archives/drivers/driver34/#model-33x-timecode-format">Model 33x timecode format</a></li>
<li><a href="/archives/drivers/driver34/#fudge-factors">Fudge factors</a></li>
</ul>
<hr>
<h4 id="synopsis">Synopsis</h4>
<dl>
<dt><strong>Address:</strong> <code>127.127.34.<em>u</em></code></dt>
<dd><strong>Reference ID:</strong> <code>WWVB</code></dd>
<dd><strong>Driver ID:</strong> <code>ULINK</code></dd>
<dd><strong>Serial Port:</strong> <code>/dev/wwvb<em>u</em></code>; 9600 bps, 8-bits, no parity</dd>
<dd><strong>Features:</strong> none</dd>
</dl>
<hr>
<h4 id="description">Description</h4>
<p>This driver supports the Ultralink Model 325 (replacement for Model 320) RS-232 powered WWVB receiver.</p>
<p>This driver also supports the Model 320, 330, 331, and 332 decoders in both polled or continous time code mode. Leap second and quality are supported. Most of this code is originally from <code>refclock_wwvb.c</code> with thanks. Any mistakes are mine. Any improvements are welcome.</p>
<hr>
<h4 id="model-325-timecode-format">Model 325 timecode format</h4>
<p><code>&lt;cr&gt;&lt;lf&gt;RQ_1C00LYYYY+DDDUTCS_HH:MM:SSL+5</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RQ</code></td>
<td>Signal readability indicator, ranging from R1 to R5 where R1 is unreadable, R5 is best reception</td>
</tr>
<tr>
<td><code>_</code></td>
<td>Space</td>
</tr>
<tr>
<td><code>1</code></td>
<td>prev. received data bit, values: 0, 1, M, or ? unknown</td>
</tr>
<tr>
<td><code>C</code></td>
<td>Signal reception from <code>C</code>olorado or <code>H</code>awaii</td>
</tr>
<tr>
<td><code>00</code></td>
<td>Hours since last WWVB time and flag code update, values 00 to 99 (hopefully always 00)</td>
</tr>
<tr>
<td><code>L</code></td>
<td>HEX A5 if receiver is locked to WWVB, Space if not</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>Year from 2000 to 2099</td>
</tr>
<tr>
<td><code>+</code></td>
<td><code>+</code> if current year is a leap year, else ''</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>current day in the year from 1 to 365/366</td>
</tr>
<tr>
<td><code>UTC</code></td>
<td>timezone (always UTC)</td>
</tr>
<tr>
<td><code>S</code></td>
<td>Daylight savings indicator<br> <code>S</code>TD<br> <code>D</code>ST<br> <code>O</code> transition into DST<br> <code>I</code> transition out of DST</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>UTC hour 0 to 23</td>
</tr>
<tr>
<td><code>:</code></td>
<td>Time delimiter: <code>:</code> if synced, space if not</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Minutes of current hour from 0 to 59</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>Seconds of current minute from 0 to 59</td>
</tr>
<tr>
<td><code>mm</code></td>
<td>10&rsquo;s milliseconds of the current second from 00 to 99</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Leap second pending at end of month: <code>I</code>nsert, <code>D</code>elete, or space</td>
</tr>
<tr>
<td><code>+5</code></td>
<td>UT1 correction in +/- .1 sec increments</td>
</tr>
</tbody>
</table>
<p>Note that Model 325 reports a very similar output like Model 33X series. The driver for this clock is similar to Model 33X behavior. On a unmodified new ULM325 clock, the polling flag (<code>flag1 =1</code>) needs to be set.</p>
<hr>
<h4 id="model-320-timecode-format">Model 320 timecode format</h4>
<p><code>&lt;cr&gt;&lt;lf&gt;SQRYYYYDDD+HH:MM:SS.mmLT&lt;cr&gt;</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S</code></td>
<td><code>S</code>: sync&rsquo;d in last hour<br> 0-9: hours x 10 since last update<br> else <code>?</code></td>
</tr>
<tr>
<td><code>Q</code></td>
<td>Number of correlating timeframes, from 0 to 5</td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>R</code>: reception in progress<br> <code>N</code>: Noisy reception<br> '' standby mode</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>year from 1990 to 2089</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>current day from 1 to 366<br> <code>+</code> if current year is a leap year</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>UTC hour 0 to 23</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Minutes of current hour from 0 to 59</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>Seconds of current minute from 0 to 59</td>
</tr>
<tr>
<td><code>mm</code></td>
<td>10&rsquo;s milliseconds of the current second from 00 to 99</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Leap second pending at end of month<br> <code>I</code>: insert<br> <code>D</code> delete</td>
</tr>
<tr>
<td><code>T</code></td>
<td>DST to STD transition indicators</td>
</tr>
</tbody>
</table>
<p>Note that this driver does not do anything with the <code>T</code> flag. The M320 also has a <code>U</code> command which returns UT1 correction information. It is not used in this driver.</p>
<hr>
<h4 id="model-33x-timecode-format">Model 33x timecode format</h4>
<p><code>S9+D 00 YYYY+DDDUTCS HH:MM:SSl+5</code></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S</code></td>
<td>sync indicator<br> <code>S</code> insync<br> <code>N</code> not in sync<br> the sync flag is WWVB decoder<br> sync has nothing to do with time being correct</td>
</tr>
<tr>
<td><code>9+</code></td>
<td>signal level 0 thru 9+<br> If over 9, indicated as 9</td>
</tr>
<tr>
<td><code>D</code></td>
<td>data bit (fun to watch but useless), space</td>
</tr>
<tr>
<td><code>00</code></td>
<td>hours since last good WWVB frame sync space</td>
</tr>
<tr>
<td><code>YYYY</code></td>
<td>current year<br> <code>+</code> leap year indicator</td>
</tr>
<tr>
<td><code>DDD</code></td>
<td>day of year</td>
</tr>
<tr>
<td><code>UTC</code></td>
<td>timezone (always UTC)</td>
</tr>
<tr>
<td><code>S</code></td>
<td>daylight savings indicator space</td>
</tr>
<tr>
<td><code>HH</code></td>
<td>hours : This is the real in-sync indicator where <code>:</code> means insync</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>minutes<br> <code>:</code> in sync<br> <code>?</code> NOT in sync</td>
</tr>
<tr>
<td><code>SS</code></td>
<td>seconds</td>
</tr>
<tr>
<td><code>L</code></td>
<td>leap second flag</td>
</tr>
<tr>
<td><code>+5</code></td>
<td>UT1 correction (sign + digit)</td>
</tr>
</tbody>
</table>
<p>This driver ignores UT1 correction, DST indicator, Leap year, and signal level.</p>
<hr>
<h4 id="fudge-factors">Fudge factors</h4>
<dl>
<dt>flag1 polling enable</dt>
<dd><code>1</code>=poll</dd>
<dd><code>0</code>=no poll</dd>
</dl>

	  
  </div>
</section>
<footer class="navbar site-footer fixed-bottom py-0">
  <ul class="mx-auto">
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Mailing lists" aria-label="Mailing lists">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://lists.ntp.org/listinfo">
        <i class="bi-envelope"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
        <i class="bi-twitter"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
        <i class="bi-linkedin"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Facebook" aria-label="Facebook">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
        <i class="bi-facebook"></i>
      </a>
    </li>
    
    <li class="navbar-text">
      <p>&copy; 2021 <a class="navbar-text text-white" href="https://www.nwtime.org">Network Time Foundation</a></p>	
    </li>
  </ul>
</footer>

</body>
</html>