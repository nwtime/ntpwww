<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NTP: Network Time Protocol – Drivers</title>
    <link>/archives/drivers/</link>
    <description>Recent content in Drivers on NTP: Network Time Protocol</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="/archives/drivers/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Archives: Arbiter 1088A/B GPS Receiver</title>
      <link>/archives/drivers/driver11/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver11/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver11/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver11/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver11/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver11/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.11.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS_ARBITER&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Arbiter 1088A/B Satellite Controlled Clock. The claimed accuracy of this clock is 100 ns relative to the PPS output when receiving four or more satellites.&lt;/p&gt;
&lt;p&gt;The receiver should be configured before starting the NTP daemon, in order to establish reliable position and operating conditions. It does not initiate surveying or hold mode. For use with NTP, the daylight savings time feature should be disables (&lt;tt&gt;D0&lt;/tt&gt; command) and the broadcast mode set to operate in UTC (&lt;tt&gt;BU&lt;/tt&gt; command).&lt;/p&gt;
&lt;p&gt;The timecode format supported by this driver is selected by the poll sequence &lt;tt&gt;B5&lt;/tt&gt;, which initiates a line in the following format to be repeated once per second until turned off by the &lt;tt&gt;B0&lt;/tt&gt; command.&lt;/p&gt;
&lt;p&gt;Format &lt;tt&gt;B5&lt;/tt&gt; (24 ASCII printing characters):&lt;/p&gt;
&lt;pre&gt;&lt;cr&gt;&lt;lf&gt;i yy ddd hh:mm:ss.000bbb

on-time = &lt;cr&gt;
i = synchronization flag (&#39; &#39; = locked, &#39;?&#39; = unlocked)
yy = year of century
ddd = day of year
hh:mm:ss = hours, minutes, seconds
.000 = fraction of second (not used)
bbb = tailing spaces for fill&lt;/pre&gt;
&lt;p&gt;The alarm condition is indicated by a &lt;code&gt;?&lt;/code&gt; at &lt;code&gt;i&lt;/code&gt;, which indicates the receiver is not synchronized. In normal operation, a line consisting of the timecode followed by the time quality character &lt;code&gt;TQ&lt;/code&gt; followed by the receiver status string &lt;code&gt;SR&lt;/code&gt; is written to the clockstats file.&lt;/p&gt;
&lt;p&gt;The time quality character is encoded in IEEE P1344 standard:&lt;/p&gt;
&lt;p&gt;Format &lt;tt&gt;TQ&lt;/tt&gt; (IEEE P1344 estimated worst-case time quality)&lt;/p&gt;
&lt;pre&gt;0       clock locked, maximum accuracy
F       clock failure, time not reliable
4       clock unlocked, accuracy &lt; 1 us
5       clock unlocked, accuracy &lt; 10 us
6       clock unlocked, accuracy &lt; 100 us
7       clock unlocked, accuracy &lt; 1 ms
8       clock unlocked, accuracy &lt; 10 ms
9       clock unlocked, accuracy &lt; 100 ms
A       clock unlocked, accuracy &lt; 1 s
B       clock unlocked, accuracy &lt; 10 s&lt;/pre&gt;
&lt;p&gt;The status string is encoded as follows:&lt;/p&gt;
&lt;p&gt;Format &lt;tt&gt;SR&lt;/tt&gt; (25 ASCII printing characters)&lt;/p&gt;
&lt;pre&gt;V=vv S=ss T=t P=pdop E=ee

vv = satellites visible
ss = relative signal strength
t = satellites tracked
pdop = position dilution of precision (meters)
ee = hardware errors&lt;/pre&gt;
&lt;p&gt;A three-stage median filter is used to reduce jitter and provide a dispersion measure. The driver makes no attempt to correct for the intrinsic jitter of the radio itself.&lt;/p&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;flag4&lt;/tt&gt; fudge flag, an additional line containing the latitude, longitude, elevation and optional deviation data is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file. The deviation data operates with an external pulse-per-second (PPS) input, such as a cesium oscillator or another radio clock. The PPS input should be connected to the B event channel and the radio initialized for deviation data on that channel. The deviation data consists of the mean offset and standard deviation of the external PPS signal relative the GPS signal, both in microseconds over the last 16 seconds.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Arcron MSF Receiver</title>
      <link>/archives/drivers/driver27/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver27/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver27/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver27/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver27/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver27/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver27/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.27.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;MSFa&lt;/tt&gt; / &lt;tt&gt;MSF&lt;/tt&gt; / &lt;tt&gt;DCF&lt;/tt&gt; / &lt;tt&gt;WWVB&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;MSF_ARCRON&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/arc_u_&lt;/tt&gt;; 300 baud, 8-bits, 2-stop, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Arcron MSF, DCF and WWVB receivers. The clock reports its ID as &amp;ldquo;&lt;tt&gt;MSFa&lt;/tt&gt;&#39;&#39;, &amp;ldquo;&lt;tt&gt;MSF&lt;/tt&gt;&#39;&#39;, &amp;ldquo;&lt;tt&gt;DCF&lt;/tt&gt;&#39;&#39; or &amp;ldquo;&lt;tt&gt;WWVB&lt;/tt&gt;&#39;&#39; to indicate the time source.&lt;/p&gt;
&lt;p&gt;This documentation describes v1.3 (2003/2/21) of the source and has been tested against ntpd 4.1.0 on linux x86. Changes from v1.1 and v1.2 include patches to work with the new ntp-4 code, clock support for DCF and WWVB configurable via mode flag, an option to ignore resync request (for those of us at the fringes of the WWVB signal, for instance), averaging of the signal quality poll and several bug fixes, code cleanup and standardizations. In all other respects, the driver works as per v1.1 if a mode is not specified.&lt;/p&gt;
&lt;p&gt;To use the alternate modes, the mode flag must be specified. If the mode flag is 0, or unspecified, the original MSF version is assumed. This should assure backwards compatibility and should not break existing setups.&lt;/p&gt;
&lt;p&gt;The previous documentation described version V1.1 (1997/06/23) of the source and had been tested (amongst others) against ntpd3-5.90 on Solaris-1 (SunOS 4.1.3_U1 on an SS1 serving as a router and firewall) and against ntpd3-5.90 on Solaris-2.5 (on a SS1+ and TurboSPARC 170MHz). That code will claimed increased stability, reduced jitter and more efficiency (fewer context switches) with the &lt;tt&gt;tty_clk&lt;/tt&gt; discipline/STREAMS module installed, but this has not been tested. For a to-do list see the comments at the start of the code.&lt;/p&gt;
&lt;p&gt;This code has been significantly slimmed down since the V1.0 version, roughly halving the memory footprint of its code and data.&lt;/p&gt;
&lt;p&gt;This driver is designed to allow the unit to run from batteries as designed, for something approaching the 2.5 years expected in the usual stand-alone mode, but no battery-life measurements have been taken.&lt;/p&gt;
&lt;p&gt;Much of this code is originally from the other refclock driver files with thanks. The code was originally made to work with the clock by &lt;a href=&#34;mailto:derek@toybox.demon.co.uk&#34;&gt;Derek Mulcahy&lt;/a&gt;, with modifications by &lt;a href=&#34;mailto:d@hd.org&#34;&gt;Damon Hart-Davis&lt;/a&gt;. Thanks also to &lt;a href=&#34;mailto:lyndond@sentinet.co.uk&#34;&gt;Lyndon David&lt;/a&gt; for some of the specifications of the clock. &lt;a href=&#34;mailto:palfille@partners.org&#34;&gt;Paul Alfille&lt;/a&gt; added support for the WWVB clock. &lt;a href=&#34;mailto:cprice@cs-home.com&#34;&gt;Christopher Price&lt;/a&gt; added enhanced support for the MSF, DCF and WWVB clocks.&lt;/p&gt;
&lt;p&gt;There is support for a Tcl/Tk monitor written by Derek Mulcahy that examines the output stats; see the &lt;a href=&#34;http://www2.exnet.com/NTP/ARC/ARC.html&#34;&gt;ARC Rugby MSF Receiver&lt;/a&gt; page for more details and the code.&lt;/p&gt;
&lt;p&gt;Look at the notes at the start of the code for further information; some of the more important details follow.&lt;/p&gt;
&lt;p&gt;The driver interrogates the clock at each poll (ie every 64s by default) for a timestamp. The clock responds at the start of the next second (with the start bit of the first byte being on-time). In the default or original MSF mode, the time is in `local&#39; format, including the daylight savings adjustment when it is in effect. The driver code converts the time back to UTC. In modes 1-3 the driver can be configured for UTC or local time depending on the setting of flag1.&lt;/p&gt;
&lt;p&gt;The clock claims to be accurate to within about 20ms of the broadcast time, and given the low data transmission speed from clock to host, and the fact that the clock is not in continuous sync with MSF, it seems sensible to set the `precision&#39; of this clock to -5 or -4, -4 being used in this code, which builds in a reported dispersion of over 63ms (ie says ``This clock is not very good.&#39;&#39;). You can improve the reported precision to -4 (and thus reduce the base dispersion to about 31ms) by setting the fudge &lt;tt&gt;flag3&lt;/tt&gt; to &lt;tt&gt;1&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Even a busy and slow IP link can yield lower dispersions than this from polls of primary time servers on the Internet, which reinforces the idea that this clock should be used as a backup in case of problems with such an IP link, or in the unfortunate event of failure of more accurate sources such as GPS.&lt;/p&gt;
&lt;p&gt;By default this clock reports itself to be at stratum 2 rather than the usual stratum 0 for a refclock, because it is not really suited to be used as other than a backup source. The stratum reported can be changed with the &lt;tt&gt;stratum&lt;/tt&gt; directive to be whatever you like. After careful monitoring of your clock, and appropriate choice of the &lt;tt&gt;time1&lt;/tt&gt; fudge factor to remove systematic errors in the clock&amp;rsquo;s reported time, you might fudge the clock to stratum 1 to allow a stratum-2 secondary server to sync to it.&lt;/p&gt;
&lt;p&gt;In default mode, the driver code arranges to resync the clock to MSF at intervals of a little less than an hour (deliberately avoiding the same time each hour to avoid any systematic problems with the signal or host). Whilst resyncing, the driver supplements the normal polls for time from the clock with polls for the reception signal quality reported by the clock. If the signal quality is too low (0&amp;ndash;2 out of a range of 0&amp;ndash;5), we chose not to trust the clock until the next resync (which we bring forward by about half an hour). If we don&amp;rsquo;t catch the resync, and so don&amp;rsquo;t know the signal quality, we do trust the clock (because this would generally be when the signal is very good and a resync happens quickly), but we still bring the next resync forward and reduce the reported precision (and thus increase reported dispersion).&lt;/p&gt;
&lt;p&gt;If we force resyncs to MSF too often we will needlessly exhaust the batteries the unit runs from. During clock resync this driver tries to take enough time samples to avoid &lt;tt&gt;ntpd&lt;/tt&gt; losing sync in case this clock is the current peer. By default the clock would only resync to MSF about once per day, which would almost certainly not be acceptable for NTP purposes.&lt;/p&gt;
&lt;p&gt;The driver does not force an immediate resync of the clock to MSF when it starts up to avoid excessive battery drain in case &lt;tt&gt;ntpd&lt;/tt&gt; is going to be repeatedly restarted for any reason, and also to allow enough samples of the clock to be taken for &lt;tt&gt;ntpd&lt;/tt&gt; to sync immediately to this clock (and not remain unsynchronised or to sync briefly to another configured peer, only to hop back in a few poll times, causing unnecessary disturbance). This behaviour should not cause problems because the driver will not accept the timestamps from the clock if the status flag delivered with the time code indicates that the last resync attempt was unsuccessful, so the initial timestamps will be close to reality, even if with up to a day&amp;rsquo;s clock drift in the worst case (the clock by default resyncs to MSF once per day).&lt;/p&gt;
&lt;p&gt;When alternate modes 1-3 are selected, the driver can be configured to ignore the resync requests by setting &lt;tt&gt;flag2&lt;/tt&gt; to 1. This allows clocks at the fringe of the signal to resync at night when signals are stronger.&lt;/p&gt;
&lt;p&gt;The clock has a peculiar RS232 arrangement where the transmit lines are powered from the receive lines, presumably to minimise battery drain. This arrangement has two consequences:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Your RS232 interface must drive both +ve and -ve&lt;/li&gt;
&lt;li&gt;You must (in theory) wait for an echo and a further 10ms between characters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This driver, running on standard Sun and x86 hardware, seems to work fine; note the use of the &lt;tt&gt;send_slow()&lt;/tt&gt; routine to queue up command characters to be sent once every two seconds.&lt;/p&gt;
&lt;p&gt;Three commands are sent to the clock by this driver. Each command consists of a single letter (of which only the bottom four bits are significant), followed by a CR (ASCII 13). Each character sent to the clock should be followed by a delay to allow the unit to echo the character, and then by a further 10ms. Following the echo of the command string, there may be a response (ie in the case of the &lt;tt&gt;g&lt;/tt&gt; and &lt;tt&gt;o&lt;/tt&gt; commands below), which in the case of the &lt;tt&gt;o&lt;/tt&gt; command may be delayed by up to 1 second so as the start bit of the first byte of the response can arrive on time. The commands and their responses are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;tt&gt;g&lt;/tt&gt; CR&lt;/strong&gt;
Request for signal quality. Answer only valid during (late part of) resync to MSF signal. The response consists of two characters as follows:&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;First Bit Number&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Second Bit Number&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;parity&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;parity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;td&gt;2&amp;ndash;0&lt;/td&gt;
&lt;td&gt;reception signal quality in the range 0&amp;ndash;5 (very poor to very good); if in the range 0&amp;ndash;2 no successful reception is to be expected. The reported value drops to zero when not resyncing, ie when first returned byte is not &lt;code&gt;3&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0 if no reception attempt at the moment; 1 if reception attempt (ie resync) in progress&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;tt&gt;h&lt;/tt&gt; CR&lt;/strong&gt;
Request to resync to signal. Can take up from about 30s to 360s. Drains batteries so should not be used excessively. After this the clock time and date should be correct and the phase within 20ms of time as transmitted from the source signal (remember to allow for propagation time). By default the clock resyncs once per day in the late evening/early morning (presumably to catch transitions to/from daylight saving time quickly). This driver code, by default, resyncs at least once per hour to minimise clock wander.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;tt&gt;o&lt;/tt&gt; CR&lt;/strong&gt;
Request timestamp. Start bit of first byte of response is on-time, so may be delayed up to 1 second. Note that the driver will convert time to GMT, if required. The response data is as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;hours tens (hours range from 00 to 23)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hours units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;minutes tens (minutes range from 00 to 59)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;minutes units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;seconds tens (seconds presumed to range from 00 to 60 to allow for leap second)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;seconds units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;day of week 1 (Monday) to 7 (Sunday)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;day of month tens (day ranges from 01 to 31)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;day of month units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;month tens (months range from 01 to 12)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;month units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;year tens (years range from 00 to 99)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;year units&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;BST/UTC status (Ignored in WWVB version)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bit Number&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;parity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;MSF: always 0&lt;br&gt; WWVB: Leap year indicator bit&lt;br&gt; 0 = non-leap year&lt;br&gt; 1 = leap year&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;MSF: 1 if UTC is in effect (reverse of bit 1)&lt;br&gt; WWVB: Leap second warning bit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;MSF: 1 if BST is in effect (reverse of bit 2)&lt;br&gt; WWVB: 0 if ST is in effect&lt;br&gt; 1 if DST is in effect&lt;br&gt; 1 if transition from ST with bit 0 is set to 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;MSF: 1 if BST/UTC change pending&lt;br&gt; WWVB: 0 if ST is in effect&lt;br&gt; 1 if DST is in effect&lt;br&gt; 0 if transition from DST with bit 1 is set to 0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;clock status&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bit Number&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;parity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;always 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;always 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt; if low battery is detected&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt; if last resync failed (though officially undefined for the MSF clock, officially defined for WWVB)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt; if at least one reception attempt was successful&lt;br&gt; MSF: since 0230&lt;br&gt; DCF: since 0300&lt;br&gt; WWVB: resets if not successful between 0300-0400&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt; if the clock has valid time&amp;mdash;reset to zero when clock is reset (eg at power-up), and set to 1 after first successful resync attempt.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The driver only accepts time from the clock if the bottom three bits of the status byte are &lt;tt&gt;011&lt;/tt&gt; or &lt;tt&gt;flag2&lt;/tt&gt; is set to 1 to ignore resync requests. For the MSF clock, if the UK parliament decides to move us to +0100/+0200 time as opposed to the current +0000/+0100 time, it is not clear what effect that will have on the time broadcast by MSF, and therefore on this driver&amp;rsquo;s usefulness.&lt;/p&gt;
&lt;p&gt;A typical &lt;tt&gt;ntp.conf&lt;/tt&gt; configuration file for this driver might be:&lt;/p&gt;
&lt;pre&gt;# hostname(n) means we expect (n) to be the stratum at which hostname runs.

#------------------------------------------------------------------------------
# SYNCHRONISATION PARTNERS
# ========================

# Default configuration (Original MSF mode)s...
server 127.127.27.0 mode 333 # ARCRON MSF radio clock
# Fudge stratum and other features as required.
# ADJUST time1 VALUE FOR YOUR HOST, CLOCK AND LOCATION!
fudge 127.127.27.0 stratum 1 time1 0.016 flag3 1
# WWVB users should change that line to:
server 127.127.27.0 mode 3 # ARCRON WWVB radio clock
fudge 127.127.27.0 stratum 1 time1 0.030 flag1 1 flag3 1

peer 11.22.33.9 # tick(1--2).
peer 11.22.33.4 # tock(3), boot/NFS server.

# This shouldn&#39;t get swept away unless left untouched for a long time.
driftfile /var/tmp/ntp.drift

#------------------------------------------------------------------------------
# RESTRICTIONS
# ============

# By default, don&#39;t trust and don&#39;t allow modifications.  Ignore in fact.
restrict default ignore notrust nomodify

# Allow others in our subnet to check us out...
restrict 11.22.33.0 mask 255.255.255.0 nomodify notrust

# Trust our peers for time.  Don&#39;t trust others in case they are insane.
restrict 127.127.27.0 nomodify
restrict 11.22.33.4 nomodify
restrict 11.22.33.9 nomodify

# Allow anything from the local host.
restrict 127.0.0.1&lt;/pre&gt;
&lt;p&gt;There are a few &lt;tt&gt;#define&lt;/tt&gt;s in the code that you might wish to play with:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;ARCRON_KEEN&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;With this defined, the code is relatively trusting of the clock, and assumes that you will have the clock as one of a few time sources, so will bend over backwards to use the time from the clock when available and avoid &lt;tt&gt;ntpd&lt;/tt&gt; dropping sync from the clock where possible. You may wish to undefine this, especially if you have better sources of time or your reception is ropey. However, there are many checks built in even with this flag defined.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;ARCRON_MULTIPLE_SAMPLES&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When is defined, we regard each character in the returned timecode as at a known delay from the start of the second, and use the smallest (most negative) offset implied by any such character, ie with the smallest kernel-induced display, and use that. This helps to reduce jitter and spikes.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;ARCRON_LEAPSECOND_KEEN&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When is defined, we try to do a resync to MSF as soon as possible in the first hour of the morning of the first day of the first and seventh months, ie just after a leap-second insertion or deletion would happen if it is going to. This should help compensate for the fact that this clock does not continuously sample MSF, which compounds the fact that MSF itself gives no warning of an impending leap-second event. This code did not seem functional at the leap-second insertion of 30th June 1997 so is by default disabled.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;PRECISION&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Currently set to &lt;tt&gt;-4&lt;/tt&gt;, but you may wish to set it to &lt;tt&gt;-5&lt;/tt&gt; if you are more conservative, or to &lt;tt&gt;-6&lt;/tt&gt; if you have particularly good experience with the clock and you live on the edge. Note that the &lt;tt&gt;flag3&lt;/tt&gt; fudge value will improve the reported dispersion one notch if clock signal quality is known good. So maybe just leave this alone.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;Each timecode is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file with a signal quality value appended (&lt;code&gt;0&lt;/code&gt;-&lt;code&gt;5&lt;/code&gt; as reported by the clock, or &lt;code&gt;6&lt;/code&gt; for unknown).&lt;/p&gt;
&lt;p&gt;Each resync and result (plus gaining or losing MSF sync) is logged to the system log at level &lt;tt&gt;LOG_NOTICE&lt;/tt&gt;; note that each resync drains the unit&amp;rsquo;s batteries, so the syslog entry seems justified.&lt;/p&gt;
&lt;p&gt;Syslog entries are of the form:&lt;/p&gt;
&lt;pre&gt;May 10 10:15:24 oolong ntpd[615]: ARCRON: unit 0: sending resync command
May 10 10:17:32 oolong ntpd[615]: ARCRON: sync finished, signal quality 5: OK, will use clock
May 10 11:13:01 oolong ntpd[615]: ARCRON: unit 0: sending resync command
May 10 11:14:06 oolong ntpd[615]: ARCRON: sync finished, signal quality -1: UNKNOWN, will use clock anyway
May 10 11:41:49 oolong ntpd[615]: ARCRON: unit 0: sending resync command
May 10 11:43:57 oolong ntpd[615]: ARCRON: sync finished, signal quality 5: OK, will use clock
May 10 12:39:26 oolong ntpd[615]: ARCRON: unit 0: sending resync command
May 10 12:41:34 oolong ntpd[615]: ARCRON: sync finished, signal quality 3: OK, will use clock&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;mode 0 | 1 | 2 | 3&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the clock hardware model. This parameter is optional, it defaults to the original mode of operation.&lt;/dd&gt;
&lt;dd&gt;Supported modes of operation:&lt;/dd&gt;
&lt;dd&gt;0 - Default, Original MSF&lt;/dd&gt;
&lt;dd&gt;1 - Updated MSF&lt;/dd&gt;
&lt;dd&gt;2 - New DCF77&lt;/dd&gt;
&lt;dd&gt;3 - New WWVB&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0. On a Sun SparcStation 1 running SunOS 4.1.3_U1, with the receiver in London, a value of 0.020 (20ms) seems to be appropriate.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not currently used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 2. It is suggested that the clock be not be fudged higher than stratum 1 so that it is used a backup time source rather than a primary when more accurate sources are available.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;MSFa&lt;/tt&gt;. When used in modes 1-3, the driver will report either &lt;tt&gt;MSF&lt;/tt&gt;, &lt;tt&gt;DCF&lt;/tt&gt;, or &lt;tt&gt;WWVB&lt;/tt&gt; respectively.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;(Modes 1-3) If set to 0 (the default), the clock is set to UTC time. If set to 1, the clock is set to localtime.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;(Modes 1-3) If set to 0 (the default), the clock will be forced to resync approximately every hour. If set to 1, the clock will resync per normal operations (approximately midnight).&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If set to 1, better precision is reported (and thus lower dispersion) while clock&#39;s received signal quality is known to be good.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www2.exnet.com/NTP/ARC/ARC.html&#34;&gt;ARC Rugby MSF Receiver&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Austron 2200A/2201A GPS Receivers</title>
      <link>/archives/drivers/driver10/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver10/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver10/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver10/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver10/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver10/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver10/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.10.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS_AS2201&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Austron 2200A/2201A GPS/LORAN Synchronized Clock and Timing Receiver connected via a serial port. It supports several special features of the clock, including the Input Buffer Module, Output Buffer Module, IRIG-B Interface Module and LORAN Assist Module. It requires the RS232 Buffered Serial Interface module for communication with the driver.&lt;/p&gt;
&lt;p&gt;For use with a single computer, the receiver can be connected directly to the receiver. For use with multiple computers, one of them is connected directly to the receiver and generates the polling messages. The other computers just listen to the receiver output directly or through a buffer amplifier. For computers that just listen, &lt;tt&gt;fudge flag2&lt;/tt&gt; must be set and the &lt;tt&gt;ppsclock&lt;/tt&gt; streams module configured on each of them.&lt;/p&gt;
&lt;p&gt;This receiver is capable of a comprehensive and large volume of statistics and operational data. The specific data collection commands and attributes are embedded in the driver source code; however, the collection process can be enabled or disabled using the flag4 flag. If set, collection is enabled; if not, which is the default, it is disabled. A comprehensive suite of data reduction and summary scripts is in the ./scripts/stats directory of the ntp3 distribution.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;flag4&lt;/tt&gt; fudge flag, every received timecode is written as-is to the &lt;tt&gt;clockstats&lt;/tt&gt; file.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Set for computers that listen-only.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Bancomm bc635VME Time and Frequency Processor</title>
      <link>/archives/drivers/driver16/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver16/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver16/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver16/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver16/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.16.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: BTFP&lt;br&gt;
Driver ID: GPS_BANCOMM&lt;br&gt;
Bancomm Device &lt;tt&gt;/dev/btfp0&lt;/tt&gt;&lt;br&gt;
Requires: Bancomm bc635 TFP device module driver for SunOS 4.x/SunOS 5.x&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This is the clock driver for the Bancomm bc635VME Time and Frequency Processor. It requires the BANCOMM bc635VME bc350VXI Time and Frequency Processor Module Driver for SunOS 4.x/SunOS 5.x UNIX Systems.&lt;/p&gt;
&lt;p&gt;Most of this code is originally from refclock_bancomm.c with thanks. It has been modified and tested on an UltraSparc IIi-cEngine running Solaris 2.6. A port for HPUX is not available henceforth.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Chrono-log K-series WWVB receiver</title>
      <link>/archives/drivers/driver32/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver32/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver32/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver32/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.32.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;CHRONOLOG&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;CHRONOLOG&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/chronolog_u_&lt;/tt&gt;; 2400 bps, 8-bits, no parity&lt;/p&gt;
&lt;p&gt;Features: &lt;tt&gt;(none)&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Chrono-log K-series WWVB receiver. This is a very old receiver without provisions for leap seconds, quality codes, etc. It assumes output in the local time zone, and that the C library mktime()/localtime() routines will correctly convert back and forth between local and UTC. There is a hack in the driver for permitting UTC, but it has not been tested.&lt;/p&gt;
&lt;p&gt;Most of this code is originally from refclock_wwvb.c with thanks. It has been so mangled that wwvb is not a recognizable ancestor.&lt;/p&gt;
&lt;pre&gt;Timecode format: Y yy/mm/ddCLZhh:mm:ssCL
Y - year/month/date line indicator
yy/mm/dd -- two-digit year/month/day
C - \r (carriage return)
L - \n (newline)
Z - timestamp indicator
hh:mm:ss - local time
&lt;/pre&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Conrad parallel port radio clock</title>
      <link>/archives/drivers/driver35/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver35/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver35/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver35/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver35/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver35/#fudge-factors&#34;&gt;Fudge factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.35.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;PCF&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;PCF&lt;/tt&gt;&lt;br&gt;
Parallel Port: &lt;tt&gt;/dev/pcfclocks/&lt;em&gt;u&lt;/em&gt;&lt;/tt&gt; or &lt;tt&gt;/dev/pcfclock_u_&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the parallel port radio clock sold by &lt;a href=&#34;http://www.conrad.com/&#34;&gt;Conrad Electronic&lt;/a&gt; under order numbers 967602 and 642002. This clock is put between a parallel port and your printer. It receives the legal German time, which is either CET or CEST, from the DCF77 transmitter and uses it to set its internal quartz clock. The DCF77 transmitter is located near to Frankfurt/Main and covers a radius of more than 1500 kilometers.&lt;/p&gt;
&lt;p&gt;The pcfclock device driver is required in order to use this reference clock driver. Currently device drivers for Linux and FreeBSD are available.&lt;/p&gt;
&lt;p&gt;This driver uses C library functions to convert the received timecode to UTC and thus requires that the local timezone be CET or CEST. If your server is not located in Central Europe you have to set the environment variable TZ to CET before starting &lt;tt&gt;ntpd&lt;/tt&gt;.&lt;/p&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;Each timecode is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file in the format &lt;tt&gt;YYYY MM DD HH MI SS&lt;/tt&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.1725.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;PCF&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If set to 1, the radio clock&#39;s synchronisation status bit is ignored, ie the timecode is used without a check.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Dumb Clock</title>
      <link>/archives/drivers/driver33/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver33/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver33/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver33/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.33.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;DUMBCLOCK&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;DUMBCLOCK&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/dumbclock_u_&lt;/tt&gt;; 9600 bps, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;(none)&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports a dumb ASCII clock that only emits localtime at a reliable interval. This has no provisions for leap seconds, quality codes, etc. It assumes output in the local time zone, and that the C library mktime()/localtime() routines will correctly convert back and forth between local and UTC.&lt;/p&gt;
&lt;p&gt;Most of this code is originally from refclock_wwvb.c with thanks. It has been so mangled that wwvb is not a recognizable ancestor.&lt;/p&gt;
&lt;pre&gt;Timecode format: hh:mm:ssCL
hh:mm:ss - local time
C - \r (carriage return)
L - \n (newline)
&lt;/pre&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Forum Graphic GPS Dating station</title>
      <link>/archives/drivers/driver37/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver37/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver37/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver37/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver37/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver37/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.37.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Parallel Port: &lt;tt&gt;/dev/fgclock_u_&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Forum Graphic GPS Dating station sold by EMR company.&lt;/p&gt;
&lt;p&gt;Unfortunately sometime FG GPS start continues reporting of the same date. The only way to fix this problem is GPS power cycling and ntpd restart after GPS power-up.&lt;/p&gt;
&lt;p&gt;After Jan,10 2000 my FG GPS unit start send a wrong answer after 10:00am till 11:00am. It repeat hour value in result string twice. I wrote a small code to avoid such problem. Unfortunately I have no second FG GPS unit to evaluate this problem. Please let me know if your GPS has no problems after Y2K.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;Each timecode is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file in the format &lt;tt&gt;YYYY YD HH MI SS&lt;/tt&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;FG&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;mailtodas@amt.ru&#34;&gt;Dmitry Smirnov&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Generic NMEA GPS Receiver</title>
      <link>/archives/drivers/driver20/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver20/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 13-Jan-2020 07:12 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#nmea-talker-ids&#34;&gt;NMEA Talker IDs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#the-mode-byte&#34;&gt;The &amp;lsquo;mode&amp;rsquo; byte&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#about-distrusting-nmea-date-stamps&#34;&gt;About distrusting NMEA date stamps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#setting-up-the-garmin-gps-25xl&#34;&gt;Setting up the Garmin GPS-25XL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver20/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.20.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS_NMEA&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;; 4800 - 115200 bps, 8-bits, no parity&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gpspps_u_&lt;/tt&gt;; for just the PPS signal (this is tried first for PPS, before &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;)&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;; symlink to server:port (for nmead)&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports GPS receivers with the &lt;tt&gt;$GPRMC&lt;/tt&gt;, &lt;tt&gt;$GPGLL&lt;/tt&gt;, &lt;tt&gt;$GPGGA&lt;/tt&gt;, &lt;tt&gt;$GPZDA&lt;/tt&gt; and &lt;tt&gt;$GPZDG&lt;/tt&gt; NMEA sentences by default.  Note that Accord&amp;rsquo;s custom NMEA sentence &lt;tt&gt;$GPZDG&lt;/tt&gt; reports using the GPS timescale, while the rest of the sentences report UTC.  The difference between the two is a whole number of seconds which increases with each leap second insertion in UTC.  To avoid problems mixing UTC and GPS timescales, the driver disables processing of UTC sentences once &lt;tt&gt;$GPZDG&lt;/tt&gt; is received.&lt;br&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Caveat&lt;/h4&gt;

    Please see &lt;a href=&#34;/archives/drivers/driver20/#nmea-talker-ids&#34;&gt;Talker IDs&lt;/a&gt; when using non-GPS or multi-system receivers.

&lt;/div&gt;
&lt;/p&gt;
&lt;p&gt;The driver expects the receiver to be set up to transmit at least one supported sentence every second.&lt;/p&gt;
&lt;p&gt;The accuracy depends on the receiver used. Inexpensive GPS models are available with a claimed PPS signal accuracy of 1 μs or better relative to the broadcast signal. However, in most cases the actual accuracy is limited by the precision of the timecode and the latencies of the serial interface and operating system.&lt;/p&gt;
&lt;p&gt;If the Operating System supports PPSAPI (&lt;a href=&#34;http://www.ietf.org/rfc/rfc2783.txt&#34;&gt;RFC 2783&lt;/a&gt;), fudge flag1 1 enables its use.&lt;/p&gt;
&lt;p&gt;The various GPS sentences that this driver recognises look like this:&lt;br&gt;
(others quietly ignored)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Accepted NMEA sentences&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Sentence&lt;/th&gt;
&lt;th&gt;Vendor&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$GPRMC,UTC,POS_STAT,LAT,LAT_REF,LON,LON_REF,SPD,HDG,DATE,MAG_VAR,MAG_REF*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$GPGLL,LAT,LAT_REF,LON,LON_REF,UTC,POS_STAT*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$GPGGA,UTC,LAT,LAT_REF,LON,LON_REF,FIX_MODE,SAT_USED,HDOP,ALT,ALT_UNIT,GEO,G_UNIT,D_AGE,D_REF*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$GPZDA,UTC,DD,MM,YYYY,TH,TM,*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$GPZDG,GPSTIME,DD,MM,YYYY,AA.BB,V*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Accord&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$PGRMF,gpsWk,gpsTow,DATE,UTC,LEAPS,LAT,LAT_REF,LON,LON_REF,TYPE,MODE,SPD,HDOP,TDOP*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Garmin&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$PUBX,04,UTC,DATE,utcTow,utcWk,LEAPS,clkBias,clkDrift,tpGran,*CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UBLOX&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;NMEA data items&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Symbol&lt;/th&gt;
&lt;th&gt;Meaning and Format&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ALT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Antenna Altitude&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ALT_UNIT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Altitude Units (Metres/Feet)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DATE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Date (ddmmyy)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Day of the month (1-31)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;D_AGE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Age of last DGPS Fix&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;D_REF&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Reference ID of DGPS station&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FIX_MODE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Position Fix Mode (0 = Invalid, &amp;gt;0 = Valid)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEO&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Geoid/Elipsoid separation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GPSTIME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time of day on GPS timescale. Hours, minutes and seconds [fraction (opt.)] (hhmmss[.f])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;gpsTow&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GPS week time, seconds since start of GPS week (0..604799)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;gpsWk&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Week number in the GPS time scale (may exceed 1024)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;G_UNIT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Geoid units (M/F)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HDG&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Heading/track made good (degrees True) (x.x)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HDOP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Horizontal Dilution of Precision&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LAT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Latitude (llll.ll)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LAT_REF&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Latitude direction (N = North, S = South)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LEAPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Leap seconds or difference between GPS time scale and UTC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LON&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Longitude (yyyyy.yy)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LON_REF&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Longitude direction (E = East, W = West)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MAG_REF&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Magnetic variation (E = East, W = West)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MAG_VAR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Magnetic variation (degrees) (x.x)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MM&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Month of the year (1-12)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;POS_STAT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Position status. (A = Data valid, V = Data invalid)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SAT_USED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of Satellites used in solution&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SPD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Speed over ground. (knots) (x.x)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UTC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time of day on UTC timescale. Hours, minutes and seconds [fraction (opt.)] (hhmmss[.fff])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;YYYY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;WEEK&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GPS week (0-1023)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;WSEC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Seconds since start of week (0-604799)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LEAP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GPS leap seconds, that is, seconds ahead of UTC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AA.BB&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Denotes the signal strength (should be &amp;lt; 05.00)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;V&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GPS sync status&lt;br&gt;  &lt;code&gt;0&lt;/code&gt; =&amp;gt; INVALID time&lt;br&gt; &lt;code&gt;1&lt;/code&gt; =&amp;gt; accuracy of +/- 20ms&lt;br&gt; &lt;code&gt;2&lt;/code&gt; =&amp;gt; accuracy of +/- 100ns&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Checksum`&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Sentence terminator.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;nmea-talker-ids&#34;&gt;NMEA Talker IDs&lt;/h4&gt;
&lt;p&gt;GNSS receivers use a distinct talker ID for the GNSS they process. Receivers capable of tracking different systems at the same time can emit &lt;tt&gt;$GPRMC&lt;/tt&gt; (GPS), &lt;tt&gt;$GLRMC&lt;/tt&gt; (GLONASS), &lt;tt&gt;$GARMC&lt;/tt&gt; (Galileo), &lt;tt&gt;$GNRMC&lt;/tt&gt; (generic/combined) and others all in one data stream.&lt;/p&gt;
&lt;p&gt;The driver supports this to a certain degree by ignoring the talker ID on the standard sentences RMC, GLL, GGA, ZDA and ZDG. (It possibly should not do that on the latter, but for now, that&amp;rsquo;s the way it is.) So whenever &lt;tt&gt;$GPRMC&lt;/tt&gt; is mentioned in this document, substitute any possible talker ID your receiver might emit &amp;ndash; it will still match.&lt;/p&gt;
&lt;p&gt;This approach has a drawback. It is easy to use for single-system receivers, but it cannot separate the data streams for multi-system receiver modules. It is therefore undefined which GNSS actually provides the data, and this can lead to strange behavior. This is especially true if the different GNSS provide very different signal quality to the receiver; the driver is not able to cherry-pick the best source and might actually end up in using the worst available. It is therefore recommended to set up such a receiver to either use just a single GNSS (which would defeat its purpose) or to emit only the combined data, which usually has the &lt;tt&gt;GN&lt;/tt&gt; talker ID defined by the NMEA standard.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;the-mode-byte&#34;&gt;The &amp;lsquo;mode&amp;rsquo; byte&lt;/h4&gt;
&lt;p&gt;Specific GPS sentences and bitrates may be selected by setting bits of the &amp;lsquo;mode&amp;rsquo; in the server configuration line:&lt;br&gt;
&lt;tt&gt;server 127.127.20.x mode X&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;mode byte bits and bit groups&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bit&lt;/th&gt;
&lt;th&gt;Decimal&lt;/th&gt;
&lt;th&gt;Hex&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$GPRMC&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$GPGGA&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$GPGLL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$GPZDA&lt;/code&gt; or &lt;code&gt;$GPZDG&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4-6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 4800 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 9600 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x20&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 19200 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;48&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x30&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 38400 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x40&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 57600 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;80&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x50&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;linespeed 115200 bps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x80&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Write the sub-second fraction of the receive time stamp to the clockstat file for all recognised NMEA sentences. This can be used to get a useful value for fudge time2. &lt;strong&gt;Caveat:&lt;/strong&gt; This will fill your clockstat file rather fast. Use it only temporarily to get the numbers for the NMEA sentence of your choice.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x100&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$PGRMF&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;512&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x200&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;process &lt;code&gt;$PUBX,04&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10-15&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0xFC00&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;reserved - leave 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;65536&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x10000&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Append extra statistics to the clockstats line. Details below.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;17&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;131072&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x20000&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&amp;ldquo;Silent PPS&amp;rdquo; mode. Use the PPS channel (if enabled with fudge flag 1) to get precise receive time stamps. &lt;strong&gt;Do not&lt;/strong&gt; set the PPS flag in the clock status, so the clock is not considered as PPS peer.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;18&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;262144&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x40000&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Trust the date delivered via NMEA. Do this only if you &lt;em&gt;really&lt;/em&gt; trust the receiver! See &lt;a href=&#34;/archives/drivers/driver20/#about-distrusting-nmea-date-stamps&#34;&gt;below&lt;/a&gt;. &lt;strong&gt;Caveat:&lt;/strong&gt; This (hitherto undocumented) bit has moved!&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The default (mode 0) is to process all supported sentences at a linespeed of 4800 bps, which results in the first one received and recognised in each cycle being used.  If only specific sentences should be recognised, then the mode byte must be chosen to enable only the selected ones.  Multiple sentences may be selected by adding their mode bit values, but of those enabled still only the first received sentence in a cycle will be used.  Using more than one sentence per cycle is impossible, because&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There is only &lt;a href=&#34;/archives/drivers/driver20/#fudge-factors&#34;&gt;fudge time2&lt;/a&gt; available to compensate for transmission delays but every sentence would need a different one, and&lt;/li&gt;
&lt;li&gt;using more than one sentence per cycle overstuffs the internal data filters.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The driver uses 4800 bits per second by default, but faster bitrates can be selected using bits 4 to 6 of the mode field.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Caveat&lt;/h4&gt;

    Using higher line speeds does not necessarily increase the precision of the timing device.  Higher line speeds are not necessarily helpful for the NMEA driver, either.  They can be used to accomodate for an amount of data that does not fit into a 1-second cycle at 4800 bps, but high-speed high-volume NMEA data is likely to cause trouble with the serial line driver since NMEA supports no protocol handshake.  Any device that is exclusively used for time synchronisation purposes should be configured to transmit the relevant data only, e.g. one &lt;tt&gt;$GPRMC&lt;/tt&gt; or &lt;tt&gt;$GPZDA&lt;/tt&gt; per second, at a linespeed of 4800 bps or 9600 bps.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;about-distrusting-nmea-date-stamps&#34;&gt;About distrusting NMEA date stamps&lt;/h4&gt;
&lt;p&gt;Trusting the calendar dates delivered via NMEA is a risky thing, and by default these dates are handled with a huge dose of skepticism. Many receivers deliver a correct calendar date for a period of just 1024 weeks, with a starting point baked somewhere into their firmware. Beyond that, they warp back to the begin of their era and simply provide wrong date information. To battle this widely observed effect, the date delivered is by default reduced to GPS time again and then (re-)mapped according to the base date, either the implicit value or the value set via &amp;ldquo;tos basedate&amp;rdquo;. If the receiver can &lt;em&gt;really&lt;/em&gt; be trusted to deliver the right date (which is not impossible, just more expensive for the manufacturer), then mode bit 18 can be used to bypass the era mapping. Setting this bit is not needed under most circumstances, and setting it with an unreliable receiver can have severe effects. Handle with care.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    This functionality was available for some time as an undocumented feature, with a different bit value. It was moved in the process of becoming officially acknowledged to avoid excessive scattering of the mode bit mask.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The last GPS sentence that is accepted or rejected is written to the clockstats file and available with &lt;code&gt;ntpq -c clockvar&lt;/code&gt;. (Logging the rejected sentences lets you see/debug why they were rejected.) Filtered sentences are not logged.&lt;/p&gt;
&lt;p&gt;If the 0x10000 mode bit is on and clockstats is enabled, several extra counters will be appended to the NMEA sentence that gets logged. For example:&lt;/p&gt;
&lt;pre&gt;56299 76876.691 127.127.20.20 $GPGGA,212116.000,3726.0785,N,12212.2605,W,1,05,2.0,17.0,M,-25.7,M,,0000*5C  228 64 0 0 64 0
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Clockstats&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Column&lt;/th&gt;
&lt;th&gt;Sample&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;56299&lt;/td&gt;
&lt;td&gt;MJD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;76876.691&lt;/td&gt;
&lt;td&gt;Time of day in seconds&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;127.127.20.20&lt;/td&gt;
&lt;td&gt;IP Address from server config line&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;code&gt;$GPGGA,...0*5C&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;NMEA Sentence&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;228&lt;/td&gt;
&lt;td&gt;Number of sentences received&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;Number of sentences accepted and used for timekeeping&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Number of sentences rejected because they were marked invalid (poor signal)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Number of sentences rejected because of bad checksum or invalid date/time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;Number of sentences filtered by mode bits or same second&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Number of PPS pulses used, overrides NMEA sentences&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Sentences like &lt;code&gt;$GPGSV&lt;/code&gt; that don&amp;rsquo;t contain the time will get counted in the total but otherwise ignored.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://support.ntp.org/bin/view/Support/ConfiguringNMEARefclocks&#34;&gt;Configuring NMEA Refclocks&lt;/a&gt; might give further useful hints for specific hardware devices that exhibit strange or curious behaviour.&lt;/p&gt;
&lt;p&gt;To make a specific setting, select the corresponding decimal values from the mode byte table, add them all together and enter the resulting decimal value into the clock configuration line.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;setting-up-the-garmin-gps-25xl&#34;&gt;Setting up the Garmin GPS-25XL&lt;/h4&gt;
&lt;p&gt;Switch off all output with by sending it the following string.&lt;/p&gt;
&lt;pre&gt;&#34;$PGRMO,,2&lt;cr&gt;&lt;lf&gt;&#34;&lt;/pre&gt;
&lt;p&gt;Now switch only $GPRMC on by sending it the following string.&lt;/p&gt;
&lt;pre&gt;&#34;$PGRMO,GPRMC,1&lt;cr&gt;&lt;lf&gt;&#34;&lt;/pre&gt;
&lt;p&gt;On some systems the PPS signal isn&amp;rsquo;t switched on by default. It can be switched on by sending the following string.&lt;/p&gt;
&lt;pre&gt;&#34;$PGRMC,,,,,,,,,,,,2&lt;cr&gt;&lt;lf&gt;&#34;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the PPS time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;a name=&#34;fudgetime2&#34;&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the serial end of line time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Disable PPS signal processing if 0 (default); enable PPS signal processing if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If PPS signal processing is enabled, capture the pulse on the rising edge if 0 (default); capture on the falling edge if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If PPS signal processing is enabled, use the &lt;tt&gt;ntpd&lt;/tt&gt; clock discipline if 0 (default); use the kernel discipline if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Obscures location in timecode: 0 for disable (default), 1 for enable.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;flag1&lt;/tt&gt;, &lt;tt&gt;flag2&lt;/tt&gt;, and &lt;tt&gt;flag3&lt;/tt&gt; are ignored under Windows.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Generic Reference Driver</title>
      <link>/archives/drivers/driver8/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver8/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 27-Jan-2014 05:31 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#timecode-variables-listed-by-ntpq-8&#34;&gt;Timecode variables listed by ntpq (8)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#supported-devices&#34;&gt;Supported Devices&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#operation&#34;&gt;Operation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#hardware-pps-support&#34;&gt;Hardware PPS support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#making-your-own-parse-clocks&#34;&gt;Making your own PARSE clocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver8/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.8.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: PARSE&lt;br&gt;
Driver ID: GENERIC&lt;br&gt;
Serial Port: /dev/refclock-&lt;em&gt;u&lt;/em&gt;; TTY mode according to clock type&lt;br&gt;
PPS device: /dev/refclockpps-&lt;em&gt;u&lt;/em&gt;; alternate PPS device (if not available via the serial port)&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;The PARSE driver supports 20 different clock types/configurations. PARSE is actually a multi-clock driver.&lt;/p&gt;
&lt;p&gt;The actual receiver status is mapped into various synchronization states generally used by receivers. The driver is configured to interpret the time codes of Meinberg DCF77 AM receivers, DCF77 FM receivers, Meinberg GPS16x/17x receivers, Trimble SV6 GPS, ELV DCF7000, Schmid, Wharton 400A and low cost receivers.&lt;/p&gt;
&lt;p&gt;The reference clock support in NTP contains the necessary configuration tables for those receivers. In addition to supporting several different clock types and up to 4 devices, the processing of a PPS signal is also provided as a configuration option. The PPS configuration option uses the receiver-generated time stamps for feeding the PPS loopfilter control for much finer clock synchronization.&lt;/p&gt;
&lt;p&gt;CAUTION: The PPS configuration option is different from the hardware PPS signal, which is also supported (see below), as it controls the way ntpd is synchronized to the reference clock, while the hardware PPS signal controls the way time offsets are determined.&lt;/p&gt;
&lt;p&gt;The use of the PPS option requires receivers with an accuracy of better than 1ms.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;timecode-variables-listed-by-ntpq-8&#34;&gt;Timecode variables listed by ntpq (8)&lt;/h4&gt;
&lt;p&gt;The ntpq program can read and display several clock variables. These hold the following information:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;refclock_format&lt;/dt&gt;
&lt;dd&gt;A qualification of the decoded time code format.&lt;/dd&gt;
&lt;dt&gt;refclock_states&lt;/dt&gt;
&lt;dd&gt;The overall running time and the accumulated times for the clock event states.&lt;/dd&gt;
&lt;dt&gt;refclock_status&lt;/dt&gt;
&lt;dd&gt;Lists the currently active receiver flags. Additional feature flags for the receiver are optionally listed in parentheses.&lt;/dd&gt;
&lt;dt&gt;refclock_time&lt;/dt&gt;
&lt;dd&gt;The local time with the offset to UTC (format HHMM).&lt;/dd&gt;
&lt;dt&gt;timecode&lt;/dt&gt;
&lt;dd&gt;The actual time code.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;If PPS information is present, additional variables are available:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;refclock_ppsskew&lt;/dt&gt;
&lt;dd&gt;The difference between the RS-232-derived timestamp and the PPS timestamp.&lt;/dd&gt;
&lt;dt&gt;refclock_ppstime&lt;/dt&gt;
&lt;dd&gt;The PPS timestamp.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;supported-devices&#34;&gt;Supported Devices&lt;/h4&gt;
&lt;p&gt;Currently, twenty-four clock types are supported by the PARSE driver and up to four devices (/dev/refclock-0 - /dev/refclock-3) of these clocks may be operational at any one time.&lt;/p&gt;
&lt;p&gt;A note on the implementations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;These implementations were mainly done without actual access to the hardware, thus not all implementations provide full support. The development was done with the help of many kind souls who had the hardware and kindly lent me their time and patience during the development and debugging cycle. Thus for continued support and quality, direct access to the receivers is a big help. Nevertheless I am not prepared to buy these reference clocks - donations to (&lt;a href=&#34;mailto:kardel%20%3CAT%3E%20ntp.org&#34;&gt;kardel &lt;AT&gt; ntp.org&lt;/a&gt;) are welcome as long as they work within Europe 8-).&lt;/p&gt;
&lt;p&gt;Verified implementations are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;RAWDCF variants&lt;/p&gt;
&lt;p&gt;These variants have been tested for correct decoding with my own homegrown receivers. Interfacing with specific commercial products may involve some fiddling with cables. In particular, commercial RAWDCF receivers have a seemingly unlimited number of ways to draw power from the RS-232 port and to encode the DCF77 datastream. You are mainly on your own here unless I have a sample of the receiver.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg clocks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;These implementations have been verified by the Meinberg people themselves and I have access to one of these clocks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.selinc.com&#34;&gt;Schweitzer Engineering Laboratories&lt;/a&gt; SEL-240x clocks&lt;/p&gt;
&lt;p&gt;This implementation was provided and verified by SEL and &lt;a href=&#34;http://nwtime.org&#34;&gt;Network Time Foundation&lt;/a&gt; has an SEL-2407 in one of its development labs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The pictures below have been taken from and are linked to the vendors&#39; web pages.&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;clocklist&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 0&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg&lt;/a&gt; PZF5xx receiver family (FM demodulation/TCXO / 50μs)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg&lt;/a&gt; PZF5xx receiver family (FM demodulation/OCXO / 50μs)&lt;/strong&gt;&lt;br&gt;
&lt;a href=&#34;http://www.meinberg.de/english/products/pzf-eurocard.htm&#34;&gt;&lt;img src=&#34;/archives/pic/pzf511.jpg&#34; alt=&#34;Image PZF511&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a name=&#34;mode2&#34;&gt;&lt;/a&gt;&lt;strong&gt;server 127.127.8.0-3 mode 2&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg&lt;/a&gt; &lt;a href=&#34;http://www.meinberg.de/english/products/c51.htm&#34;&gt;DCF C51 receiver and similar&lt;/a&gt; (AM demodulation / 4ms)&lt;/strong&gt;&lt;br&gt;
&lt;a href=&#34;http://www.meinberg.de/english/products/c51.htm&#34;&gt;&lt;img src=&#34;/archives/pic/c51.jpg&#34; alt=&#34;Image C51&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This mode expects the Meinberg standard time string format with 9600/7E2.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; mode 2 must also be used for &lt;a href=&#34;http://www.meinberg.de/english/products/formfactor.htm#slot_card&#34;&gt;Meinberg&lt;/a&gt; PCI cards under Linux, e.g. &lt;a href=&#34;http://www.meinberg.de/english/products/gps-pcicard.htm&#34;&gt;the GPS PCI card&lt;/a&gt; or &lt;a href=&#34;http://www.meinberg.de/english/products/dcf-pcicard.htm&#34;&gt;the DCF77 PCI card&lt;/a&gt;. Please note the &lt;a href=&#34;http://www.meinberg.de/english/sw/#linux&#34;&gt;Meinberg Linux driver&lt;/a&gt; must be installed. That driver emulates a refclock device in order to allow ntpd to access those cards. For details, please refer to the README file that comes with the Meinberg driver package.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 3&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.elv.de&#34;&gt;ELV&lt;/a&gt; DCF7000 (sloppy AM demodulation / 50ms)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 4&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Walter Schmid DCF receiver Kit (AM demodulation / 1ms)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 5&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAW DCF77 100/200ms pulses (Conrad DCF77 receiver module / 5ms)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 6&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAW DCF77 100/200ms pulses (TimeBrick DCF77 receiver module / 5ms)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 7&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg&lt;/a&gt; GPS16x/GPS17x receivers (GPS / &amp;laquo;1μs)&lt;/strong&gt;&lt;br&gt;
&lt;a href=&#34;http://www.meinberg.de/english/products/gps-eurocard.htm&#34;&gt;&lt;img src=&#34;/archives/pic/gps167.jpg&#34; alt=&#34;Image GPS167&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This mode expects either the University of Erlangen time string format or the Meinberg standard time string format at 19200/8N1.&lt;/p&gt;
&lt;p&gt;The University of Erlangen format is preferred. Newer Meinberg GPS receivers can be configured to transmit that format; for older devices, a special firmware version may be available.&lt;/p&gt;
&lt;p&gt;In this mode some additional GPS receiver status information is also read. However, this requires a point-to-point connection. Mode 18 should be used if the device is accessed by a multidrop connection.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    mode 7 must not be used with Meinberg PCI cards; use mode 2 instead.

&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 8&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.igel.de&#34;&gt;IGEL&lt;/a&gt; clock&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;/archives/pic/igclock.gif&#34; alt=&#34;Image IGEL clock&#34;&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 9&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.trimble.com&#34;&gt;Trimble&lt;/a&gt; SVeeSix GPS receiver TAIP protocol (GPS / &amp;laquo;1μs)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 10&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.trimble.com&#34;&gt;Trimble&lt;/a&gt; SVeeSix GPS receiver TSIP protocol (GPS / &amp;laquo;1μs) (no kernel support yet)&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;/archives/pic/pd_om011.gif&#34; alt=&#34;Image SVeeSix-CM3&#34;&gt;
&lt;img src=&#34;/archives/pic/pd_om006.gif&#34; alt=&#34;Image Lassen-SK8&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 11&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Radiocode Clocks Ltd RCC 8000 Intelligent Off-Air Master Clock support&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 12&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.hopf-time.com&#34;&gt;HOPF&lt;/a&gt; Funkuhr 6021&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;/archives/pic/fg6021.gif&#34; alt=&#34;Image DCF77 Interface Board&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 13&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Diem&amp;rsquo;s Computime Radio Clock&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 14&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAWDCF receiver (DTR=high/RTS=low)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 15&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;WHARTON 400A Series Clocks with a 404.2 Serial Interface&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 16&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAWDCF receiver (DTR=low/RTS=high)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 17&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VARITEXT Receiver (MSF)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a name=&#34;mode18&#34;&gt;&lt;/a&gt;&lt;strong&gt;server 127.127.8.0-3 mode 18&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.meinberg.de&#34;&gt;Meinberg&lt;/a&gt; GPS16x/GPS17x receivers (GPS / &amp;laquo;1μs)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This mode works without additional data communication (version, GPS status etc.) and thus should be used with multidrop, heterogeneous multiclient operation.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; mode 18 must not be used with Meinberg PCI cards, use mode 2 instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 19&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gude Analog- und Digitalsystem GmbH &amp;lsquo;Expert mouseCLOCK USB v2.0&amp;rsquo;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 20&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAWDCF receiver similar to mode 14, but operating @ 75 baud (DTR=high/RTS=low)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Driving the DCF clocks at 75 baud may help to get them to work with a bunch of common USB serial converters, that do 75 but cannot do 50 baud at all, e.g. those based on Prolific PL2303.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 21&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAWDCF receiver similar to mode 16, but operating @ 75 baud (DTR=low/RTS=high)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See comment from mode 20 clock.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 22&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MEINBERG, mode 2 but with POWERUP trust&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 23&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MEINBERG, mode 7 but with POWERUP trust&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;server 127.127.8.0-3 mode 24&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://www.selinc.com/&#34;&gt;Schweitzer Engineering Laboratories&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Actual data formats and setup requirements of the various clocks can be found in &lt;a href=&#34;/archives/4.2.8-series/parsedata&#34;&gt;NTP PARSE clock data formats&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operation&#34;&gt;Operation&lt;/h4&gt;
&lt;p&gt;The reference clock support software carefully monitors the state transitions of the receiver. All state changes and exceptional events (such as loss of time code transmission) are logged via the syslog facility. Every hour a summary of the accumulated times for the clock states is listed via syslog.&lt;/p&gt;
&lt;p&gt;PPS support is only available when the receiver is completely synchronized. The receiver is believed to deliver correct time for an additional period of time after losing synchronization, unless a disruption in time code transmission is detected (possible power loss). The trust period is dependent on the receiver oscillator and thus is a function of clock type.&lt;/p&gt;
&lt;p&gt;Raw DCF77 pulses can be fed via a level converter to the RXD pin of an RS-232 serial port (pin 3 of a 25-pin connector or pin 2 of a 9-pin connector). The telegrams are decoded and used for synchronization. DCF77 AM receivers can be bought for as little as $25. The accuracy is dependent on the receiver and is somewhere between 2ms (expensive) and 10ms (cheap). Synchronization ceases when reception of the DCF77 signal deteriorates, since no backup oscillator is available as usually found in other reference clock receivers. So it is important to have a good place for the DCF77 antenna. During transmitter shutdowns you are out of luck unless you have other NTP servers with alternate time sources available.&lt;/p&gt;
&lt;p&gt;In addition to the PPS loopfilter control, a true PPS hardware signal can be utilized via the PPSAPI interface. PPS pulses are usually fed via a level converter to the DCD pin of an RS-232 serial port (pin 8 of a 25-pin connector or pin 1 of a 9-pin connector). To select PPS support, the mode parameter is the mode value as above plus 128. If 128 is not added to the mode value, PPS will be detected to be available but will not be used.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;hardware-pps-support&#34;&gt;Hardware PPS support&lt;/h4&gt;
&lt;p&gt;For PPS to be used, add 128 to the mode parameter.&lt;/p&gt;
&lt;p&gt;If the PPS signal is fed in from a device different from the device providing the serial communication (/dev/refclock-{0..3}), this device is configured as /dev/refclockpps-{0..3}. This allows the PPS information to be fed in e.g. via the parallel port (if supported by the underlying operation system) and the date/time telegrams to be handled via the serial port.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;Clock state statistics are written hourly to the syslog service. Online information can be found by examining the clock variables via the ntpq cv command.&lt;br&gt;
Some devices have quite extensive additional information (GPS16x/GPS17x, Trimble). The driver reads out much of the internal GPS data and makes it accessible via clock variables. To find out about additional variable names, query for the clock_var_list variable on a specific clock association as shown below.&lt;/p&gt;
&lt;p&gt;First let ntpq display the table of associations:&lt;/p&gt;
&lt;pre&gt;  ntpq&gt; as    ind assID status  conf reach auth condition  last_event cnt    ===========================================================      1 19556  9154   yes   yes  none falsetick   reachable  5      2 19557  9435   yes   yes  none  candidat  clock expt  3      3 19558  9714   yes   yes  none  pps.peer   reachable  1  		&lt;/pre&gt;
&lt;p&gt;Then switch to raw output. This may be required because of display limitations in ntpq/ntpd - so large lists need to be retrieved in several queries.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ntpq&amp;gt; raw&lt;/code&gt; &lt;br&gt;
&lt;code&gt;Output set to raw&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Use the cv command to read the list of clock variables of a selected association:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ntpq&amp;gt; cv 19557 clock_var_list&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The long output of the command above looks similar to:&lt;/p&gt;
&lt;pre&gt;  assID=19557 status=0x0000,    clock_var_list=&#34;type,timecode,poll,noreply,badformat,baddata,fudgetime1,    fudgetime2,stratum,refid,flags,device,clock_var_list,refclock_time,refclock_status,    refclock_format,refclock_states,refclock_id,refclock_iomode,refclock_driver_version,    meinberg_gps_status,gps_utc_correction,gps_message,meinberg_antenna_status,gps_tot_51,    gps_tot_63,gps_t0a,gps_cfg[1],gps_health[1],gps_cfg[2],gps_health[2],gps_cfg[3],    gps_health[3],gps_cfg[4],gps_health[4],gps_cfg[5]&#34;  		&lt;/pre&gt;
&lt;p&gt;Then use the cv command again to list selected clock variables. The following command must be entered as a single line:&lt;/p&gt;
&lt;pre&gt;  ntpq&gt; cv 19557 refclock_status,refclock_format,refclock_states,refclock_id,    refclock_iomode,refclock_driver_version,meinberg_gps_status,gps_utc_correction,    gps_message,meinberg_antenna_status,gps_tot_51,gps_tot_63,gps_t0a,gps_cfg[1],    gps_health[1],gps_cfg[2],gps_health[2],gps_cfg[3],gps_health[3],gps_cfg[4],    gps_health[4],gps_cfg[5]  		&lt;/pre&gt;
&lt;p&gt;The output of the command above is wrapped around depending on the screen width and looks similar to:&lt;/p&gt;
&lt;pre&gt;  status=0x0003,    refclock_status=&#34;UTC DISPLAY; TIME CODE; PPS; POSITION; (LEAP INDICATION;    PPS SIGNAL; POSITION)&#34;,    refclock_format=&#34;Meinberg GPS Extended&#34;,    refclock_states=&#34;*NOMINAL: 21:21:36 (99.99%); FAULT: 00:00:03 (0.00%);    running time: 21:21:39&#34;,    refclock_id=&#34;GPS&#34;, refclock_iomode=&#34;normal&#34;,    refclock_driver_version=&#34;refclock_parse.c,v 4.77 2006/08/05 07:44:49    kardel RELEASE_20060805_A&#34;,    meinberg_gps_status=&#34;[0x0000] &lt;OK&gt;&#34;,    gps_utc_correction=&#34;current correction 14 sec, last correction    on c7619a00.00000000  Sun, Jan  1 2006  0:00:00.000&#34;,    gps_message=&#34;/PFU3SOP-4WG14EPU0V1KA&#34;,    meinberg_antenna_status=&#34;RECONNECTED on 2006-07-18 08:13:20.0000000 (+0000)    UTC CORR, LOCAL TIME, reconnect clockoffset +0.0000000 s,    disconnect time 0000-00-00 00:00:00.0000000 (+0000) &#34;,    gps_tot_51=&#34;week 1400 + 3 days + 42300.0000000 sec&#34;,    gps_tot_63=&#34;week 1400 + 3 days + 42294.0000000 sec&#34;,    gps_t0a=&#34;week 1400 + 5 days + 71808.0000000 sec&#34;,    gps_cfg[1]=&#34;[0x9] BLOCK II&#34;, gps_health[1]=&#34;[0x0] OK;SIGNAL OK&#34;,    gps_cfg[2]=&#34;[0x0] BLOCK I&#34;, gps_health[2]=&#34;[0x3f] PARITY;MULTIPLE ERRS&#34;,    gps_cfg[3]=&#34;[0x9] BLOCK II&#34;, gps_health[3]=&#34;[0x0] OK;SIGNAL OK&#34;,    gps_cfg[4]=&#34;[0x9] BLOCK II&#34;, gps_health[6]=&#34;[0x0] OK;SIGNAL OK&#34;,    gps_cfg[5]=&#34;[0x9] BLOCK II&#34;  		&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;time1 _time_&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction. The default value depends on the clock type.&lt;/dd&gt;
&lt;dt&gt;time2 _time_&lt;/dt&gt;
&lt;dd&gt;If flag1 is 0, time2 specifies the offset of the PPS signal from the actual time (PPS fine tuning).&lt;/dd&gt;
&lt;dd&gt;If flag1 is 1, time2 specifies the number of seconds a receiver with a premium local oscillator can be trusted after losing synchronisation.&lt;/dd&gt;
&lt;dt&gt;stratum _stratum_&lt;/dt&gt;
&lt;dd&gt;The stratum for this reference clock.&lt;/dd&gt;
&lt;dt&gt;refid _refid_&lt;/dt&gt;
&lt;dd&gt;The refid for this reference clock.&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;flag1 { 0 | 1 }&lt;/dt&gt;
&lt;dd&gt;If 0, the fudge factor time2 refers to the PPS offset.&lt;/dd&gt;
&lt;dd&gt;If 1, time2 refers to the TRUST TIME.&lt;/dd&gt;
&lt;dt&gt;flag2 { 0 | 1 }&lt;/dt&gt;
&lt;dd&gt;If flag2 is 1, sample PPS on CLEAR instead of on ASSERT.&lt;/dd&gt;
&lt;dt&gt;flag3 { 0 | 1 }&lt;/dt&gt;
&lt;dd&gt;If flag3 is 1, link kernel PPS tracking to this refclock instance.&lt;/dd&gt;
&lt;dt&gt;flag4 { 0 | 1 }&lt;/dt&gt;
&lt;dd&gt;Delete next leap second instead of adding it. (You&#39;ll need to wait a bit for that to happen.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;&lt;strong&gt;Note about auxiliary Sun STREAMS modules (SunOS and Solaris):&lt;/strong&gt;&lt;br&gt;
The timecode of these receivers can be sampled via a STREAMS module in the kernel. (The STREAMS module has been designed for use with Sun systems under SunOS 4.1.x or Solaris 2.3 - 2.8. It can be linked directly into the kernel or loaded via the loadable driver mechanism.) This STREAMS module can be adapted to convert different time code formats. Nowadays the PPSAPI mechanism is usually used.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;making-your-own-parse-clocks&#34;&gt;Making your own PARSE clocks&lt;/h4&gt;
&lt;p&gt;The parse clock mechanism deviates from the way other NTP reference clocks work. For a short description of how to build parse reference clocks, see &lt;a href=&#34;/archives/4.2.8-series/parsenew&#34;&gt;making PARSE clocks&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: GPSD-NG client driver</title>
      <link>/archives/drivers/driver46/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver46/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 30-Apr-2015 05:53 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#naming-a-device&#34;&gt;Naming a Device&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#the-mode-word&#34;&gt;The ‘mode’ word&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#syslog-flood-throttle&#34;&gt;Syslog flood throttle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#pps-secondary-clock-unit&#34;&gt;PPS secondary clock unit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#clockstats&#34;&gt;Clockstats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver46/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.46._u_&lt;/code&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPSD&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPSD_JSON&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt; as symlink to the true device (not used directly; see below)&lt;br&gt;
Features:&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver is a client driver to the &lt;em&gt;GPSD&lt;/em&gt; daemon, which over the time became increasingly popular for UN*Xish platforms. &lt;em&gt;GPSD&lt;/em&gt; can manage several devices in parallel, aggregate information, and acts as a data hub for client applications. &lt;em&gt;GPSD&lt;/em&gt; can also auto-detect and handle PPS hardware signals on serial ports. Have a look at &lt;a href=&#34;https://gpsd.gitlab.io/gpsd/index.html&#34;&gt;the &lt;em&gt;GPSD&lt;/em&gt; project page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;It is important to understand that this driver works best using a GPS device with PPS support.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The GPSD-NG protocol is text based, using JSON notation to transfer records in form of JSON objects. The driver uses a TCP/IP connection to &lt;tt&gt;localhost:gpsd&lt;/tt&gt; to connect to the daemon and then requests the GPS device &lt;tt&gt;/dev/gps_u_&lt;/tt&gt; to be watched. Different clock units use different devices, and GPSD is able to give only the relevant information to a clock instance.&lt;/p&gt;
&lt;p&gt;This driver does not expect &lt;em&gt;GPSD&lt;/em&gt; to be running or the clock device to be present &lt;em&gt;a priori&lt;/em&gt;; it will try to re-establish a lost or hitherto unsuccessful connection and will wait for device to come up in &lt;em&gt;GPSD.&lt;/em&gt; There is an initial 10 seconds delay between a connection loss or failed attempt and the next reconnect attempt; this makes sure that there is no thrashing on the network layer. If the connection fails again, an exponential back off is used with an upper limit of approximately 10 minutes.&lt;/p&gt;
&lt;p&gt;The overall accuracy depends on the receiver used. The driver uses the error estimations (95% probability limits) provided by &lt;em&gt;GPSD&lt;/em&gt; to set the clock precision dynamically according to these readings.&lt;/p&gt;
&lt;p&gt;The driver needs the VERSION, TPV, PPS, WATCH and TOFF objects of the &lt;em&gt;GPSD&lt;/em&gt; protocol. (Others are quietly ignored.) The driver can operate without the TOFF objects, which are available with the &lt;em&gt;protocol&lt;/em&gt; version 3.10 and above. (Not to be confused with the &lt;em&gt;release&lt;/em&gt; version of &lt;em&gt;GPSD&lt;/em&gt;!) Running without TOFF objects has a negative impact on the jitter and offset of the serial timing information; if possible, a version of &lt;em&gt;GPSD&lt;/em&gt; with support for TOFF objects should be used.&lt;/p&gt;
&lt;p&gt;The acronym &lt;u&gt;STI&lt;/u&gt; is used here as a synonym for &lt;em&gt;serial time information&lt;/em&gt; from the data channel of the receiver, no matter what objects were used to obtain it.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;naming-a-device&#34;&gt;Naming a Device&lt;/h4&gt;
&lt;p&gt;The &lt;em&gt;GPSD&lt;/em&gt; driver uses the same device name as the NMEA driver, namely &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;. There is a simple reason for that: While the NMEA driver and the GPSD driver can be active at the same time for different devices, they cannot access the same device at a time. Having the same name helps on that. It also eases migration from using NMEA directly to using GPSD, as no new links etc need to be created.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;GPSD&lt;/em&gt; is normally started with the device name to access; it can also be instructed by hot-plug scripts to add or remove devices from its device pool. Luckily, the symlinks used by the NMEA driver are happily accepted and used by &lt;em&gt;GPSD&lt;/em&gt;; this makes it possible to use the symlink names as device identification. This makes the migration from the built-in NMEA driver a bit easier.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    &lt;em&gt;GPSD&lt;/em&gt; (as of version 3.10) cannot use kernel mode PPS on devices that are hot-plugged. This would require to attach the PPS line discipline to the character special file, which is not possible when running with root privileges already dropped. This is not likely to change in the future.

&lt;/div&gt;

&lt;h4 id=&#34;the-mode-word&#34;&gt;The &amp;lsquo;mode&amp;rsquo; word&lt;/h4&gt;
&lt;p&gt;A few operation modes can be selected with the mode word.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Mode Word&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bits&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0-1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;STI only operation. This mode is affected by the timing stability of whatever protocol is used between the GPS device and GPSD.  Running on STI only is not recommended in general. Possible use cases include:&lt;br&gt; - The receiver does not provide a PPS signal.&lt;br&gt; - The receiver &lt;em&gt;does&lt;/em&gt; provide a PPS signal and the secondary PPS unit is used.&lt;br&gt; - The receiver has a stable serial timing and a proper fudge can be established.&lt;br&gt; - You have other time sources available and want to establish a useful fudge value for &lt;tt&gt;time2&lt;/tt&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Strict operation. This mode needs a valid PPS and a valid STI to combine the absolute time from the STI with the time stamp from the PPS record. Does not feed clock samples if no valid PPS+STI pair is available. This type of operation results in an ordinary clock with a very low jitter as long as the PPS data is available, but the clock fails once PPS drops out. This mode is a possible choice for receivers that provide a PPS signal most of the time but have an unstable serial timing that cannot be fudge-compensated.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Automatic mode. Tries to operate in strict mode unless it fails to process valid samples for some time, currently 120s. Then it reverts to STI-only operation until the PPS is stable again for 40s, when strict mode is engaged again. &lt;strong&gt;Important Notice: This is an expiremental feature!&lt;/strong&gt;  Switching between strict and STI-only mode will cause changes in offset and jitter. Use this mode only if STI-only works fairly well with your setup, or if you expect longer dropouts of the PPS signal and prefer to use STI alone over not getting synchronised at all.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;reserved for future extension, do not use&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2-31&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;reserved for future extension, do not use&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;syslog-flood-throttle&#34;&gt;Syslog flood throttle&lt;/h4&gt;
&lt;p&gt;This driver can create a lot of syslog messages when things go wrong, and cluttering the log files is frowned upon. So we attempt to log persistent or recurring errors only once per hour. On the other hand, when tracking a problem the syslog flood throttle can get into the way.&lt;/p&gt;
&lt;p&gt;Therefore, fudge &lt;em&gt;flag3&lt;/em&gt; can be used to &lt;em&gt;disable&lt;/em&gt; the flood throttle at any time; the throttle is engaged by default. Running with the syslog flood throttle disabled for lengthy time is not recommended unless the log files are closely monitored.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;pps-secondary-clock-unit&#34;&gt;PPS secondary clock unit&lt;/h4&gt;
&lt;p&gt;Units with numbers ≥128 act as secondary clock unit for the primary clock unit (u mod 128). A secondary unit processes only the PPS data from &lt;em&gt;GPSD&lt;/em&gt; and needs the corresponding master unit to work&lt;sup&gt;&lt;a href=&#34;#myfootnote1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;. Use the &lt;code&gt;noselect&lt;/code&gt; keyword on the primary unit if you are not interested in its data.&lt;/p&gt;
&lt;p&gt;The secondary unit employs the usual precautions before feeding clock samples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The system must be already in a synchronised state.&lt;/li&gt;
&lt;li&gt;The system offset must be less than 400ms absolute.&lt;/li&gt;
&lt;li&gt;The phase adjustment from the PPS signal must also be less than 400ms absolute.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If fudge flag &lt;tt&gt;flag1&lt;/tt&gt; is set for the secondary unit, the unit asserts the PPS flag on the clock as long as PPS data is available. This makes the unit eligible as PPS peer and should only be used if the GPS receiver can be trusted for the quality of its PPS signal&lt;sup&gt;&lt;a href=&#34;#myfootnote2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;. The PPS flag gets cleared if no PPS records can be aquired for some time. The unit also flushes the sample buffer at this point to avoid the use of stale PPS data.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Attention&lt;/h4&gt;

    This unit uses its own PPS fudge value which must be set as fudge &lt;tt&gt;time1&lt;/tt&gt;. Only the fudge values &lt;tt&gt;time1&lt;/tt&gt; and &lt;tt&gt;flag1&lt;/tt&gt; have an impact on secondary units.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;clockstats&#34;&gt;Clockstats&lt;/h4&gt;
&lt;p&gt;If flag4 is set when the driver is polled, a clockstats record is written for the primary clock unit. (The secondary PPS unit does not provide clock stats on its own.) The first 3 fields are the normal date, time, and IP address common to all clockstats records.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Clockstats Line&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Date as day number since NTP epoch.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time as seconds since midnight.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;(Pseudo-) IP address of clock unit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of received known JSON records since last poll. The driver knows about TPV, PPS, TOFF, VERSION, and WATCH records; others are silently ignored.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Bad replies since last poll. A record is considered malformed or a bad reply when it is missing vital fields or the fields contain malformed data that cannot be parsed.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of sample cycles since last poll that were discarded because there was no GPS fix. This is effectively the number of TPV records with a fix value &amp;lt; 2 or without a time stamp.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of serial time information records (TPV or TOFF, depending on the GPSD version) received since last poll.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of serial time information records used for clock samples since the last poll.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of PPS records received since the last poll.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of PPS records used for clock samples on the secondary channel since the last poll.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the PPS time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;dt&gt;&lt;a name=&#34;fudgetime2&#34;&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/a&gt;&lt;/dt&gt;
&lt;p&gt;&lt;em&gt;[Primary Unit]&lt;/em&gt; Specifies the TPV/TIME time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPSD&lt;/tt&gt;.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;&lt;em&gt;[Secondary Unit]&lt;/em&gt; When set, flags the secondary clock unit as a potential PPS peer as long as good PPS data is available.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;&lt;em&gt;[Primary Unit]&lt;/em&gt; When set, disables the processing of incoming PPS records. Intended as an aide to test the effects of a PPS dropout when using automatic mode (mode 2).&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;&lt;em&gt;[Primary Unit]&lt;/em&gt; If set, disables the log throttle. Useful when tracking problems in the interaction between &lt;em&gt;GPSD&lt;/em&gt; and &lt;em&gt;NTPD&lt;/em&gt;, since now all error events are logged. Persistent/recurrent errors can easily fill up the log, so this should only be enabled during bug hunts.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;&lt;em&gt;[Primary Unit]&lt;/em&gt; If set, write a clock stats line on every poll cycle.&lt;/p&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a name=&#34;myfootnote1&#34;&gt;1&lt;/a&gt;  Data transmission and decoding is done only once by the primary unit. The decoded data is then processed independently in both clock units. This avoids double transmission over two sockets and decoding the same data twice, but the primary unit is always needed as a downside of this approach.&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;myfootnote2&#34;&gt;2&lt;/a&gt;  The clock driver suppresses the processing PPS records when the TPV/TIME data indicates the receiver has no fix. It can also deal with situations where the PPS signal is not delivered to &lt;em&gt;GPSD&lt;/em&gt;. But once it is available, it is also processed and used to create samples. If a receiver cannot be trusted for the precision of its PPS signal, it should not be used to create a possible PPS peer: These get extra clout and can effectively become the sole source of input for the control loop. You do not want to use sloppy data for that.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Heath WWV/WWVH Receiver</title>
      <link>/archives/drivers/driver19/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver19/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver19/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver19/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver19/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver19/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.19.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;WWV&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;WWV_HEATH&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/heath_u_&lt;/tt&gt;; 1200 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;br&gt;
Requires: &lt;tt&gt;/usr/include/sys/termios.h&lt;/tt&gt; header file with modem control&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Heath GC-1000 Most Accurate Clock, with RS232C Output Accessory. This is a WWV/WWVH receiver somewhat less robust than other supported receivers. It&amp;rsquo;s claimed accuracy is 100 ms when actually synchronized to the broadcast signal, but this doesn&amp;rsquo;t happen even most of the time, due to propagation conditions, ambient noise sources, etc. When not synchronized, the accuracy is at the whim of the internal clock oscillator, which can wander into the sunset without warning. Since the indicated precision is 100 ms, expect a host synchronized only to this thing to wander to and fro, occasionally being rudely stepped when the offset exceeds the default CLOCK_MAX of 128 ms.&lt;/p&gt;
&lt;p&gt;The internal DIPswitches should be set to operate at 1200 baud in MANUAL mode and the current year. The external DIPswitches should be set to GMT and 24-hour format. It is very important that the year be set correctly in the DIPswitches; otherwise, the day of year will be incorrect after 28 April of a normal or leap year.&lt;/p&gt;
&lt;p&gt;In MANUAL mode the clock responds to a rising edge of the request to send (RTS) modem control line by sending the timecode. Therefore, it is necessary that the operating system implement the &lt;tt&gt;TIOCMBIC&lt;/tt&gt; and &lt;tt&gt;TIOCMBIS&lt;/tt&gt; ioctl system calls and &lt;tt&gt;TIOCM_RTS&lt;/tt&gt; control bit. Present restrictions require the use of a POSIX-compatible programming interface, although other interfaces may work as well.&lt;/p&gt;
&lt;p&gt;The clock message consists of 23 ASCII printing characters in the following format:&lt;/p&gt;
&lt;pre&gt;hh:mm:ss.f     dd/mm/yr&lt;cr&gt;

hh:mm:ss.f = hours, minutes, seconds
f = deciseconds (&#39;?&#39; when out of spec)
dd/mm/yr = day, month, year&lt;/pre&gt;
&lt;p&gt;The alarm condition is indicated by &lt;code&gt;&#39;?&#39;&lt;/code&gt;, rather than a digit, at A. Note that &lt;code&gt;0?:??:??.?&lt;/code&gt; is displayed before synchronization is first established and &lt;code&gt;hh:mm:ss.?&lt;/code&gt; once synchronization is established and then lost again for about a day.&lt;/p&gt;
&lt;p&gt;A fudge time1 value of .07 s appears to center the clock offset residuals.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;WWV&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Hewlett Packard 58503A GPS Receiver and HP Z3801A</title>
      <link>/archives/drivers/driver26/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver26/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 5-Oct-2005 04:37 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver26/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver26/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver26/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.26.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS_HP&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/hpgps_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity, 19200 baud 7-bits, odd parity for the HP Z3801A&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the HP 58503A Time and Frequency Reference Receiver and HP Z3801A GPS Receiver. They use HP SmartClock (TM) to implement an Enhanced GPS receiver. The receiver accuracy when locked to GPS in normal operation is better than 1 usec. The accuracy when operating in holdover is typically better than 10 us per day. It receiver should be operated with factory default settings. Initial driver operation: expects the receiver to be already locked to GPS, configured and able to output timecode format 2 messages.&lt;/p&gt;
&lt;p&gt;The driver uses the poll sequence &lt;tt&gt;:PTIME:TCODE?&lt;/tt&gt; to get a response from the receiver. The receiver responds with a timecode string of ASCII printing characters, followed by a &lt;cr&gt;&lt;lf&gt;, followed by a prompt string issued by the receiver, in the following format:&lt;/p&gt;
&lt;pre&gt;T#yyyymmddhhmmssMFLRVcc&lt;cr&gt;&lt;lf&gt;scpi &gt;&lt;/pre&gt;
&lt;p&gt;The driver processes the response at the &lt;cr&gt; and &lt;lf&gt;, so what the driver sees is the prompt from the previous poll, followed by this timecode. The prompt from the current poll is (usually) left unread until the next poll. So (except on the very first poll) the driver sees this:&lt;/p&gt;
&lt;pre&gt;scpi &gt;T#yyyymmddhhmmssMFLRVcc&lt;cr&gt;&lt;lf&gt;&lt;/pre&gt;
&lt;p&gt;The T is the on-time character, at 980 msec. before the next 1PPS edge. The # is the timecode format type. We look for format 2. Without any of the CLK or PPS stuff, then, the receiver buffer timestamp at the &lt;cr&gt; is 24 characters later, which is about 25 msec. at 9600 bps, so the first approximation for fudge time1 is nominally -0.955 seconds. This number probably needs adjusting for each machine / OS type, so far: -0.955000 on an HP 9000 Model 712/80 HP-UX 9.05 -0.953175 on an HP 9000 Model 370 HP-UX 9.10&lt;/p&gt;
&lt;p&gt;This driver will probably work with the 58503B and 59551A if they are setup appropriately.&lt;/p&gt;
&lt;p&gt;To use an HP Z3801A, specify &lt;tt&gt;mode 1&lt;/tt&gt; on the server config line to setup the right line paramters.&lt;/p&gt;
&lt;p&gt;The timekeeping portion of HP&amp;rsquo;s business was sold to Symmetricom which was later acquired by &lt;a href=&#34;https://www.microsemi.com/product-directory/3425-timing-synchronization&#34;&gt;Microchip&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: hopf GPS/DCF77 6021/komp for Serial Line</title>
      <link>/archives/drivers/driver38/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver38/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#os-serial-port-configuration&#34;&gt;O/S Serial Port Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#data-format&#34;&gt;Data Format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver38/#questions-or-comments&#34;&gt;Questions or Comments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;Address:  &lt;/tt&gt; &lt;code&gt;127.127.38._X_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Reference ID:  &lt;/tt&gt; &lt;code&gt;.hopf.&lt;/code&gt; (default), &lt;code&gt;GPS, DCF&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Driver ID:  &lt;/tt&gt; &lt;code&gt;HOPF_S&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Serial Port:  &lt;/tt&gt; &lt;strong&gt;&lt;code&gt;/dev/hopfclock_X_&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Serial I/O:  &lt;/tt&gt; &lt;code&gt;9600 baud, 8-bits, 1-stop, no parity&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/fg6021.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;The &lt;strong&gt;refclock_hopf_serial&lt;/strong&gt; driver supports &lt;a href=&#34;http://www.hopf.com&#34;&gt;hopf electronic receivers&lt;/a&gt; with serial Interface kompatibel 6021.&lt;/p&gt;
&lt;p&gt;Additional software and information about the software drivers is available from: &lt;a href=&#34;http://www.ATLSoft.de/ntp&#34;&gt;http://www.ATLSoft.de/ntp&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Latest NTP driver source, executables and documentation is maintained at: &lt;a href=&#34;http://www.ATLSoft.de/ntp&#34;&gt;http://www.ATLSoft.de/ntp&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/h4&gt;
&lt;p&gt;The hopf clock driver has been tested on the following software and hardware platforms:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Platform&lt;/th&gt;
&lt;th&gt;Operating System&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Windows NT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Windows 2000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;os-serial-port-configuration&#34;&gt;O/S Serial Port Configuration&lt;/h4&gt;
&lt;p&gt;The driver attempts to open the device &lt;code&gt;/dev/hopfclock_X_&lt;/code&gt; where &lt;code&gt;_X_&lt;/code&gt; is the NTP refclock unit number as defined by the LSB of the refclock address.  Valid refclock unit numbers are 0 - 3.&lt;/p&gt;
&lt;p&gt;The user is expected to provide a symbolic link to an available serial port device.  This is typically performed by a command such as:&lt;/p&gt;
&lt;p&gt;&amp;gt; &lt;tt&gt;ln -s /dev/ttyS0 /dev/hopfclock0&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Windows NT does not support symbolic links to device files.&lt;br&gt;
&lt;strong&gt;COMx&lt;/strong&gt;: is used by the driver, based on the refclock unit number, where &lt;strong&gt;unit 1&lt;/strong&gt; corresponds to &lt;strong&gt;COM1&lt;/strong&gt;: and &lt;strong&gt;unit 3&lt;/strong&gt; corresponds to &lt;strong&gt;COM3&lt;/strong&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;tt&gt;time1 &lt;em&gt;time&lt;/em&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0. Should be set to 20 milliseconds to correct serial line and operating system delays incurred in capturing time stamps from the synchronous packets.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;tt&gt;refid &lt;em&gt;string&lt;/em&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Specifies the driver reference identifier, &lt;strong&gt;GPS&lt;/strong&gt; &lt;em&gt;or&lt;/em&gt; &lt;strong&gt;DCF&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When set to 1, driver syncs even if only crystal driven.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;data-format&#34;&gt;Data Format&lt;/h4&gt;
&lt;p&gt;As specified in clock manual under pt. &amp;ldquo;Data String for NTP (Network Time Protocol)&amp;rdquo;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;questions-or-comments&#34;&gt;Questions or Comments&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;mailto:altmeier@atlsoft.de&#34;&gt;Bernd Altmeier&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.ATLSoft.de&#34;&gt;Ing.-Büro für Software www.ATLSoft.de&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: hopf PCI-Bus Receiver (6039 GPS/DCF77)</title>
      <link>/archives/drivers/driver39/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver39/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#os-system-configuration&#34;&gt;O/S System Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver39/#questions-or-comments&#34;&gt;Questions or Comments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;Address:  &lt;/tt&gt; &lt;code&gt;127.127.39._X_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Reference ID:  &lt;/tt&gt; &lt;code&gt;.hopf.&lt;/code&gt; (default), &lt;code&gt;GPS&lt;/code&gt;, &lt;code&gt;DCF&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Driver ID:  &lt;/tt&gt; &lt;code&gt;HOPF_P&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/fg6039.jpg&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;The &lt;strong&gt;refclock_hopf_pci&lt;/strong&gt; driver supports the &lt;a href=&#34;http://www.hopf.com&#34;&gt;hopf&lt;/a&gt; PCI-bus interface 6039 GPS/DCF77.&lt;br&gt;
Additional software and information about the software drivers as well as the latest NTP driver source, executables, and documentation is maintained at &lt;a href=&#34;http://www.ATLSoft.de/ntp&#34;&gt;http://www.ATLSoft.de/ntp&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/h4&gt;
&lt;p&gt;The hopf clock driver has been tested on the following software and hardware platforms:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Platform&lt;/th&gt;
&lt;th&gt;Operating System&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Windows NT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Windows 2000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;os-system-configuration&#34;&gt;O/S System Configuration&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;UNIX&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The driver attempts to open the device &lt;code&gt;/dev/hopf6039 REFID&lt;/code&gt;. The device entry will be made by the installation process of the kernel module for the PCI-bus board. The driver sources belongs to the delivery equipment of the PCI-board.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windows NT/2000&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The driver attempts to open the device by calling the function &lt;code&gt;OpenHopfDevice()&lt;/code&gt;. This function will be installed by the Device Driver for the PCI-bus board. The driver belongs to the delivery equipment of the PCI-board.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;&lt;strong&gt;refid &lt;em&gt;string&lt;/em&gt;&lt;/strong&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Specifies the driver reference identifier, &lt;strong&gt;GPS&lt;/strong&gt; or &lt;strong&gt;DCF&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;&lt;strong&gt;flag1 0 | 1&lt;/strong&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;When set to 1, driver syncs even if only crystal driven.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;questions-or-comments&#34;&gt;Questions or Comments&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;mailto:altmeier@atlsoft.de&#34;&gt;Bernd Altmeier&lt;/a&gt;&lt;a href=&#34;http://www.ATLSoft.de&#34;&gt;&lt;br&gt;
Ing.-Büro für Software www.ATLSoft.de&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: IRIG Audio Decoder</title>
      <link>/archives/drivers/driver6/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver6/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 17-Jul-2014 02:17 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver6/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver6/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver6/#technical-overview&#34;&gt;Technical Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver6/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver6/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.6.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;IRIG&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;IRIG_AUDIO&lt;/tt&gt;&lt;br&gt;
Audio Device: &lt;tt&gt;/dev/audio&lt;/tt&gt; and &lt;tt&gt;/dev/audioctl&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver synchronizes the computer time using the Inter-Range Instrumentation Group (IRIG) standard time distribution signal. This signal is generated by several radio clocks, including those made by Arbiter, Austron, Bancomm, Odetics, Spectracom, Symmetricom and TrueTime, among others, although it is often an add-on option. The signal is connected via an optional attenuator and cable to either the microphone or line-in port of a workstation or PC.&lt;/p&gt;
&lt;p&gt;The driver requires an audio codec or sound card with sampling rate 8 kHz and μ-law companding to demodulate the data. This is the same standard as used by the telephone industry and is supported by most hardware and operating systems, including Solaris, FreeBSD and Linux, among others. In this implementation, only one audio driver and codec can be supported on a single machine. In order to assure reliable signal capture, the codec frequency error must be less than 250 PPM (.025 percent). If necessary, the &lt;tt&gt;tinker codec&lt;/tt&gt; configuration command can be used to bracket the codec frequency to this range.&lt;/p&gt;
&lt;p&gt;For proper operation the IRIG signal source should be configured for analog signal levels, not digital TTL levels. In most radios the IRIG signal is driven ±10 V behind 50 Ohms. In such cases the cable should be terminated at the line-in port with a 50-Ohm resistor to avoid overloading the codec. Where feasible, the IRIG signal source should be operated with signature control so that, if the signal is lost or mutilated, the source produces an unmodulated signal, rather than possibly random digits. The driver automatically rejects the data and declares itself unsynchronized in this case. Some devices, in particular Spectracom radio/satellite clocks, provide additional year and status indication; other devices may not.&lt;/p&gt;
&lt;p&gt;In general and without calibration, the driver is accurate within 500 μs relative to the IRIG time. After calibrating relative to the PPS signal from a GPS receiver, the mean offset with a 2.4-GHz P4 running FreeBSD 6.1 is less than 20 μs with standard deviation 10 μs. Most of this is due to residuals after filtering and averaging the raw codec samples, which have an inherent jitter of 125 μs. The processor load due to the driver is 0.6 percent on the P4.&lt;/p&gt;
&lt;p&gt;However, be acutely aware that the accuracy with Solaris 2.8 and beyond has been seriously degraded to the order of several milliseconds. The Sun kernel driver has a sawtooth modulation with amplitude over 5 ms P-P and period 5.5 s. This distortion is especially prevalent with Sun Blade 1000 and possibly other systems.&lt;/p&gt;
&lt;p&gt;The driver performs a number of error checks to protect against overdriven or underdriven input signal levels, incorrect signal format or improper hardware configuration. The specific checks are detailed later in this page. Note that additional checks are done elsewhere in the reference clock interface routines.&lt;/p&gt;
&lt;p&gt;This driver incorporates several features in common with other audio drivers such as described in the &lt;a href=&#34;/archives/drivers/driver7&#34;&gt;Radio CHU Audio Demodulator/Decoder&lt;/a&gt; and the &lt;a href=&#34;/archives/drivers/driver36&#34;&gt;Radio WWV/H Audio Demodulator/Decoder&lt;/a&gt; pages. They include automatic gain control (AGC), selectable audio codec port and signal monitoring capabilities. For a discussion of these common features, as well as a guide to hookup, debugging and monitoring, see the &lt;a href=&#34;/archives/4.2.8-series/audio&#34;&gt;Reference Clock Audio Drivers&lt;/a&gt; page.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;technical-overview&#34;&gt;Technical Overview&lt;/h4&gt;
&lt;p&gt;The IRIG signal format uses an amplitude-modulated carrier with pulse-width modulated data bits. For IRIG-B, the carrier frequency is 1000 Hz and bit rate 100 b/s; for IRIG-E, the carrier frequenchy is 100 Hz and bit rate 10 b/s. While IRIG-B provides the best accuracy, generally within a few tens of microseconds relative to IRIG time, it can also generate a significant processor load with older workstations. Generally, the accuracy with IRIG-E is about ten times worse than IRIG-B, but the processor load is somewhat less. Technical details about the IRIG formats can be found in &lt;a href=&#34;https://www.hopf.com/downloads/manuals/irig-standard_v200-98_en.pdf&#34;&gt;IRIG Standard 200-98&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The driver processes 8000-Hz μ-law companded samples using separate signal filters for IRIG-B and IRIG-E, a comb filter, envelope detector and automatic threshold corrector. An infinite impulse response (IIR) 1000-Hz bandpass filter is used for IRIG-B and an IIR 130-Hz lowpass filter for IRIG-E. These are intended for use with noisy signals, such as might be received over a telephone line or radio circuit, or when interfering signals may be present in the audio passband. The driver determines which IRIG format is in use by sampling the amplitude of each filter output and selecting the one with maximum signal.&lt;/p&gt;
&lt;p&gt;Cycle crossings relative to the corrected slice level determine the width of each pulse and its value - zero, one or position identifier (PI). The data encode ten characters (20 BCD digits) which determine the second, minute, hour and day of the year and with some IRIG generators the year and synchronization condition. The comb filter exponentially averages the corresponding samples of successive baud intervals in order to reliably identify the reference carrier cycle.&lt;/p&gt;
&lt;p&gt;A type-II phase-lock loop (PLL) performs additional integration and interpolation to accurately determine the zero crossing of that cycle, which determines the reference timestamp. A pulse-width discriminator demodulates the data pulses, which are then encoded as the BCD digits of the timecode. The timecode and reference timestamp are updated once each second with IRIG-B (ten seconds with IRIG-E) and local clock offset samples saved for later processing. At poll intervals of 64 s, the saved samples are processed by a median filter and used to update the system clock.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The timecode format used for debugging and data recording includes data helpful in diagnosing problems with the IRIG signal and codec connections. The driver produces one line for each timecode in the following format:&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;00 00 98 23 19:26:52 2782 143 0.694 10 0.3 66.5 3094572411.00027&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;If clockstats is enabled, the most recent line is written to the clockstats file every 64 s. If verbose recording is enabled (fudge flag 4) each line is written as generated.&lt;/p&gt;
&lt;p&gt;The first field containes the error flags in hex, where the hex bits are interpreted as below. This is followed by the year of century, day of year and time of day. Note that the time of day is for the previous minute, not the current time. The status indicator and year are not produced by some IRIG devices and appear as zeros. Following these fields are the carrier amplitude (0-3000), codec gain (0-255), modulation index (0-1), time constant (4-10), carrier phase error (0±0.5) and carrier frequency error (PPM). The last field is the on-time timestamp in NTP format.&lt;/p&gt;
&lt;p&gt;The error flags are defined as follows in hex:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;x01&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Low signal. The carrier amplitude is less than 100 units. This is usually the result of no signal or wrong input port.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x02&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Frequency error. The codec frequency error is greater than 250 PPM. This may be due to wrong signal format or (rarely) defective codec.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x04&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Modulation error. The IRIG modulation index is less than 0.5. This is usually the result of an overdriven codec, wrong signal format or wrong input port.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x08&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Frame synch error. The decoder frame does not match the IRIG frame. This is usually the result of an overdriven codec, wrong signal format or noisy IRIG signal. It may also be the result of an IRIG signature check which indicates a failure of the IRIG signal synchronization source.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x10&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Data bit error. The data bit length is out of tolerance. This is usually the result of an overdriven codec, wrong signal format or noisy IRIG signal.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x20&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Seconds numbering discrepancy. The decoder second does not match the IRIG second. This is usually the result of an overdriven codec, wrong signal format or noisy IRIG signal.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x40&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Codec error (overrun). The machine is not fast enough to keep up with the codec.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;x80&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Device status error (Spectracom).&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;IRIG&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the microphone port if set to zero or the line-in port if set to one. It does not seem useful to specify the compact disc player port.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enables audio monitoring of the input signal. For this purpose, the speaker volume must be set before the driver is started.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: JJY Receivers</title>
      <link>/archives/drivers/driver40-ja/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver40-ja/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 12-Oct-2017 09:05 UTC       &lt;br&gt;
&lt;a href=&#34;/archives/drivers/driver40&#34;&gt;ENGLISH（英語）&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-1&#34;&gt;Mode-1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-2&#34;&gt;Mode-2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-3&#34;&gt;Mode-3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-4&#34;&gt;Mode-4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-5&#34;&gt;Mode-5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-6&#34;&gt;Mode-6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-100&#34;&gt;Mode-100&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.40._u_&lt;/code&gt;&lt;br&gt;
Reference ID: &lt;code&gt;JJY&lt;/code&gt;&lt;br&gt;
Driver ID: &lt;code&gt;JJY&lt;/code&gt;&lt;br&gt;
Serial Port: &lt;code&gt;/dev/jjy_u_&lt;/code&gt;; それぞれのJJY受信機、GPS時計、テレフォンJJYを参照して下さい。&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;このドライバーは、以下の、日本で販売されている JJY受信機、GPS時計と、電話回線による時刻配信サービスをサポートしています。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Model&lt;/th&gt;
&lt;th&gt;Mode&lt;/th&gt;
&lt;th&gt;Language&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tristate.ne.jp/&#34;&gt;トライステート   TS-JJY01, TS-JJY02&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-1&#34;&gt;1&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.c-dex.co.jp/&#34;&gt;シーデックス   JST2000&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-2&#34;&gt;2&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;エコー計測器   LT-2000&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-3&#34;&gt;3&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tic-citizen.co.jp/&#34;&gt;シチズンTIC   JJY-200&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-4&#34;&gt;4&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tristate.ne.jp/&#34;&gt;トライステート   TS-GPSclock-01&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-5&#34;&gt;5&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.seiko-sts.co.jp/&#34;&gt;セイコー タイム システム   TDC-300&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-6&#34;&gt;6&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;英語と日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;テレフォンJJY&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40-ja/#mode-100&#34;&gt;100&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;英語と日本語&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-1&#34;&gt;Mode-1&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN   flag1 0|1   flag2 0|1   time2 H&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Time1 は、受信機からの時刻に加算する調整時間を、固定小数点形式の秒で設定します。&lt;br&gt;
この受信機には、数10ミリ秒 ( 0.0NN秒 ) から百数10ミリ秒 ( 0.1NN秒 ) の調整時間を設定すると良いでしょう。&lt;/p&gt;
&lt;p&gt;Time2 は、STUSコマンドの応答が adjusted ではなくなってからの猶予時間を時単位で指定します。&lt;br&gt;
この猶予時間は、flag1 と flag2 を共に 1 に設定したときに有効です。&lt;/p&gt;
&lt;p&gt;Flag1 は、flag2 を 1 に設定しない限り、時刻同期には無関係です。Flag1 を 1 に設定すると、状態を問い合わせるコマンドを DATE コマンドと STIM コマンドの前に発行して、応答を clockstats ファイルに記録します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default&lt;/td&gt;
&lt;td&gt;DCST と STUS コマンドは、発行しません。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;DCST と STUS コマンドを、発行します。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag2 は STUSコマンドの応答が adjusted の時だけ、時刻同期処理を行う指定です。この機能を使うときは、flag1 も同時に 1 に設定する必要があります。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag2&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;常に、時刻同期処理&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;adjusted の時だ、け時刻同期委処理&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8ビット, パリティなし, 1ストップ・ビット&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dcst{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;valid{CR}{LF} | invalid{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stus{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;adjusted{CR}{LF} | unadjusted{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;time{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYY/MM/DD WWW{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stim{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;日付と時刻は、別々に問い合わせます。日付が深夜０時の前か後かの不確定をチェックするため、日付の問い合わせの前後に時刻を問い合わせています。&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-2&#34;&gt;Mode-2&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8ビット, パリティなし, 1ストップ・ビット&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{ENQ}1J{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}JYYMMDDWHHMMSSS{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-3&#34;&gt;Mode-3&lt;/h4&gt;
&lt;p&gt;エコー計測器株式会社は解散しました。2015年7月に、一部の事業は、フレックタイム株式会社に継承されました。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8ビット, パリティなし, 1ストップ・ビット&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;( Mode 2 : Continuous )&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;( Every second before 0.5 second )&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYMMDDWHHMMSS{ST1}{ST2}{ST3}{ST4}{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;#&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;( Mode 1 : Request&amp;amp;Send )&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-4&#34;&gt;Mode-4&lt;/h4&gt;
&lt;p&gt;JJY-200 は、2013年に販売終了となりました。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 4800 BPS, 8ビット, パリティなし, 1ストップ・ビット&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;(Every second)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&#39;XX YY/MM/DD W HH:MM:SS{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-5&#34;&gt;Mode-5&lt;/h4&gt;
&lt;p&gt;このドライバーは、JJY受信機ではないGPS時計のトライステート TS-GPSclock-01 のコマンド・レスポンス・モードをサポートします。&lt;br&gt;
TS-GPSclock-01 は、オンボードのスイッチとメニューでコマンド・レスポンス・モードとタイム・ゾーンをJST（日本標準時）に設定しなければなりまん。&lt;br&gt;
この Type 40 のドライバーの他, TS-GPSclock-01 のNMEAモードは、&lt;a href=&#34;/archives/drivers/driver20&#34;&gt;一般 NMEA GPS ドライバー ( Type 20 )&lt;/a&gt; でも利用することができます。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN   flag1 0|1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Time1 は、受信機からの時刻に加算する調整時間を、固定小数点形式の秒で設定します&lt;/p&gt;
&lt;p&gt;Flag1 は、時刻同期には無関係です。Flag1 を 1 に設定すると、状態を問い合わせるコマンドを DATE コマンドと STIM コマンドの前に発行して、応答を clockstats ファイルに記録します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;STUS コマンドは、発行しません。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;STUS コマンドを、発行します。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;USB (&lt;code&gt;/dev/ttyACM_0_&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stus{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;*R{CR}{LF} | *G{CR}{LF} | *U{CR}{LF} | +U{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;time{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYY/MM/DD{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;日付と時刻は、別々に問い合わせます。日付が深夜０時の前か後かの不確定をチェックするため、日付の問い合わせの前後に時刻を問い合わせています。&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-6&#34;&gt;Mode-6&lt;/h4&gt;
&lt;p&gt;TDC-300 は、フロント・パネルのメニュー表示とスイッチで type 3 のデータ形式に設定しなければなりません。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 6&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 2400 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}YYMMDDWHHMMSS{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(5 to 10 mSec. before second)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}{xE5}{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-100&#34;&gt;Mode-100&lt;/h4&gt;
&lt;p&gt;テレフォンJJYは、電話回線による時刻配信サービスです。&lt;br&gt;
このサービスは、国立研究開発法人　情報通信研究機構が提供しています。&lt;/p&gt;
&lt;p&gt;注意：　このモード（テレフォンJJY）は、refclock_acts ( Type 18 ) のドライバーと同時に利用することはできません。 設定ファイルの phone は、server と関係付けられていないため、ドライバーの refclock_acts ( type 18 ) も、この refclock_jjy ( type 40, mode 100 to 180 ) のいずれも、 複数の phone のうち、どれが自分に関係するものか識別できないからです。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTPの設定 (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode (100, 101 to 180)   minpoll N&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;モード 100 を設定した場合、このドライバーは、遅延を計測するためのループバック・コマンドは発行せず、電話回線とシステムの処理による遅延は調整しません。&lt;br&gt;
モード 101 から 180 を設定した場合、このドライバーは、ループバック・コマンドを発行して、テレフォンJJYのループバック回路を通して電話回線とシステムの処理による遅延を計測します。&lt;br&gt;
テレフォンJJYのループバック回路を経由した往復の時間は、5回、計測されます。 それぞれの遅延時間のうち、700ミリ秒を超えたものは、平均遅延時間の計算より除外されます。 また、700ミリ秒以下の有効な遅延時間が、3回以上の場合は、そのうち、最大の遅延時間は、平均遅延時間の計算より除外され、 4回以上の場合は、そのうち、最小の遅延時間は、平均遅延時間の計算より除外されます。 調整時間は、往復時間　×　( モード番号 - 100 ) % で計算し、同期する時刻に加算されます。&lt;br&gt;
モード 101 から 180 を設定して自動遅延補正を選択するなら、モード 145 から 165 が良いでしょう。&lt;/p&gt;
&lt;p&gt;デフォルトの日時問い合わせ処理間隔 6 ( 64 秒 ) は、このモードには、短すぎます。　&amp;ldquo;minpoll&amp;rdquo; は、8 ( 256 秒, 約 4 分 ) 以上を設定して下さい。&lt;br&gt;
日時問い合わせ処理間隔は、秒数を 2 のべき乗で指定します。　minpoll の値が、12 なら 4096 秒（約1時間）、14 なら 16384 秒（約4.5時間）、16 なら 65536 秒（約18時間）となります。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   flag1 0|1   flag2 0|1   flag3 0|1   flag4 0|1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Time1 は、受信機からの時刻に加算する調整時間を、固定小数点形式の秒で設定します。&lt;br&gt;
mode 100 の場合は、time1 で調整する時間を設定したほうが良いでしょう。&lt;br&gt;
mode 101 から 180 の場合は、このドライバーが計測したループバックの遅延時間の一定の割合を同期時刻に加算しますので、time1 は設定しないほうが良いでしょう。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;タッチ・トーン&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATDWTnn...nn&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ダイヤル・パルス&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATDWPnn...nn&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag2 は、エラー訂正プロトコルを指定します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag2&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;ノーマル（エラー訂正なし）&lt;/td&gt;
&lt;td&gt;&lt;code&gt;AT\N0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;V42, MNP, ノーマルの自動選択&lt;/td&gt;
&lt;td&gt;&lt;code&gt;AT\N3&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag3 は、スピーカーのオン／オフを指定します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag3&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;オフ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATM0Ln&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;オン&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATM2Ln&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag4 は、スピーカーの音量を指定します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag4&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;低&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATMnL1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;中&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATMnL2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;phone 042NNNNNNN&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;電話番号は、&lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;http://jjy.nict.go.jp/&lt;/a&gt; で公開されています。&lt;br&gt;
電話番号の桁数をチェックしています。もし、日本国外から発信するために国際電話アクセス番号と国番号を付加すると、桁数制限を超えます。&lt;br&gt;
また、電話番号の最初の2桁や3桁をチェックしています。日本の緊急番号や特別のサービスの番号を指定することはできません。&lt;br&gt;
内線から外線に発信する時は、&amp;ldquo;0,&amp;rdquo; ( ゼロとカンマ ) を先頭に付加して下さい。外線発信番号は、チェックしていて、それ以外の外線発信番号を指定することはできません。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;インターフェース&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C 又は USB, 2400 BPS, 8ビット, パリティなし, 1ストップ・ビット&lt;/p&gt;
&lt;p&gt;モデム制御コマンド:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ATE0Q0V1, ATMnLn, AT&amp;amp;K4, AT+MS=V22B, AT%C0, AT\Nn, ATH1, ATDWxnn...nn&lt;/code&gt;&lt;br&gt;
&lt;code&gt;+++, ATH0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;日時データの形式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;プロンプト&lt;/th&gt;
&lt;th&gt;コマンド&lt;/th&gt;
&lt;th&gt;応答&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Name{SP}?{SP}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;TJJY{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Welcome messages&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LOOP{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Switch to the loopback circuit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;(One char.)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;(One char.)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;COM{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Exit from the loopback circuit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;TIME{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HHMMSS{CR}HHMMSS{CR}HHMMSS{CR}&lt;/code&gt; 3 times on second&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;4DATE{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYYMMDD{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LEAPSEC{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{SP}0{CR} | +1{CR} | -1{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;BYE{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sayounara messages&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;日付と時刻は、別々に問い合わせます。日付が深夜０時の前か後かの不確定をチェックするため、日付の問い合わせの前後に時刻を問い合わせています。&lt;br&gt;
うるう秒は、処理していません。情報として clockstats ファイルに記録しているだけです。&lt;/p&gt;
&lt;p&gt;JJY は、長波で日本標準時(JST)を送信している無線局で、国立研究開発法人　情報通信研究機構が運用しています。JJY の運用情報などは、 &lt;a href=&#34;http://www.nict.go.jp/&#34;&gt;http://www.nict.go.jp/&lt;/a&gt;（英語と日本語）や &lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;http://jjy.nict.go.jp/&lt;/a&gt;（英語と日本語）で提供されています。&lt;/p&gt;
&lt;p&gt;実際のシリアル・ポートのデバイスにシンボリック・リンクを作成して下さい。シンボリック・リンクを作成するコマンドは、以下のとおりです。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s /dev/ttyS0 /dev/jjy0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;RS-232C から USB への変換ケーブルを利用して、JJY受信機、GPS時計、モデムをRS-232Cポートではなく、USBに接続することができます。この場合のシンボリック・リンクを作成するコマンドは、以下のとおりです。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s /dev/ttyUSB0 /dev/jjy0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Windows NT の場合は、 COM_X_: の数字部分がドライバーのユニット番号に使用されます。 ドライバーのユニット 1 は、COM1: にユニット 3 は、COM3: に対応します。&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;このドライバーは、JJY受信機、GPS時計、モデムとの送受信データを &lt;code&gt;clockstats&lt;/code&gt; ファイルに記録します。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;statsdir /var/log/ntpd/   filegen clockstats file clockstats type day enable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;レコード中のマークについて&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;JJY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;情報（このドライバーの開始または終了）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;--&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;送信データ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;lt;--&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;受信データ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;---&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;情報&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;===&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;情報（ポーリングの開始、および、同期時刻）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-W-&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;警告メッセージ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-X-&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;エラー・メッセージ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;time1 _time_&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;受信機からの時刻に対する調整時間を、固定小数点形式の秒で設定します。デフォルトは、0.0秒です。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;time2 _time_&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;未使用。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;stratum _number_&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;NTPの階層番号を 0 から 15 で指定します。デフォルトは、0です。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;refid _string_&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;ドライバーIDで、ASCII の1文字から4文字で指定します。デフォルトは、`JJY` です。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;flag1 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;それぞれのモードを参照して下さい。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;flag2 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;それぞれのモードを参照して下さい。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;flag3 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;それぞれのモードを参照して下さい。&lt;/dd&gt;
&lt;p&gt;&lt;code&gt;flag4 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;dd&gt;それぞれのモードを参照して下さい。&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: JJY Receivers</title>
      <link>/archives/drivers/driver40/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver40/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 12-Oct-2017 09:05 UTC         &lt;br&gt;
&lt;a href=&#34;/archives/drivers/driver40-ja&#34;&gt;JAPANESE&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-1&#34;&gt;Mode-1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-2&#34;&gt;Mode-2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-3&#34;&gt;Mode-3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-4&#34;&gt;Mode-4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-5&#34;&gt;Mode-5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-6&#34;&gt;Mode-6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-100&#34;&gt;Mode-100&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver40/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.40._u_ &lt;/code&gt;
Reference ID: &lt;code&gt;JJY&lt;/code&gt;&lt;br&gt;
Driver ID: &lt;code&gt;JJY&lt;/code&gt;&lt;br&gt;
Serial Port: &lt;code&gt;/dev/jjy_u_&lt;/code&gt;; See corresponding receiver&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the following JJY receivers and the GPS clock sold in Japan, and the time service through a telephone line.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Model&lt;/th&gt;
&lt;th&gt;Mode&lt;/th&gt;
&lt;th&gt;Language&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tristate.ne.jp/&#34;&gt;Tristate Ltd.   TS-JJY01, TS-JJY02&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-1&#34;&gt;1&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Japanese only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.c-dex.co.jp/&#34;&gt;C-DEX Co.,Ltd.   JST2000&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-2&#34;&gt;2&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Japanese only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Echo Keisokuki Co.,Ltd.   LT-2000&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-3&#34;&gt;3&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tic-citizen.co.jp/&#34;&gt;CITIZEN T.I.C. CO.,LTD.   JJY-200&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-4&#34;&gt;4&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Japanese only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.tristate.ne.jp/&#34;&gt;Tristate Ltd.   TS-GPSclock-01&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-5&#34;&gt;5&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Japanese only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://www.seiko-sts.co.jp/&#34;&gt;SEIKO TIME SYSTEMS INC.   TDC-300&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-6&#34;&gt;6&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;English and Japanese&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;Telephone JJY&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/archives/drivers/driver40/#mode-100&#34;&gt;100&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;English and Japanese&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-1&#34;&gt;Mode-1&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN   flag1 0|1   flag2 0|1   time2 H&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;time1&lt;/code&gt; may specify a constant to be added to the time offset for the time from the receiver, a fixed-point decimal number in seconds. You may specify the time offset from several tens of milli-seconds (0.0NN seconds) to a hundred and several tens of milli-seconds (0.1NN seconds) for this clock.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;time2&lt;/code&gt; may specify a grace period in hours after the &amp;lsquo;adjusted&amp;rsquo; reply of the STUS command stopped coming.  This hours is effective when both flag1 and flag2 are set to 1.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag1&lt;/code&gt; has no effect for time synchronization unless &lt;code&gt;flag2&lt;/code&gt; is set to 1.  When flag1 is set to 1, status commands are issued before DATE and STIM commands, and write a response text into the clockstats file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;DCST and STUS commands are not issued&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;DCST and STUS commands are issued&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;flag2&lt;/code&gt; enables the time synchronization only when the reply of the STUS is &amp;lsquo;adjusted&amp;rsquo;. When this functionality is used, flag1 must be set to 1 together.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag2&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;Always&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&amp;lsquo;adjusted&amp;rsquo; only&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dcst{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;valid{CR}{LF}&lt;/code&gt; | invalid{CR}{LF}`&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stus{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;adjusted{CR}{LF}&lt;/code&gt; | unadjusted{CR}{LF}`&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;time{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYY/MM/DD WWW{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stim{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The date and time are requested separately. The time is requested before and after the date request to check uncertainty of the date whether it&amp;rsquo;s before or after midnight.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-2&#34;&gt;Mode 2&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{ENQ}1J{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}JYYMMDDWHHMMSSS{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-3&#34;&gt;Mode-3&lt;/h4&gt;
&lt;p&gt;Echo Keisokuki was dissolved. Some business of the company was taken over by FreqTime Co., Ltd. in July, 2015.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 9600 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;(Mode 2 : Continuous)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(Every second before 0.5 second)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYMMDDWHHMMSS{ST1}{ST2}{ST3}{ST4}{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;#&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;(Mode 1 : Request&amp;amp;Send)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-4&#34;&gt;Mode-4&lt;/h4&gt;
&lt;p&gt;The JJY-200 became the end of sales in 2013.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 4800 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;(Every second)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&#39;XX YY/MM/DD W HH:MM:SS{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-5&#34;&gt;Mode-5&lt;/h4&gt;
&lt;p&gt;This driver supports the Tristate TS-GPSclock-01 in command/response mode, though it is a GPS clock, not JJY radio clock. Using the menus and the onboard switches, the TS-GPSclock-01 should be set to command/response mode and JST time zone.&lt;/p&gt;
&lt;p&gt;Besides this driver (Type 40), &lt;a href=&#34;/archives/drivers/driver20&#34;&gt;the generic NMEA GPS driver (Type 20)&lt;/a&gt; supports the TS-GPSclock-01 in NMEA mode.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN   flag1 0|1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;time1&lt;/code&gt; may specify a constant to be added to the time offset for the time from the receiver, a fixed-point decimal number in seconds.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag1&lt;/code&gt; has no effect for time synchronization. When a flag1 is set to 1, status command is issued before DATE and TIME commands, and write a response text into a clockstats file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;STUS command is not issued&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;STUS command is issued&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;USB (&lt;code&gt;/dev/ttyACM_0_&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stus{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;*R{CR}{LF}|*G{CR}{LF}|*U{CR}{LF}|+U{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;time{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HH:MM:SS{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYY/MM/DD{CR}{LF}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The date and time are requested separately. The time is requested before and after the date request to check uncertainty of the date whether it&amp;rsquo;s before or after midnight.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-6&#34;&gt;Mode-6&lt;/h4&gt;
&lt;p&gt;The TDC-300 must be set to the type 3 data format using the front panel menu display and the switches.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode 6&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   time1 0.NNN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C, 2400 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}YYMMDDWHHMMSS{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(5 to 10 mSec. before second)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{STX}{xE5}{ETX}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-100&#34;&gt;Mode-100&lt;/h4&gt;
&lt;p&gt;The telephone JJY is the time service through a public telephone line.&lt;/p&gt;
&lt;p&gt;The service is provided by the National Institute of Information and Communications Technology in Japan.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;ATTENTION&lt;/h4&gt;

    This mode, the telephone JJY, can not be used with refclock_acts (type 18) at the same time. Because the &amp;ldquo;phone&amp;rdquo; statement in the ntp configuration file is not involved with the &amp;ldquo;server&amp;rdquo; statement, both the refclock_acts (type 18) and this refclock_jjy (type 40, mode 100 to 180) can not recognize the appropriate &amp;ldquo;phone&amp;rdquo; statement among the &amp;ldquo;phone&amp;rdquo; statements.

&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NTP configuration (ntp.conf)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server   127.127.40.X   mode (100, 101 to 180)   minpoll N&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;When mode 100 is specified, this driver does not issue the loopback command in order to measure the delay, and the delay of the telephone line and the system processing is not adjusted.&lt;/p&gt;
&lt;p&gt;When mode 101 to 180 is specified, this driver issues the loopback command and measures the delay of the telephone line and the system processing through the Telphone JJY loopback circuit.&lt;/p&gt;
&lt;p&gt;The round trip time through the Telphone JJY loopback circuit is measured 5 times, and each delay time is greater than 700 milli-seconds, that delay time is ignored during average delay time calculation. Also, if the valid delay time ( &amp;lt;= 700 mS.) is measured more than 3 times, the maximum delay time among the valid delay times is ignored, and if the valid delay time is measured more than 4 times, the minimum delay time among them is ignored, like marking/grading sports judgment.&lt;/p&gt;
&lt;p&gt;The adjustment time is calculated by the formula,&lt;br&gt;
multiply (the measured round trip time) by &lt;code&gt;( ( the mode number ) - 100) %&lt;/code&gt;,&lt;br&gt;
and the adjustment delay time is added to the syncronizing time.&lt;/p&gt;
&lt;p&gt;If you choose the automatic delay adjustment, in other words, the mode 101 to 180 is specifed, the recommended mode number is 145 to 165.&lt;/p&gt;
&lt;p&gt;The default polling interval 6 (64 seconds) is too short for this mode. The &amp;ldquo;minpoll&amp;rdquo; should be set to greater than or equal to 8 (256 seconds, about 4 minutes).&lt;/p&gt;
&lt;p&gt;The interval time is given the value in second power of 2. The minpoll value 12 is 4096 seconds interval (about 1 hour), 14 is 16384 seconds interval (about 4.5 hours), 16 is 65536 seconds (about 18 hours), respectively.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fudge   127.127.40.X   flag1 0|1   flag2 0|1   flag3 0|1   flag4 0|1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;time1&lt;/code&gt; may specify a constant to be added to the time offset for the time from the receiver, a fixed-point decimal number in seconds.&lt;/p&gt;
&lt;p&gt;When mode 100 is specified, time1 may be specified in order to adjust the time offset.&lt;/p&gt;
&lt;p&gt;When mode 101 to 180 is specified, time1 should not be specified because this driver adds some percentage of the measured loopback delay, depending on the value of the mode number.&lt;/p&gt;
&lt;p&gt;Flag1 is the modem dialing type.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag1&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;Tone&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATDWTnn...nn&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Pulse&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATDWPnn...nn&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag2 is the modem error correction type.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;ldquo;fudge flag2&amp;rdquo;&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;Normal&lt;/td&gt;
&lt;td&gt;&lt;code&gt;AT\N0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Auto V42, MNP, Normal&lt;/td&gt;
&lt;td&gt;&lt;code&gt;AT\N3&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag3 is the modem speaker switch.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;ldquo;fudge flag3&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;Off&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATM0Ln&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;On&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATM2Ln&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Flag4 is the modem speaker volume.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fudge flag4&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;AT Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; (Default)&lt;/td&gt;
&lt;td&gt;Low&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATMnL1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Middle&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ATMnL2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;phone 042NNNNNNN&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The phone number is available at &lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;http://jjy.nict.go.jp/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The number of digits of the phone number is checked. If the international access number and the country number are added in order to call from outside of Japan, the number of digits is over the limit.&lt;/p&gt;
&lt;p&gt;The first 2 or 3 digits are checked. The emergency service number and the special service number in Japan are not allowed.&lt;/p&gt;
&lt;p&gt;Calling from extension line, the number for an outside line should be prefix &amp;ldquo;0,&amp;rdquo; (Zero, Comma). The prefix is also checked, and no other outside access number is allowed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RS-232C or USB, 2400 BPS, 8-bits, no parity, 1 stop bit&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Modem control commands:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ATE0Q0V1, ATMnLn, AT&amp;amp;K4, AT+MS=V22B, AT%C0, AT\Nn, ATH1, ATDWxnn...nn&lt;/code&gt;&lt;br&gt;
&lt;code&gt;+++, ATH0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time code format&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Prompt&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;th&gt;Reply&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Name{SP}?{SP}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;TJJY{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Welcome messages&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LOOP{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Switch to the loopback circuit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;(One char.)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;(One char.)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;COM{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Exit from the loopback circuit)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;TIME{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HHMMSS{CR}HHMMSS{CR}HHMMSS{CR}&lt;/code&gt; 3 times on second&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;4DATE{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;YYYYMMDD{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LEAPSEC{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{SP}0{CR} | +1{CR} | -1{CR}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;BYE{CR}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sayounara messages&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The date and time are requested separately. The time is requested before and after the date request to check uncertainty of the date whether it&amp;rsquo;s before or after midnight.&lt;/p&gt;
&lt;p&gt;The leap second is not handled, and only written in the clockstats file as an information.&lt;/p&gt;
&lt;p&gt;The JJY is the radio station which transmits the JST (Japan Standard Time) in long wave radio. The station JJY is operated by the National Institute of Information and Communications Technology. An operating announcement and some information are available from &lt;a href=&#34;http://www.nict.go.jp/&#34;&gt;http://www.nict.go.jp/&lt;/a&gt; (English and Japanese) and &lt;a href=&#34;http://jjy.nict.go.jp/&#34;&gt;http://jjy.nict.go.jp/&lt;/a&gt; (English and Japanese).&lt;/p&gt;
&lt;p&gt;The user is expected to provide a symbolic link to an available serial port device. This is typically performed by a command such as:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s /dev/ttyS0 /dev/jjy0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Using an RS-232C to USB converter cable, the clock or a modem can be connected to a USB port instead of a serial port. In this case, the typical symbolic link command is as follows;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s /dev/ttyUSB0 /dev/jjy0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Windows NT does not support symbolic links to device files. COM_X_: is the unit used by the driver, based on the refclock unit number, where unit 1 corresponds to COM1: and unit 3 corresponds to COM3.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The driver writes sent and received data to/from the JJY receivers, GPS clock, and the modem into the &lt;code&gt;clockstats&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;statsdir /var/log/ntpd/   filegen clockstats file clockstats type day enable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mark of the clockstats record&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;JJY&lt;/td&gt;
&lt;td&gt;Information message (This refclock starts or stops.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;--&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sent data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;&amp;lt;--&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Received data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;---&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Information message&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;===&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Information message (Start of each polling, and sync. time.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-W-&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Warning message&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-X-&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Error message&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;time1 _time_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;time2 _time_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stratum _number_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;refid _string_&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;code&gt;JJY&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag1 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See corresponding receiver.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag2 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See corresponding receiver.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag3 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See corresponding receiver.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;flag4 0 | 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See corresponding receiver.&lt;/p&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: KSI/Odetics TPRO/S IRIG Interface</title>
      <link>/archives/drivers/driver12/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver12/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver12/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver12/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver12/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver12/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.12.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;IRIG&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;IRIG_TPRO&lt;/tt&gt;&lt;br&gt;
TPRO Device: &lt;tt&gt;/dev/tpro_u_&lt;/tt&gt;&lt;br&gt;
Requires: KSI/Odetics device driver, &lt;tt&gt;/usr/include/sys/tpro.h&lt;/tt&gt; header file&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the KSI/Odetics TPRO and TPRO-SAT IRIG-B Decoder, which is a module connected directly to the SBus of a Sun workstation. The module works with the IRIG-B signal generated by several radio clocks, including those made by Arbiter, Austron, Odetics, Spectracom and TrueTime, among others, although it is generally an add- on option. In the case of the TPRO-SAT, the module is an integral part of a GPS receiver, which serves as the primary timing source.&lt;/p&gt;
&lt;p&gt;Using the TPRO interface as a NTP reference clock provides precision time only to ntpd and its clients. With suitable kernel modifications, it is possible to use the TPRO as the CPU system clock, avoiding errors introduced by the CPU clock oscillator wander. See the &lt;a href=&#34;/archives/4.2.8-series/kern&#34;&gt;A Kernel Model for Precision Timekeeping&lt;/a&gt; page for further details.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;IRIG&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Magnavox MX4200 GPS Receiver</title>
      <link>/archives/drivers/driver9/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver9/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver9/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver9/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver9/#operating-modes&#34;&gt;Operating Modes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver9/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver9/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.9.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;GPS_MX4200&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps_u_&lt;/tt&gt;; 4800 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;ppsclock&lt;/tt&gt; (required)&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Magnavox MX4200 Navigation Receiver adapted to precision timing applications. This driver supports all compatible receivers such as the 6-channel MX4200, MX4200D, and the 12-channel MX9212, MX9012R, MX9112.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.leica-gps.com/&#34;&gt;Leica Geosystems&lt;/a&gt; acquired the Magnavox commercial GPS technology business in February of 1994. They now market and support former Magnavox GPS products such as the MX4200 and its successors.&lt;/p&gt;
&lt;p&gt;[&lt;img src=&#34;/archives/pic/9400n.jpg&#34; alt=&#34;Leica MX9400N Navigator&#34;&gt;]
&lt;strong&gt;Leica MX9400N Navigator&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operating-modes&#34;&gt;Operating Modes&lt;/h4&gt;
&lt;p&gt;This driver supports two modes of operation, static and mobile, controlled by clock flag 2.&lt;/p&gt;
&lt;p&gt;In static mode (the default) the driver assumes that the GPS antenna is in a fixed location. The receiver is initially placed in a &amp;ldquo;Static, 3D Nav&amp;rdquo; mode, where latitude, longitude, elevation and time are calculated for a fixed station. An average position is calculated from this data. After 24 hours, the receiver is placed into a &amp;ldquo;Known Position&amp;rdquo; mode, initialized with the calculated position, and then solves only for time.&lt;/p&gt;
&lt;p&gt;In mobile mode, the driver assumes the GPS antenna is mounted on a moving platform such as a car, ship, or aircraft. The receiver is placed in &amp;ldquo;Dynamic, 3D Nav&amp;rdquo; mode and solves for position, altitude and time while moving. No position averaging is performed.&lt;/p&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The driver writes each timecode as received to the &lt;tt&gt;clockstats&lt;/tt&gt; file. Documentation for the &lt;cite&gt;NMEA-0183&lt;/cite&gt; proprietary sentences produced by the MX4200 can be found in &lt;a href=&#34;/archives/drivers/mx4200data&#34;&gt;MX4200 Receiver Data Format&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Assume GPS receiver is on a mobile platform if set.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Motorola ONCORE - The Shared Memory Interface</title>
      <link>/archives/drivers/oncore-shmem/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/oncore-shmem/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#activating-the-interface&#34;&gt;Activating the Interface&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#storage-of-messages-in-shared-memory&#34;&gt;Storage of Messages in Shared Memory&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#opening-the-shared-memory-file&#34;&gt;Opening the Shared Memory File&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#accessing-the-data&#34;&gt;Accessing the data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/oncore-shmem/#examples&#34;&gt;Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;introduction&#34;&gt;Introduction&lt;/h4&gt;
&lt;p&gt;In NMEA mode, the Oncore GPS receiver provides the user with the same information as other GPS receivers. In BINARY mode, it can provide a lot of additional information.&lt;/p&gt;
&lt;p&gt;In particular, you can ask for satellite positions, satellite health, signal levels, the ephemeris and the almanac, and you can set many operational parameters. In the case of the VP, you can get the pseudorange corrections necessary to act as a DGPS base station, and you can see the raw satellite data messages themselves.&lt;/p&gt;
&lt;p&gt;When using the Oncore GPS receiver with NTP, this additional information is usually not available since the receiver is only talking to the oncore driver in NTPD. To make this information available for use in other programs, (say graphic displays of satellites positions, plots of SA, etc.), a shared memory interface (SHMEM) has been added to the refclock_oncore driver on those operating systems that support shared memory.&lt;/p&gt;
&lt;p&gt;To make use of this information you will need an Oncore Reference Manual for the Oncore GPS receiver that you have. The Manual for the VP only exists as a paper document, the UT+/GT+/M12 manuals are available at &lt;a href=&#34;https://synergy-gps.com/motorola/&#34;&gt;Synergy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This interface was written by Poul-Henning Kamp (&lt;a href=&#34;mailto:phk@FreeBSD.org&#34;&gt;phk@FreeBSD.org&lt;/a&gt;), and modified by Reg Clemens (&lt;a href=&#34;mailto:reg@dwf.com&#34;&gt;reg@dwf.com&lt;/a&gt;). The interface is known to work in FreeBSD, Linux, and Solaris.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;activating-the-interface&#34;&gt;Activating the Interface&lt;/h4&gt;
&lt;p&gt;Although the Shared Memory Interface will be compiled into the Oncore driver on those systems where Shared Memory is supported, to activate this interface you must include a &lt;code&gt;STATUS&lt;/code&gt; or &lt;code&gt;SHMEM&lt;/code&gt; line in the &lt;tt&gt;/etc/ntp.oncore&lt;/tt&gt; data file that looks like&lt;/p&gt;
&lt;p&gt;&lt;code&gt;STATUS &amp;lt; file_name &amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SHMEM &amp;lt; file_name &amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Thus a line like&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SHMEM /var/adm/ntpstats/ONCORE&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;would be acceptable. This file name will be used to access the Shared Memory.&lt;/p&gt;
&lt;p&gt;In addition, one the two keywords &lt;strong&gt;Posn2D&lt;/strong&gt; and &lt;strong&gt;Posn3D&lt;/strong&gt; can be added to see @@Ea records containing the 2D or 3D position of the station (see below). Thus to activate the interface, and see 3D positions, something like&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SHMEM /var/adm/ntpstats/ONCORE&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Posn3D&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;would be required.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;storage-of-messages-in-shared-memory&#34;&gt;Storage of Messages in Shared Memory&lt;/h4&gt;
&lt;p&gt;With the shared memory interface, the oncore driver (refclock_oncore) allocates space for all of the messages that it is configured to receive, and then puts each message in the appropriate slot in shared memory as it arrives from the receiver. Since there is no easy way for a client program to know when the shared memory has been updated, a sequence number is associated with each message, and is incremented when a new message arrives. With the sequence number it is easy to check through the shared memory segment for messages that have changed.&lt;/p&gt;
&lt;p&gt;The Oncore binary messages are kept in their full length, as described in the Reference manual, that is everything from the @@ prefix thru the &lt;checksum&gt;&lt;CR&gt;&lt;LF&gt;.&lt;/p&gt;
&lt;p&gt;The data starts at location ONE of SHMEM (NOT location ZERO).&lt;/p&gt;
&lt;p&gt;The messages are stacked in a series of variable length structures, that look like&lt;/p&gt;
&lt;pre&gt;        struct message {
                u_int   length;
                u_char  sequence;
                u_char  message[length];
        }
&lt;/pre&gt;
&lt;p&gt;if something like that were legal. That is, there are two bytes (caution, these may NOT be aligned with word boundaries, so the field needs to be treated as a pair of u_char), that contains the length of the next message. This is followed by a u_char sequence number, that is incremented whenever a new message of this type is received. This is followed by &amp;lsquo;length&amp;rsquo; characters of the actual message.&lt;/p&gt;
&lt;p&gt;The next structure starts immediately following the last char of the previous message (no alignment). Thus, each structure starts a distance of &lt;code&gt;length+3&lt;/code&gt; from the previous structure.&lt;/p&gt;
&lt;p&gt;Following the last structure, is a u_int containing a zero length to indicate the end of the data.&lt;/p&gt;
&lt;p&gt;The messages are recognized by reading the headers in the data itself, viz @@Ea or whatever.&lt;/p&gt;
&lt;p&gt;There are two special cases.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The almanac takes a total of 34 submessages all starting with @@Cb.&lt;br&gt;
35 slots are allocated in shared memory. Each @@Cb message is initially placed in the first of these locations, and then later it is moved to the appropriate location for that submessage. The submessages can be distinguished by the first two characters following the @@Cb header, and new data is received only when the almanac changes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The @@Ea message contains the calculated location of the antenna, and is received once per second. However, when in timekeeping mode, the receiver is normally put in 0D mode, with the position fixed, to get better accuracy. In 0D mode no position is calculated.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When the SHMEM option is active, and if one of &lt;strong&gt;Posn2D&lt;/strong&gt; or &lt;strong&gt;Posn3D&lt;/strong&gt; is specified, one @@Ea record is hijacked each 15s, and the receiver is put back in 2D/3D mode so the the current location can be determined (for position determination, or for tracking SA). The timekeeping code is careful NOT to use the time associated with this (less accurate) 2D/3D tick in its timekeeping functions.&lt;/p&gt;
&lt;p&gt;Following the initial @@Ea message are 3 additional slots for a total of four. As with the almanac, the first gets filled each time a new record becomes available, later in the code, the message is distributed to the appropriate slot. The additional slots are for messages containing 0D, 2D and 3D positions. These messages can be distinguished by different bit patterns in the last data byte of the record.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;opening-the-shared-memory-file&#34;&gt;Opening the Shared Memory File&lt;/h4&gt;
&lt;p&gt;The shared memory segment is accessed through a file name given on a &lt;strong&gt;SHMEM&lt;/strong&gt; card in the &lt;tt&gt;/etc/ntp.oncore&lt;/tt&gt; input file. The following code could be used to open the Shared Memory Segment:&lt;/p&gt;
&lt;pre&gt;        char *Buf, *file;
        int size, fd;
        struct stat statbuf;

        file = &#34;/var/adm/ntpstats/ONCORE&#34;;  /* the file name on my ACCESS card */
        if ((fd=open(file, O_RDONLY)) &lt; 0) {
                fprintf(stderr, &#34;Cant open %s\n&#34;, file);
                exit(1);
        }

        if (stat(file, &amp;statbuf) &lt; 0) {
                fprintf(stderr, &#34;Cant stat %s\n&#34;, file);
                exit(1);
        }

        size = statbuf.st_size;
        if ((Buf=mmap(0, size, PROT_READ, MAP_SHARED, fd, (off_t) 0)) &lt; 0) {
                fprintf(stderr, &#34;MMAP failed\n&#34;);
                exit(1);
        }
&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;accessing-the-data&#34;&gt;Accessing the data&lt;/h4&gt;
&lt;p&gt;The following code shows how to get to the individual records.&lt;/p&gt;
&lt;pre&gt;        void    oncore_msg_Ea(), oncore_msg_As(), oncore_msg_Bb();

        struct Msg {
            char         c[5];
            unsigned int seq;
            void         (*go_to)(uchar *);
        };

        struct Msg Hdr[] = { {&#34;@@Bb&#34;, 0, &amp;oncore_msg_Bb},
                             {&#34;@@Ea&#34;, 0, &amp;oncore_msg_Ea},
                             {&#34;@@As&#34;, 0, &amp;oncore_msg_As}};

        void
        read_data()
        {
            int     i, j, k, n, iseq, jseq;
            uchar   *cp, *cp1;

            for(cp=Buf+1; (n = 256*(*cp) + *(cp+1)) != 0;  cp+=(n+3)) {
                for (k=0; k &lt; sizeof(Hdr)/sizeof(Hdr[0]);  k++) {
                    if (!strncmp(cp+3, Hdr[k].c, 4)) {      /* am I interested? */
                        iseq = *(cp+2);
                        jseq = Hdr[k].seq;
                        Hdr[k].seq = iseq;
                        if (iseq &gt; jseq) {              /* has it changed? */
                            /* verify checksum */
                            j = 0;
                            cp1 = cp+3;             /* points to start of oncore response */
                            for (i=2; i &lt; n-3; i++)
                                j ^= cp1[i];
                            if (j == cp1[n-3]) {    /* good checksum */
                                    Hdr[k].go_to(cp1);
                            } else {
                                fprintf(stderr, &#34;Bad Checksum for %s\n&#34;, Hdr[k].c);
                                break;
                            }
                        }
                    }
                }
                if (!strncmp(cp+3, &#34;@@Ea&#34;, 4))
                    cp += 3*(n+3);
                if (!strncmp(cp+3, &#34;@@Cb&#34;, 4))
                    cp += 34*(n+3);
            }
        }

        oncore_msg_Bb(uchar *buf)
        {
                /* process Bb messages */
        }

        oncore_msg_Ea(uchar *buf)
        {
                /* process Ea messages */
        }

        oncore_msg_As(uchar *buf)
        {
                /* process As messages */
        }
&lt;/pre&gt;
&lt;p&gt;The structure Hdr contains the Identifying string for each of the messages that we want to examine, and the name of a program to call when a new message of that type is arrives. The loop can be run every few seconds to check for new data.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;examples&#34;&gt;Examples&lt;/h4&gt;
&lt;p&gt;There are two complete examples available. The first plots satellite positions and the station position as affected by SA, and keeps track of the mean station position, so you can run it for periods of days to get a better station position. The second shows the effective horizon by watching satellite tracks. The examples will be found in the &lt;a href=&#34;https://www.eecis.udel.edu/~ntp/ntp_spool/software/OncorePlot.tar.gz&#34;&gt;GNU-zipped tar file&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Try the new interface, enjoy.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;mailto:reg@dwf.com&#34;&gt;Reg.Clemens&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;mailto:phk@FreeBSD.org&#34;&gt;Poul-Henning Kamp&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Motorola Oncore GPS Receiver</title>
      <link>/archives/drivers/driver30/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver30/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver30/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver30/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver30/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver30/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver30/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.30.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: ONCORE&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/oncore.serial.&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt;;  9600 baud, 8-bits, no parity.&lt;br&gt;
PPS Port: &lt;tt&gt;/dev/oncore.pps.&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt;;  &lt;tt&gt;PPS_CAPTUREASSERT&lt;/tt&gt; required,  &lt;tt&gt;PPS_OFFSETASSERT&lt;/tt&gt; supported.&lt;br&gt;
Configuration File: &lt;tt&gt;ntp.oncore&lt;/tt&gt;, or &lt;tt&gt;ntp.oncore.&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt;, or &lt;tt&gt;ntp.oncore&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt;, in &lt;tt&gt;/etc/ntp&lt;/tt&gt; or &lt;tt&gt;/etc&lt;/tt&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports most models of the Motorola Oncore GPS receivers (Basic, PVT6, VP, UT, UT+, GT, GT+, SL, M12, M12+T), as long as they support the &lt;em&gt;Motorola Binary Protocol&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The interesting versions of the Oncore are the VP, the UT+, the &amp;ldquo;Remote&amp;rdquo; which is a prepackaged UT+, and the M12 Timing. The VP is no longer available new, and the UT, GT, and SL are at end-of-life. The Motorola evaluation kit can be recommended. It interfaces to a PC straightaway, using the serial (DCD) or parallel port for PPS input and packs the receiver in a nice and sturdy box. Less expensive interface kits are available from &lt;a href=&#34;http://www.tapr.org&#34;&gt;TAPR&lt;/a&gt; and &lt;a href=&#34;http://www.synergy-gps.com&#34;&gt;Synergy&lt;/a&gt;.&lt;/p&gt;
&lt;center&gt;UT+ oncore&lt;/center&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/oncore_utplusbig.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;center&gt;Evaluation kit&lt;/center&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/oncore_evalbig.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;center&gt;Oncore Remote&lt;/center&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/oncore_remoteant.jpg&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;p&gt;The driver requires a standard &lt;tt&gt;PPS&lt;/tt&gt; interface for the pulse-per-second output from the receiver. The serial data stream alone does not provide precision time stamps (0-50msec variance, according to the manual), whereas the PPS output is precise down to 50 nsec (1 sigma) for the VP/UT models and 25 nsec for the M12 Timing. If you do not have the PPS signal available, then you should probably be using the NMEA driver rather than the Oncore driver. Most of these are available on-line&lt;/p&gt;
&lt;p&gt;The driver will use the &amp;ldquo;position hold&amp;rdquo; mode with user provided coordinates, the receivers built-in site-survey, or a similar algorithm implemented in this driver to determine the antenna position.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The driver always puts a lot of useful information on the clockstats file, and when run with debugging can be quite chatty on stdout. When first starting to use the driver you should definitely review the information written to the clockstats file to verify that the driver is running correctly.&lt;/p&gt;
&lt;p&gt;In addition, on platforms supporting Shared Memory, all of the messages received from the Oncore receiver are made available in shared memory for use by other programs. See the &lt;a href=&#34;/archives/drivers/oncore-shmem&#34;&gt;Oncore-SHMEM&lt;/a&gt; manual page for information on how to use this option. For either debugging or using the SHMEM option, an Oncore Reference Manual for the specific receiver in use will be required.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;The driver was initially developed on FreeBSD, and has since been tested on Linux, SunOS, and Solaris.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There is a driver specific configuration file &lt;tt&gt;ntp.oncore&lt;/tt&gt; (or &lt;tt&gt;ntp.oncore.&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt; or &lt;tt&gt;ntp.oncore&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt; if you must distinguish between more than one Oncore receiver) that contains information on the startup mode, the location of the GPS receiver, an offset of the PPS signal from zero, and the cable delay. The offset shifts the PPS signal to avoid interrupt pileups `on&#39; the second, and adjusts the timestamp accordingly. See the driver source for information on this file. The default with no file is: no delay, no offset, and a site survey is done to get the location of the gps receiver.&lt;/p&gt;
&lt;p&gt;The following three options can be set in the driver specific configuration file only if the driver is using the PPSAPI. The edge of the PPS signal that is `on-time&#39; can be set with the keywords [ASSERT/CLEAR] and the word HARDPPS will cause the PPS signal to control the kernel PLL.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Performance&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Really good. With the VP/UT+, the generated PPS pulse is referenced to UTC(GPS) with better than 50 nsec (1 sigma) accuracy. The limiting factor will be the timebase of the computer and the precision with which you can timestamp the rising flank of the PPS signal. Using FreeBSD, a FPGA based Timecounter/PPS interface, and an ovenized quartz oscillator, that performance has been reproduced.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: MX4200 Receiver Data Format</title>
      <link>/archives/drivers/mx4200data/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/mx4200data/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/mx4200data#control-port-sentences&#34;&gt;Control Port Sentences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/mx4200data#control-port-input-sentences&#34;&gt;Control Port Input Sentences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/mx4200data#control-port-output-sentences&#34;&gt;Control Port Output Sentences&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;control-port-sentences&#34;&gt;Control Port Sentences&lt;/h4&gt;
&lt;p&gt;The Control (CDU) Port is used to initialize, monitor, and control the receiver. The structure of the control port sentences is based on the &lt;cite&gt;NMEA-0183&lt;/cite&gt; Standard for Interfacing Marine Electronics Navigation Devices (version 1.5). For more details, please refer to the &lt;cite&gt;NMEA-0183&lt;/cite&gt; Specification available from the &lt;a href=&#34;http://www.nmea.org/&#34;&gt;National Marine Electronics Association&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Reserved characters are used to indicate the beginning and the end of records in the data stream, and to delimit data fields within a sentence. Only printable ASCII characters (Hex 20 through 7F) may be used in a sentence. Table 2 lists the reserved characters and defines their usage. Table 1 illustrates the general Magnavox proprietary NMEA sentence format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 1. Magnavox Proprietary NMEA Sentence Format&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,XXX,...................*CK&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Character&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;`&lt;/td&gt;
&lt;td&gt;Sentence Start Character&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;P&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Special ID (P = Proprietary)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MVX&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Originator ID (MVX = Magnavox)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;G&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Interface ID (G = GPS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;XXX&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentence Type&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Optional Checksum Field Delimiter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CK&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Optional Checksum&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Table 2. NMEA Sentence Reserved Characters&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Character&lt;/th&gt;
&lt;th&gt;Hex Value&lt;/th&gt;
&lt;th&gt;Usage&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;`&lt;/td&gt;
&lt;td&gt;&lt;code&gt;24&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Start of Sentence Identifier&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{cr}{lf}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0D 0A&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;End of Sentence Identifier&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;,&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2C&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentence Delimiter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2A&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Optional Checksum Field Delimiter&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Following the start character &lt;code&gt;$&lt;/code&gt;, are five characters which constitute the block label of the sentence. For Magnavox proprietary sentences, this label is always &lt;code&gt;PMVXG&lt;/code&gt;. The next field after the block label is the sentence type, consisting of three decimal digits.&lt;/p&gt;
&lt;p&gt;The data, delimited by commas, follows the sentence type. Note that the receiver uses a free-format parsing algorithm, so you need not send the exact number of characters shown in the examples. You will need to use the commas to determine how many bytes of data need to be retrieved.&lt;/p&gt;
&lt;p&gt;The notation &lt;code&gt;CK&lt;/code&gt; shown in Table 1 symbolically indicates the optional checksum in the examples. The checksum is computed by exclusive-ORing all of the bytes between the &lt;code&gt;$&lt;/code&gt; and the &lt;code&gt;*&lt;/code&gt; characters. The &lt;code&gt;$&lt;/code&gt;, &lt;code&gt;*&lt;/code&gt; and the checksum are not included in the checksum computation.&lt;/p&gt;
&lt;p&gt;Checksums are optional for Control Port input sentences, but are highly recommended to limit the effects of communication errors. Magnavox receivers always generate checksums for Control Port output sentences.&lt;/p&gt;
&lt;p&gt;ASCII data characters are transmitted in the following format:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bit Type&lt;/th&gt;
&lt;th&gt;Number&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Data&lt;/td&gt;
&lt;td&gt;8 (msb always 0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Parity&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Stop&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;NULL fields are fields which do not contain any data. They would appear as two commas together in the sentence format, except for the final field. Some Magnavox proprietary sentences require that the format contain NULL fields. mandatory NULL fields are identified by an &lt;code&gt;*&lt;/code&gt; next to the respective field.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;control-port-input-sentences&#34;&gt;Control Port Input Sentences&lt;/h4&gt;
&lt;p&gt;These are the subset of the MX4200 control port input sentences sent by the NTP driver to the GPS receiver.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,000&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Initialization/Mode Control - Part A&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Initializes the time, position and antenna height of the MX4200.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Day&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1-31&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Month&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1-12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1991-9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GMT Time&lt;/td&gt;
&lt;td&gt;HHMMSS&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;000000-235959&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;WGS-84 Latitude&lt;/td&gt;
&lt;td&gt;DDMM.MMMM&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0-8959.9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;North/South Indicator&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;N, S&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;WGS-84 Longitude&lt;/td&gt;
&lt;td&gt;DDDMM.MMMM&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0-17959.9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;East/West Indicator&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;E, W&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Altitude (height above Mean Sea Level) in meters (WGS-84)&lt;/td&gt;
&lt;td&gt;Meters&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;+/-99999.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,000,,,,,,,,,,*48&lt;/code&gt;&lt;br&gt;
&lt;code&gt;$PMVXG,000,,,,,5128.4651,N,00020.0715,W,58.04,*4F&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,001&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Initialization/Mode Control - Part B&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Specifies various navigation parameters: Altitude aiding, acceleration DOP limits, and satellite elevation limits.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Constrain Altitude&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; 3D Only&lt;br&gt; &lt;code&gt;1&lt;/code&gt; Auto&lt;br&gt; &lt;code&gt;2&lt;/code&gt;2D Only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Horizontal Acceleration Factor&lt;/td&gt;
&lt;td&gt;m/sec^2&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;0.5-10.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;VDOP Limit&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;1-9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;HDOP Limit&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;1-9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Elevation Limit&lt;/td&gt;
&lt;td&gt;Deg&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0-90&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Output Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;U&lt;/td&gt;
&lt;td&gt;&lt;code&gt;U&lt;/code&gt; UTC&lt;br&gt; &lt;code&gt;L&lt;/code&gt; Local Time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Local Time Offset&lt;/td&gt;
&lt;td&gt;HHMM&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;+/- 0-2359&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,001,3,,0.1,0.1,10,10,5,U,0*06&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,007&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Control Port Output Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This message enables or disables output of the specified sentence and defines the output rate. The user sends this message for each sentence that the receiver is to output.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Control Port Output Block Label&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Clear Current Output List&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; No&lt;br&gt; &lt;code&gt;1&lt;/code&gt; Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add/Delete Sentence from List&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt; Append&lt;br&gt; &lt;code&gt;2&lt;/code&gt; Delete&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentence Output Rate&lt;/td&gt;
&lt;td&gt;Sec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1-9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;# digits of Precision for CGA and GLL sentences&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2-4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,007,022,0,1,,1,,,*4F&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,023&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time Recovery Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This message is used to enable/disable the time recovery feature of the receiver. The time synchronization for the 1PPS output is specified in addition to a user time bias and an error tolerance for a valid pulse. This record is accepted in units configured for time recovery. If the back panel contains a 1PPS outlet, the receiver is a time recovery unit.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Recovery Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;&lt;code&gt;D&lt;/code&gt; Dynamic&lt;br&gt; &lt;code&gt;S&lt;/code&gt; Static&lt;br&gt; &lt;code&gt;K&lt;/code&gt; Known Position&lt;br&gt; &lt;code&gt;N&lt;/code&gt; No Time Recovery&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Synchronization&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;&lt;code&gt;U&lt;/code&gt; UTC&lt;br&gt; &lt;code&gt;G&lt;/code&gt; GPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Mark Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;&lt;code&gt;A&lt;/code&gt; Always&lt;br&gt; &lt;code&gt;V&lt;/code&gt; Valid Pulses Only&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Maximum Time Error&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;50-1000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;User Time Bias&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;+/- 99999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ASCII Time Message Control&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; No Output&lt;br&gt; &lt;code&gt;1&lt;/code&gt; 830 to Control Port&lt;br&gt; &lt;code&gt;2&lt;/code&gt; 830 to Equipment Port&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Known Pos PRN&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1-32&lt;br&gt;  &lt;code&gt;0&lt;/code&gt; Track All Sats&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,023,S,U,A,500,0,1,*16&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$CDGPQ,YYY&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Query From a Remote Device / Request to Output a Sentence&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Enables the controller to request a one-time transmission of a specific block label. To output messages at a periodic rate, refer to input sentence $PMVXG,007.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1:CD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ID of Remote Device&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;(See NMEA-0183)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2:GP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GPS&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;(See NMEA-0183)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3:Q&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Query&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;(See NMEA-0183)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4:YYY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Label of Desired Sentence&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;Any Valid NMEA or Magnavox Sentence Type&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$CDGPQ,030*5E&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;control-port-output-sentences&#34;&gt;Control Port Output Sentences&lt;/h4&gt;
&lt;p&gt;These are the subset of the MX4200 control port output sentences recognized by the NTP driver.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,000&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Receiver Status&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Returns the current status of the receiver including the operating mode, number of satellites visible, and the number of satellites being tracked.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Current Receiver Status&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ACQ&lt;/code&gt; Reacquisition&lt;br&gt; &lt;code&gt;ALT&lt;/code&gt; Constellation Selection&lt;br&gt; &lt;code&gt;IAC&lt;/code&gt; Initial Acquisition&lt;br&gt; &lt;code&gt;IDL&lt;/code&gt; Idle, No Satellites&lt;br&gt;  &lt;code&gt;NAV&lt;/code&gt; Navigating&lt;br&gt; &lt;code&gt;STS&lt;/code&gt; Search The Sky&lt;br&gt; &lt;code&gt;TRK&lt;/code&gt; Tracking&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of Satellites that should be Visible&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0-12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of Satellites being Tracked&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0-12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time since Last Navigation&lt;/td&gt;
&lt;td&gt;HHMM&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;0-2359&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialization Status&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; Waiting for Initialization&lt;br&gt; &lt;code&gt;1&lt;/code&gt; Initialization Complete&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,000,TRK,3,3,0122,1*19&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,021&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Position, Height, Velocity&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence gives the receiver position, height, navigation mode and velocity north/east. &lt;em&gt;This sentence is intended for post-analysis applications.&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UTC Measurement Time&lt;/td&gt;
&lt;td&gt;Seconds into the week&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0-604800.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;WGS-84 Latitude&lt;/td&gt;
&lt;td&gt;DDMM.MMMM&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0-89.9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;North/South Indicator&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;N, S&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;WGS-84 Longitude&lt;/td&gt;
&lt;td&gt;DDDMM.MMMM&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0-179.9999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;East/West Indicator&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;E, W&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Altitude (MSL)&lt;/td&gt;
&lt;td&gt;Meters&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Geoidal Height&lt;/td&gt;
&lt;td&gt;Meters&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Velocity East&lt;/td&gt;
&lt;td&gt;M/Sec&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Velocity North&lt;/td&gt;
&lt;td&gt;M/Sec&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Navigation Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;em&gt;Navigating&lt;/em&gt; &lt;br&gt; &lt;code&gt;1&lt;/code&gt; Position From a Remote Device&lt;br&gt; &lt;code&gt;2&lt;/code&gt; 2D&lt;br&gt; &lt;code&gt;3&lt;/code&gt; 3D&lt;br&gt; &lt;code&gt;4&lt;/code&gt; 2D differential&lt;br&gt; &lt;code&gt;5&lt;/code&gt; 3D differential&lt;br&gt;  &lt;em&gt;Not Navigating&lt;/em&gt;  &lt;br&gt; &lt;code&gt;51&lt;/code&gt; Too Few Satellites&lt;br&gt; &lt;code&gt;52&lt;/code&gt; DOPs too large&lt;br&gt; &lt;code&gt;53&lt;/code&gt; Position STD too large&lt;br&gt; &lt;code&gt;54&lt;/code&gt; Velocity STD too large&lt;br&gt; &lt;code&gt;55&lt;/code&gt; Too many iterations for velocity&lt;br&gt; &lt;code&gt;56&lt;/code&gt; Too many iterations for position&lt;br&gt; &lt;code&gt;57&lt;/code&gt; 3 Sat Startup failed&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,021,142244.00,5128.4744,N,00020.0593,W,00054.4,0047.4,0000.1,-000.2,03*66&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,022&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DOPs&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence reports the DOP (Dilution Of Precision) values actually used in the measurement processing corresponding to the satellites listed. The satellites are listed in receiver channel order. Fields 11-16 are output only on 12-channel receivers.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UTC Measurement Time&lt;/td&gt;
&lt;td&gt;Seconds into the week&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;0-604800.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;East DOP (EDOP)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;North DOP (NDOP)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Vertical DOP (VDOP)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Float&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #4&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #5&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #6&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;11&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #7&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;12&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #8&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;13&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #9&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;14&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #10&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;15&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #11&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;PRN on Channel #12&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-32&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,022,142243.00,00.7,00.8,01.9,27,26,10,09,13,23*77&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,030&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Software Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence contains the navigation processor and baseband firmware version numbers.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Nav Processor Version Number&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Baseband Firmware Version Number&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,030,DA35,015&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,101&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Control Sentence Accept/Reject&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence is returned (on the Control Port) for every &lt;strong&gt;$PMVXG&lt;/strong&gt; and &lt;strong&gt;$XXGPQ&lt;/strong&gt; sentence that is received.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentence ID&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Accept/Reject Status&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; Sentence Accepted&lt;br&gt; &lt;code&gt;1&lt;/code&gt; Bad Checksum&lt;br&gt; &lt;code&gt;2&lt;/code&gt; Illegal Value&lt;br&gt; &lt;code&gt;3&lt;/code&gt; Unrecognized ID&lt;br&gt; &lt;code&gt;4&lt;/code&gt; Wrong # of fields&lt;br&gt; &lt;code&gt;5&lt;/code&gt; Required Data Field Missing&lt;br&gt; &lt;code&gt;6&lt;/code&gt; Requested Sentence Unavailable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Bad Field Index&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Requested Sentence ID (If field #1 = GPQ)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,101,GPQ,0,,030*0D&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,523&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time Recovery Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence contains the configuration of the time recovery function of the receiver.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Recovery Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;D&lt;/code&gt; Dynamic&lt;br&gt; &lt;code&gt;S&lt;/code&gt; Static&lt;br&gt; &lt;code&gt;K&lt;/code&gt; Known Position&lt;br&gt; &lt;code&gt;N&lt;/code&gt; No Time Recovery&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Synchronization&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;U&lt;/code&gt; UTC Time&lt;br&gt; &lt;code&gt;G&lt;/code&gt; GPS Time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Mark Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;A&lt;/code&gt; Always Output Time Pulse&lt;br&gt; &lt;code&gt;V&lt;/code&gt; Only when Valid&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Maximum Time Error for which a time mark will be considered valid&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;User Time Bias&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Message Control&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0&lt;/code&gt; No Message&lt;br&gt; &lt;code&gt;1&lt;/code&gt; 830 to Control Port&lt;br&gt; &lt;code&gt;2&lt;/code&gt; 830 to Equipment Port&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Not Used&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,523,S,U,A,0500,000000,1,0*23&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;$PMVXG,830&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time Recovery Results&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This sentence is output approximately 1 second preceding the 1PPS output. It indicates the exact time of the next pulse, whether or not the time mark will be valid (based on operator-specified error tolerance), the time to which the pulse is synchronized, the receiver operating mode, and the time error of the &lt;strong&gt;last&lt;/strong&gt; 1PPS output. The leap second flag (Field #11) is not output by older receivers.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Units&lt;/th&gt;
&lt;th&gt;Format&lt;/th&gt;
&lt;th&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Mark Valid&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;T&lt;/code&gt; Valid&lt;br&gt; &lt;code&gt;F&lt;/code&gt; Not Valid&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1993-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Month&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Day&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;1-31&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time&lt;/td&gt;
&lt;td&gt;HH:MM:SS&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;00:00:00-23:59:59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Synchronization&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;U&lt;/code&gt; UTC&lt;br&gt; &lt;code&gt;G&lt;/code&gt; GPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Operating Mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Char&lt;/td&gt;
&lt;td&gt;&lt;code&gt;D&lt;/code&gt; Dynamic&lt;br&gt; &lt;code&gt;S&lt;/code&gt; Static&lt;br&gt; &lt;code&gt;K&lt;/code&gt; Known Position&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Oscillator Offset - estimate of oscillator frequency error&lt;/td&gt;
&lt;td&gt;PPB&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time Mark Error of last pulse&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;User Time Bias&lt;/td&gt;
&lt;td&gt;Nsec&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;11&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Leap Second Flag - indicates that a leap second will occur. This value is usually zero except during the week prior to a leap second occurrence, when this value will be set to +/-1. A value of &lt;code&gt;+1&lt;/code&gt; indicates that GPS time will be 1 second further ahead of UTC time.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Int&lt;/td&gt;
&lt;td&gt;-1,0,1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$PMVXG,830,T,1998,10,12,15:30:46,U,S,000298,00003,000000,01*02&lt;/code&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: NeoClock4X</title>
      <link>/archives/drivers/driver44/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver44/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver44/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver44/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver44/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/neoclock4x.gif&#34; alt=&#34;NeoClock4X - DCF77 receiver&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Address:  &lt;/tt&gt; &lt;code&gt;127.127.44.u&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Reference ID:&lt;/tt&gt; &lt;code&gt;neol&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Driver ID:&lt;/tt&gt;  &lt;code&gt;NEOCLK4X&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;Serial Port:&lt;/tt&gt;  &lt;code&gt;/dev/neoclock4x-u&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;The refclock_neoclock4x driver supports the NeoClock4X receiver available from Linum Software GmbH. The receiver is available as a DCF77 or TDF receiver. Both receivers have the same output string. For more information about the NeoClock4X receiver please visit &lt;a href=&#34;http://www.linux-funkuhr.de&#34;&gt;http://www.linux-funkuhr.de&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt/#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;time1 time&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Specifies the time offset calibration factor with the default value off 0.16958333 seconds. This offset is used  to correct serial line and operating system delays incurred in capturing time stamps. If you want to fudge the time1 offset &lt;strong&gt;ALWAYS&lt;/strong&gt; add a value off 0.16958333. This is neccessary to compensate to delay that is caused by transmit the timestamp at 2400 Baud. If you want to compensate the delay that the DCF77 or TDF radio signal takes to travel to your site simply add the needed millisecond delay to the given value. Note that the time here is given in seconds.&lt;/p&gt;
&lt;p&gt;Default setting is 0.16958333 seconds.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt/#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;time2 time&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;When set to 1 the driver will feed ntp with timestampe even if the radio signal is lost. In this case an internal backup clock generates the timestamps. This is ok as long as the receiver is synced once since the receiver is able to keep time for a long period.&lt;/p&gt;
&lt;p&gt;Default setting is 0 = don&amp;rsquo;t synchronize to CMOS clock.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can allow the NeoClock4X driver to use the quartz clock even if it is never synchronized to a radio clock. This is usally not a good idea if you want preceise timestamps since the CMOS clock is maybe not adjusted to a dst status change. So &lt;strong&gt;PLEASE&lt;/strong&gt; switch this only on if you now what you&amp;rsquo;re doing.&lt;/p&gt;
&lt;p&gt;Default setting is 0 = don&amp;rsquo;t synchronize to unsynchronized CMOS clock.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/clockopt#commands-and-options&#34;&gt;&lt;strong&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It is recommended to allow extensive logging while you setup the NeoClock4X receiver. If you activate flag4 every received data is logged. You should turn off flag4 as soon as the clock works as expected to reduce logfile cluttering.&lt;/p&gt;
&lt;p&gt;Default setting is 0 = don&amp;rsquo;t log received data and converted utc time.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Please send any comments or question to &lt;a href=&#34;mailto:neoclock4@linum.com&#34;&gt;neoclock4x@linum.com&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: NIST/USNO/PTB Modem Time Services</title>
      <link>/archives/drivers/driver18/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver18/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 12-Oct-2017 08:13 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#us-phone-numbers-and-formats&#34;&gt;US Phone Numbers and Formats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver18/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.18.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;NIST | USNO | PTB | WWVB&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;ACTS_MODEM&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/acts_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;br&gt;
Requires: &lt;tt&gt;/usr/include/sys/termios.h&lt;/tt&gt; header file with modem control and a dial-out (cua) device.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the US (NIST and USNO) and European (PTB (Germany), NPL (UK), etc.) modem time services, as well as Spectracom GPS and WWVB receivers connected via a modem. The driver periodically dials a number from a telephone list, receives the timecode data and calculates the local clock correction. It is designed primarily for backup when neither a radio clock nor connectivity to Internet time servers are available. It can also be configured to operate full period.&lt;/p&gt;
&lt;p&gt;For best results the indicated time must be corrected for the modem and telephone circuit propagation delays, which can reach 200 ms or more. For the NIST service, corrections are determined automatically by measuring the roundtrip delay of echoed characters. With this service the absolute accuracy is typically a millisecond or two. Corrections for the other services must be determined by other means. With these services variations from call to call and between messages during a call are typically a few milliseconds, occasionally higher.&lt;/p&gt;
&lt;p&gt;This driver requires a 9600-bps modem with a Hayes-compatible command set and control over the modem data terminal ready (DTR) control line. The actual line speed ranges from 1200 bps with USNO to 14,400 bps with NIST. The modem setup string is hard-coded in the driver and may require changes for nonstandard modems or special circumstances.&lt;/p&gt;
&lt;p&gt;There are three modes of operation selected by the &lt;tt&gt;mode&lt;/tt&gt; keyword in the &lt;tt&gt;server&lt;/tt&gt; configuration command. In manual mode (2) the calling program is initiated by setting fudge &lt;tt&gt;flag1&lt;/tt&gt;. This can be done manually using &lt;tt&gt;ntpq&lt;/tt&gt;, or by a cron job. In auto mode (0) &lt;tt&gt;flag1&lt;/tt&gt; is set at each poll event. In backup mode (1) &lt;tt&gt;flag1&lt;/tt&gt; is set at each poll event, but only if no other synchronization sources are available.&lt;/p&gt;
&lt;p&gt;When &lt;tt&gt;flag1&lt;/tt&gt; is set, the calling program dials the first number in the list specified by the &lt;tt&gt;phone&lt;/tt&gt; command. If the call fails for any reason, the program dials the second number and so on. The phone number is specified by the Hayes ATDT prefix followed by the number itself, including the prefix and long-distance digits and delay code, if necessary. The &lt;tt&gt;flag1&lt;/tt&gt; is reset and the calling program terminated if (a) valid clock update has been determined, (b) no more numbers remain in the list, (c) a device fault or timeout occurs or (d) fudge &lt;tt&gt;flag1&lt;/tt&gt; is reset manually using &lt;tt&gt;ntpq&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The driver automatically recognizes the message format of each modem time service. It selects the parsing algorithm depending on the message length. There is some hazard should the message be corrupted. However, the data format is checked carefully and only if all checks succeed is the message accepted. Corrupted lines are discarded without complaint. Once the service is known, the reference identifier for the driver is set to NIST, USNO, PTB or WWVB as appropriate.&lt;/p&gt;
&lt;p&gt;The Spectracom radio can be connected via a modem if the radio is configured to send time codes continuously at 1-s intervals. In principle, fudge &lt;tt&gt;flag2&lt;/tt&gt; enables port locking, allowing the modem to be shared when not in use by this driver. At least on Solaris with the current NTP I/O routines, this results in lots of ugly error messages.&lt;/p&gt;
&lt;p&gt;The &lt;tt&gt;minpoll&lt;/tt&gt; and &lt;tt&gt;maxpoll&lt;/tt&gt; keywords of the server configuration command can be used to limit the intervals between calls. The recommended settings are 12 (1.1 hours) for &lt;tt&gt;minpoll&lt;/tt&gt; and 17 (36 hours) for &lt;tt&gt;maxpoll&lt;/tt&gt;. Ordinarily, the poll interval will start at &lt;tt&gt;minpoll&lt;/tt&gt; and ramp up to &lt;tt&gt;maxpoll&lt;/tt&gt; in a day or two.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;us-phone-numbers-and-formats&#34;&gt;US Phone Numbers and Formats&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Phone numbers include the entire Hayes modem command, including the &lt;tt&gt;ATDT&lt;/tt&gt; and other control codes as may be necessary. For most cases only the &lt;tt&gt;ATDT&lt;/tt&gt; may be necessary.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.nist.gov/time-distribution/automated-computer-time-service-acts&#34;&gt;National Institute of Science and Technology (NIST)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Phone: (303) 494-4774 (Boulder, CO); (808) 335-4721 (Hawaii)&lt;/p&gt;
&lt;p&gt;Data Format:&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;National Institute of Standards and Technology&lt;br&gt;
Telephone Time Service, Generator 3B&lt;br&gt;
Enter question mark &amp;ldquo;?&amp;rdquo; for HELP&lt;br&gt;
MJD YR MO DA H M S ST S UT1 msADV &lt;OTM&gt;&lt;br&gt;
47999 90-04-18 21:39:15 50 0 +.1 045.0 UTC(NIST) *&lt;br&gt;
47999 90-04-18 21:39:16 50 0 +.1 045.0 UTC(NIST) #&lt;br&gt;
&amp;hellip;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;MJD&lt;/tt&gt;, &lt;tt&gt;YR&lt;/tt&gt;, &lt;tt&gt;ST&lt;/tt&gt;, &lt;tt&gt;UT1&lt;/tt&gt; and &lt;tt&gt;UTC(NIST)&lt;/tt&gt; are not used by this driver. The &lt;tt&gt;&lt;OTM&gt;&lt;/tt&gt; on-time character &lt;code&gt;*&lt;/code&gt; changes to &lt;code&gt;#&lt;/code&gt; when the delay correction is valid.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.usno.navy.mil/&#34;&gt;US Naval Observatory (USNO)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Phone: (202) 762-1594 (Washington, DC); (719) 567-6743 (Colorado Springs, CO)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.usno.navy.mil/USNO/time/telephone-time&#34;&gt;Data Format&lt;/a&gt; (two lines, repeating at one-second intervals)&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;jjjjj nnn hhmmss UTC&lt;/tt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;on-time character for previous timecode message&lt;br&gt;
jjjjj modified Julian day number (not used)&lt;br&gt;
nnn day of year&lt;br&gt;
hhmmss second of day&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;/archives/drivers/tf582_4&#34;&gt;European Phone Numbers and Formats&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.spectracomcorp.com&#34;&gt;Spectracom GPS and WWVB Receivers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If a modem is connected to a Spectracom receiver, this driver will call it and retrieve the time in one of two formats, 0 and 2. Ordinarily, the receiver requires a &lt;tt&gt;T&lt;/tt&gt; in order to return the timecode. As this driver does not send data via the modem, it must either be configured in continuous mode or be polled by another local driver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The received timecode is written as-is to the &lt;tt&gt;clockstats&lt;/tt&gt; file along with the Hayes connection and hang-up commands and result codes.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Set by the driver to (one of) &lt;tt&gt;NIST&lt;/tt&gt;, &lt;tt&gt;USNO&lt;/tt&gt;, &lt;tt&gt;PTB&lt;/tt&gt; or &lt;tt&gt;WWVB&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Initiate a call if 1. Automatically reset by program.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enables port locking if 1, disables if 0 (default).&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: PPS Clock Discipline</title>
      <link>/archives/drivers/driver22/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver22/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last change: 31-Mar-2014 07:46 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver22/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver22/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver22/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver22/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.22.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;PPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;PPS&lt;/tt&gt;&lt;br&gt;
Serial or Parallel Port: &lt;tt&gt;/dev/pps_u_&lt;/tt&gt;&lt;br&gt;
Requires: PPSAPI signal interface for PPS signal processing.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    This driver supersedes an older one of the same name. The older driver operated with several somewhat archaic signal interface devices, required intricate configuration and was poorly documented. This driver requires the Pulse per Second API (PPSAPI)&lt;sup&gt;&lt;a href=&#34;#myfootnote1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;. Note also that the &lt;tt&gt;pps&lt;/tt&gt; configuration command has been obsoleted by this driver.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver furnishes an interface for the pulse-per-second (PPS) signal produced by a cesium clock, radio clock or related devices. It can be used to augment the serial timecode generated by a GPS receiver, for example. It can be used to remove accumulated jitter and re-time a secondary server when synchronized to a primary server over a congested, wide-area network and before redistributing the time to local clients. The driver includes extensive signal sanity checks and grooming algorithms. A range gate and frequency discriminator reject noise and signals with incorrect frequency. A multiple-stage median filter rejects jitter due to hardware interrupt and operating system latencies. A trimmed-mean algorithm determines the best time samples. With typical workstations and processing loads, the incidental jitter can be reduced to a few microseconds.&lt;/p&gt;
&lt;p&gt;While this driver can discipline the time and frequency relative to the PPS source, it cannot number the seconds. For this purpose an auxiliary source is required, ordinarily a radio clock operated as a primary reference (stratum 1) source; however, another NTP time server can be used as well. For this purpose, the auxiliary source should be specified as the prefer peer, as described in the &lt;a href=&#34;/archives/4.2.8-series/prefer&#34;&gt;Mitigation Rules and the &lt;tt&gt;prefer&lt;/tt&gt; Keyword&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;The driver requires the PPSAPI interface&lt;sup&gt;&lt;a href=&#34;#myfootnote1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;, which is a proposed IETF standard. The interface consists of the &lt;tt&gt;timepps.h&lt;/tt&gt; header file and associated kernel support. Support for this interface is included in current versions of Solaris, FreeBSD and Linux and proprietary versions of Tru64 (Alpha) and SunOS. See the &lt;a href=&#34;/archives/4.2.8-series/pps&#34;&gt;Pulse-per-second (PPS) Signal Interfacing&lt;/a&gt; page for further information.&lt;/p&gt;
&lt;p&gt;The PPS source can be connected via a serial or parallel port, depending on the hardware and operating system. A serial port can be dedicated to the PPS source or shared with another device; however, if dedicated the data leads should not be connected, as noise or unexpected signals can cause &lt;tt&gt;ntpd&lt;/tt&gt; to exit.&lt;/p&gt;
&lt;p&gt;A radio clock is usually connected via a serial port and the PPS source connected via a level converter to the data carrier detect (DCD) pin (DB-9 pin 1, DB-25 pin 8) of the same connector. In some systems where a parallel port and driver are available, the PPS signal can be connected directly to the ACK pin (DB25 pin 10) of the connector. Whether the PPS signal is connected via a dedicated port or shared with another device, the driver opens the device &lt;tt&gt;/dev/pps%d&lt;/tt&gt;, where &lt;tt&gt;%d&lt;/tt&gt; is the unit number. As with other drivers, links can be used to redirect the logical name to the actual physical device.&lt;/p&gt;
&lt;p&gt;The driver normally operates like any other driver and uses the same mitigation algorithms and PLL/FLL clock discipline incorporated in the daemon. If kernel PLL/FLL support is available, the kernel PLL/FLL clock discipline can be used instead. The default behavior is not to use the kernel PPS clock discipline, even if present. This driver incorporates a good deal of signal processing to reduce jitter using the median filter algorithm in the driver. As the result, performance with &lt;tt&gt;minpoll&lt;/tt&gt; configured at 4 (16s) is generally better than the kernel PPS discipline. However, fudge flag 3 can be used to enable the kernel PPS discipline if necessary.&lt;/p&gt;
&lt;p&gt;This driver is enabled only under one of two conditions (a) a prefer peer other than this driver is among the survivors of the mitigation algorithms or (b) there are no survivors and the &lt;tt&gt;minsane&lt;/tt&gt; option of the &lt;tt&gt;tos&lt;/tt&gt; command is 0. The prefer peer designates another source that can reliably number the seconds when available . However, if no sources are available, the system clock continues to be disciplined by the PPS driver on an indefinite basis.&lt;/p&gt;
&lt;p&gt;A scenario where the latter behavior can be most useful is a planetary orbiter fleet, for instance in the vicinity of Mars, where contact between orbiters and Earth only one or two times per Sol (Mars day). These orbiters have a precise timing reference based on an Ultra Stable Oscillator (USO) with accuracy in the order of a Cesium oscillator. A PPS signal is derived from the USO and can be disciplined from Earth on rare occasion or from another orbiter via NTP. In the above scenario the PPS signal disciplines the spacecraft clock between NTP updates.&lt;/p&gt;
&lt;p&gt;In a similar scenario a PPS signal can be used to discipline the clock between updates produced by the modem driver. This would provide precise synchronization without needing the Internet at all.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;PPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies PPS capture on the rising (assert) pulse edge if 0 (default) or falling (clear) pulse edge if 1\. Not used under Windows - if the special &lt;tt&gt;serialpps.sys&lt;/tt&gt; serial port driver is installed then the leading edge will _always_ be used.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Controls the kernel PPS discipline: 0 for disable (default), 1 for enable. Not used under Windows - if the special &lt;tt&gt;serialpps.sys&lt;/tt&gt; serial port driver is used then kernel PPS will be available and used.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Record a timestamp once for each second if 1. Useful for constructing Allan deviation plots.&lt;/dd&gt;
&lt;p&gt;.&lt;/dl&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;myfootnote1&#34;&gt;1&lt;/a&gt;  Mogul, J., D. Mills, J. Brittenson, J. Stone and U. Windl. Pulse-per-second API for Unix-like operating systems, version 1. Request for Comments RFC-2783, Internet Engineering Task Force, March 2000, 31 pp.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: PSTI/Traconex 1020 WWV/WWVH Receiver</title>
      <link>/archives/drivers/driver3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver3/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver3/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver3/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver3/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver3/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver3/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.3.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;WWV&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;WWV_PST&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/wwv_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the PSTI 1010 and Traconex 1020 WWV/WWVH Receivers. No specific claim of accuracy is made for these receiver, but actual experience suggests that 10 ms would be a conservative assumption.&lt;/p&gt;
&lt;p&gt;The dipswitches should be set for 9600 bps line speed, 24-hour day-of-year format and UTC time zone. Automatic correction for DST should be disabled. It is very important that the year be set correctly in the DIP-switches; otherwise, the day of year will be incorrect after 28 April of a normal or leap year. As the there are only four dipswitches to set the year and the base value of zero correspondes to 1986, years beyond 2001 recycle with the value of zero corresponding to 2002. The propagation delay DIP-switches should be set according to the distance from the transmitter for both WWV and WWVH, as described in the instructions. While the delay can be set only to within 11 ms, the fudge time1 parameter can be used for vernier corrections.&lt;/p&gt;
&lt;p&gt;Using the poll sequence &lt;tt&gt;QTQDQM&lt;/tt&gt;, the response timecode is in three sections totalling 50 ASCII printing characters, as concatenated by the driver, in the following format:&lt;/p&gt;
&lt;pre&gt;ahh:mm:ss.fffs&lt;cr&gt; yy/dd/mm/ddd&lt;cr&gt;
frdzycchhSSFTttttuuxx&lt;cr&gt;

on-time = first &lt;cr&gt;
hh:mm:ss.fff = hours, minutes, seconds, milliseconds
a = AM/PM indicator (&#39; &#39; for 24-hour mode)
yy = year (from DIPswitches)
dd/mm/ddd = day of month, month, day of year
s = daylight-saving indicator (&#39; &#39; for 24-hour mode)
f = frequency enable (O = all frequencies enabled)
r = baud rate (3 = 1200, 6 = 9600)
d = features indicator (@ = month/day display enabled)
z = time zone (0 = UTC)
y = year (5 = 91)
cc = WWV propagation delay (52 = 22 ms)
hh = WWVH propagation delay (81 = 33 ms)
SS = status (80 or 82 = operating correctly)
F = current receive frequency (4 = 15 MHz)
T = transmitter (C = WWV, H = WWVH)
tttt = time since last update (0000 = minutes)
uu = flush character (03 = ^c)
xx = 94 (unknown)&lt;/pre&gt;
&lt;p&gt;The alarm condition is indicated by other than &lt;tt&gt;8&lt;/tt&gt; at &lt;tt&gt;a&lt;/tt&gt;, which occurs during initial synchronization and when received signal is lost for an extended period; unlock condition is indicated by other than &lt;tt&gt;0000&lt;/tt&gt; in the &lt;tt&gt;tttt&lt;/tt&gt; subfield.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;flag4&lt;/tt&gt; fudge flag, every received timecode is written as-is to the &lt;tt&gt;clockstats&lt;/tt&gt; file.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;WWV&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: PTB Modem Time Service</title>
      <link>/archives/drivers/tf582_4/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/tf582_4/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Several European countries use the following message data format:&lt;/p&gt;
&lt;pre&gt;Data format  
0000000000111111111122222222223333333333444444444455555555556666666666777777777 7  
0123456789012345678901234567890123456789012345678901234567890123456789012345678 9  
1995-01-23 20:58:51 MEZ 10402303260219950123195849740+40000500 *  
A B C D EF G H IJ K L M N O P Q R S T U V W XY Z&lt;CR&gt;&lt;LF&gt;  
A year  
B month  
C day  
D hour  
E : normally  
A for DST to ST switch first hour  
B for DST to ST switch second hour if not marked in H  
F minute  
G second  
H timezone  
I day of week  
J week of year  
K day of year  
L month for next ST/DST changes  
M day  
N hour  
O UTC year  
P UTC month  
Q UTC day  
R UTC hour  
S UTC minute  
T modified julian day (MJD)  
U DUT1  
V direction and month if leap second  
W signal delay (assumed/measured)  
X sequence number for additional text line in Y  
Y additional text  
Z on time marker (* - assumed delay / # measured delay)  
&lt;CR&gt;!&lt;LF&gt; ! is second change !  
&lt;/pre&gt;
&lt;p&gt;This format is an ITU-R Recommendation (ITU-R TF583.4) and is now available from the primary timing centres of the following countries: Austria, Belgium, Germany, Italy, The Netherlands, Poland, Portugal, Romania, Spain, Sweden, Switzerland, Turkey and United Kingdom. Some examples are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In Germany by &lt;a href=&#34;https://www.ptb.de/cms/en.html&#34;&gt;Physikalisch-Technische Bundesanstalt&lt;/a&gt; (PTB)&amp;rsquo;s timecode service. Phone number: +49 5 31 51 20 38.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the UK by &lt;a href=&#34;http://www.npl.co.uk&#34;&gt;National Physical Laboratory&lt;/a&gt; (NPL)&amp;rsquo;s TRUETIME service. Phone number: 0891 516 333&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Italy by &lt;a href=&#34;http://www.istc.int/en/institute/14163&#34;&gt;Istituto Elettrotecnico Nazionale Galileo Ferrais&lt;/a&gt; (ISTC)&amp;rsquo;s CTD service. Phone number: 166 11 46 15&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Switzerland by &lt;a href=&#34;https://www.metas.ch/metas/en/home.html&#34;&gt;Swiss Federal Office of Metrology&amp;rsquo;s&lt;/a&gt; timecode service. Phone number: 031 323 32 25&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Sweden by &lt;a href=&#34;https://www.ri.se/en/what-we-do/expertises/national-laboratory-for-time-and-frequency&#34;&gt;SP Swedish National Testing and Research Institute&amp;rsquo;s&lt;/a&gt; timecode service. Phone number: +46 33 415783.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: PTB Modem Time Service and other European Laboratories Time Services</title>
      <link>/archives/drivers/driver23/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver23/</guid>
      <description>
        
        
        &lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver23/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver23/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver23/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver23/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;tt&gt;127.127.23.&lt;em&gt;u&lt;/em&gt;&lt;/tt&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;PTB&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;ACTS_PTB&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/ptb_u_&lt;/tt&gt;; 1200 baud, 8-bits, no parity&lt;br&gt;
Requires: &lt;tt&gt;/usr/include/sys/termios.h&lt;/tt&gt; header file with modem control&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the PTB Automated Computer Time Service (ACTS) and it is a modified version of the NIST ACTS driver so see it for more informations..&lt;/p&gt;
&lt;p&gt;It periodically dials a prespecified telephone number, receives the PTB timecode data and calculates the local clock correction. It designed primarily for use when neither a radio clock nor connectivity to Internet time servers is available. For the best accuracy, the individual telephone line/modem delay needs to be calibrated using outside sources.&lt;/p&gt;
&lt;p&gt;The only change between this driver and the NIST one is the data format. Infact PTB data format is the following:&lt;/p&gt;
&lt;pre&gt;Data format  
0000000000111111111122222222223333333333444444444455555555556666666666777777777 7  
0123456789012345678901234567890123456789012345678901234567890123456789012345678 9  
1995-01-23 20:58:51 MEZ 10402303260219950123195849740+40000500 *  
A B C D EF G H IJ K L M N O P Q R S T U V W XY Z&lt;CR&gt;&lt;LF&gt;  
A year  
B month  
C day  
D hour  
E : normally  
A for DST to ST switch first hour  
B for DST to ST switch second hour if not marked in H  
F minute  
G second  
H timezone  
I day of week  
J week of year  
K day of year  
L month for next ST/DST changes  
M day  
N hour  
O UTC year  
P UTC month  
Q UTC day  
R UTC hour  
S UTC minute  
T modified julian day (MJD)  
U DUT1  
V direction and month if leap second  
W signal delay (assumed/measured)  
X sequence number for additional text line in Y  
Y additional text  
Z on time marker (* - assumed delay / # measured delay)  
&lt;CR&gt;!&lt;LF&gt; ! is second change !  
&lt;/pre&gt;
&lt;p&gt;This format is an ITU-R Recommendation (ITU-R TF583.4) and is now available from the primary timing centres of the following countries: Austria, Belgium, Germany, Italy, The Netherlands, Poland, Portugal, Romania, Spain, Sweden, Switzerland, Turkey, United Kingdom. Some examples are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In Germany by &lt;a href=&#34;https://www.ptb.de/cms/en/ptb/fachabteilungen/abtq/gruppe-q4/ref-q42/time-synchronization-of-computers-using-the-network-time-protocol-ntp.html&#34;&gt;Physikalisch-Technische Bundesanstalt (PTB)&amp;rsquo;s timecode service&lt;/a&gt;. Phone number: +49 5 31 51 20 38.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the UK by &lt;a href=&#34;https://www.npl.co.uk/products-services/time-frequency&#34;&gt;National Physical Laboratory (NPL)&amp;rsquo;s TRUETIME service&lt;/a&gt;. Phone number: 0891 516 333&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Italy by &lt;a href=&#34;http://www.istc.int/en/institute/14163&#34;&gt;Istituto Elettrotecnico Nazionale &amp;ldquo;Galileo Ferrais&amp;rdquo; (IEN)&amp;rsquo;s&lt;/a&gt; CTD service. Phone number: 166 11 46 15&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Switzerland by &lt;a href=&#34;https://www.metas.ch/metas/en/home/fabe/zeit-und-frequenz.html&#34;&gt;Swiss Federal Office of Metrology &amp;rsquo;s timecode service&lt;/a&gt;. Phone number: 031 323 32 25&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Sweden by &lt;a href=&#34;https://www.ri.se/en/what-we-do/expertises/position-navigation-and-time&#34;&gt;SP Swedish National Testing and Research Institute&amp;rsquo;s timecode service&lt;/a&gt;. Phone number: +46 33 415783.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default PTB.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;A keyword in the ntp.conf file permits a direct connection to a serial port of source of time like IEN CTD signal. It is sufficient to use the string DIRECT in place of the phone number.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server 127.127.23.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;phone DIRECT&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;additional-information-1&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.0/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Radio CHU Audio Demodulator/Decoder</title>
      <link>/archives/drivers/driver7/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver7/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 17-Jul-2014 02:17 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#technical-overview&#34;&gt;Technical Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#baseband-signal-processing&#34;&gt;Baseband Signal Processing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#majority-decoder&#34;&gt;Majority Decoder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#autotune&#34;&gt;Autotune&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#debugging-aids&#34;&gt;Debugging Aids&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver7/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.7.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;CHU&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;CHU&lt;/tt&gt;&lt;br&gt;
Modem Port: &lt;tt&gt;/dev/chu_u_&lt;/tt&gt;; 300 baud, 8-bits, no parity&lt;br&gt;
Autotune Port: &lt;tt&gt;/dev/icom&lt;/tt&gt;; 1200/9600 baud, 8-bits, no parity&lt;br&gt;
Audio Device: &lt;tt&gt;/dev/audio&lt;/tt&gt; and &lt;tt&gt;/dev/audioctl&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver synchronizes the computer time using shortwave radio transmissions from Canadian time/frequency station &lt;a href=&#34;https://nrc.canada.ca/en/certifications-evaluations-standards/canadas-official-time/nrc-shortwave-station-broadcasts-chu&#34;&gt;CHU&lt;/a&gt; in Ottawa, Ontario. CHU transmissions are made continuously on 3.330, 7.850 and 14.670 MHz in upper sideband, compatible AM mode. An ordinary shortwave receiver can be tuned manually to one of these frequencies or, in the case of ICOM receivers, the receiver can be tuned automatically as propagation conditions change throughout the day and season.&lt;/p&gt;
&lt;p&gt;The driver can be compiled to use either an audio codec or soundcard, or a Bell 103-compatible, 300-b/s modem or modem chip, as described on the &lt;a href=&#34;/archives/4.2.8-series/pps&#34;&gt;Pulse-per-second (PPS) Signal Interfacing&lt;/a&gt; page. If compiled for a modem, the driver uses it to receive the radio signal and demodulate the data. If compiled for the audio codec, it requires a sampling rate of 8 kHz and μ-law companding to demodulate the data. This is the same standard as used by the telephone industry and is supported by most hardware and operating systems, including Solaris, FreeBSD and Linux, among others. The radio is connected via an optional attenuator and cable to either the microphone or line-in port of a workstation or PC. In this implementation, only one audio driver and codec can be supported on a single machine.&lt;/p&gt;
&lt;p&gt;In general and without calibration, the driver is accurate within 1 ms relative to the broadcast time when tracking a station. However, variations up to 0.3 ms can be expected due to diurnal variations in ionospheric layer height and ray geometry. In Newark DE, 625 km from the transmitter, the predicted one-hop propagation delay varies from 2.8 ms in sunlight to 2.6 ms in moonlight. When not tracking the station the accuracy depends on the computer clock oscillator stability, ordinarily better than 0.5 PPM.&lt;/p&gt;
&lt;p&gt;After calibration relative to the PPS signal from a GPS receiver, the mean offset with a 2.4-GHz P4 running FreeBSD 6.1 is generally within 0.2 ms short-term with 0.4 ms jitter. The long-term mean offset varies up to 0.3 ms due to propagation path geometry variations. The processor load due to the driver is 0.4 percent on the P4.&lt;/p&gt;
&lt;p&gt;The driver performs a number of error checks to protect against overdriven or underdriven input signal levels, incorrect signal format or improper hardware configuration. The specific checks are detailed later in this page. Note that additional checks are done elsewhere in the reference clock interface routines.&lt;/p&gt;
&lt;p&gt;This driver incorporates several features in common with other audio drivers such as described in the &lt;a href=&#34;/archives/drivers/driver36&#34;&gt;Radio WWV/H Audio Demodulator/Decoder&lt;/a&gt; and the &lt;a href=&#34;/archives/drivers/driver6&#34;&gt;IRIG Audio Decoder&lt;/a&gt; pages. They include automatic gain control (AGC), selectable audio codec port and signal monitoring capabilities. For a discussion of these common features, as well as a guide to hookup, debugging and monitoring, see the &lt;a href=&#34;/archives/4.2.8-series/audio&#34;&gt;Reference Clock Audio Drivers&lt;/a&gt; page.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;technical-overview&#34;&gt;Technical Overview&lt;/h4&gt;
&lt;p&gt;The driver processes 8-kHz μ-law companded codec samples using maximum-likelihood techniques which exploit the considerable degree of redundancy available in each broadcast message or burst. As described below, every character is sent twice and, in the case of format A bursts, the burst is sent eight times every minute. The single format B burst is considered correct only if every character matches its repetition in the burst. For the eight format A bursts, a majority decoder requires more than half of the 16 repetitions for each digit decode to the same value. Every character in every burst provides an independent timestamp upon arrival with a potential total of 60 timestamps for each minute.&lt;/p&gt;
&lt;p&gt;The CHU timecode format is described on the &lt;a href=&#34;https://nrc.canada.ca/en/certifications-evaluations-standards/canadas-official-time/nrc-shortwave-station-broadcasts-chu&#34;&gt;CHU website&lt;/a&gt;. A timecode is assembled when all bursts have been received in each minute. The timecode is considered valid and the clock set when at least one valid format B burst has been decoded and the majority decoder declares success. Once the driver has synchronized for the first time, it will appear reachable and selectable to discipline the system clock. It is normal on occasion to miss a minute or two due to signal fades or noise. If eight successive minutes are missed, the driver is considered unreachable and the system clock will free-wheel at the latest determined frequency offset. Since the signals are almost always available during some period of the day and the NTP clock discipline algorithms are designed to work well even with long intervals between updates, it is unlikely that the system clock will drift more than a few milliseconds during periods of signal loss.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;baseband-signal-processing&#34;&gt;Baseband Signal Processing&lt;/h4&gt;
&lt;p&gt;The program consists of four major parts: the DSP modem, maximum-likelihood UART, burst assembler and majority decoder. The DSP modem demodulates Bell 103 modem answer-frequency signals; that is, frequency-shift keyed (FSK) tones of 2225 Hz (mark) and 2025 Hz (space). It consists of a 500-Hz bandpass filter centered on 2125 Hz followed by a limiter/discriminator and raised-cosine lowpass filter optimized for the 300-b/s data rate.&lt;/p&gt;
&lt;p&gt;The maximum likelihood UART is implemented using a set of eight 11-stage shift registers, one for each of eight phases of the 300-b/s bit clock. At each phase a new baseband signal from the DSP modem is shifted into the corresponding register and the maximum and minimum over all 11 samples computed. This establishes a span (difference) and slice level (average) over all 11 stages. For each stage, a signal level above the slice is a mark (1) and below that is a space (0). A quality metric is calculated for each register with respect to the slice level and the a-priori signal consisting of a start bit (space), eight arbitrary information bits and two stop bits (mark).&lt;/p&gt;
&lt;p&gt;The shift registers are processed in round-robin order as the phases of each bit arrive. At the end of each bit all eight phases are searched for valid framing bits, sufficient span and best metric. The best candidate found in this way represents the maximum-likelihood character. The process then continues for all ten characters in the burst.&lt;/p&gt;
&lt;p&gt;The burst assembler processes characters either from the maximum-likelihood UART or directly from the serial port as configured. A burst begins when a character is received and is processed after a timeout interval when no characters are received. If the interval between characters is greater than two characters, but less than the timeout interval, the burst is rejected as a runt and a new burst begun. As each character is received, a timestamp is captured and saved for later processing.&lt;/p&gt;
&lt;p&gt;A valid burst consists of ten characters in two replicated five-character blocks, each block representing ten 4-bit BCD digits. The format B blocks sent in second 31 contain the year and other information in ten digits. The eight format A blocks sent in seconds 32-39 contain the timecode in ten digits, the first of which is a framing code (6). The burst assembler must deal with cases where the first character of a format A burst is lost or is noise. This is done using the framing codes to correct the discrepancy, either one character early or one character late.&lt;/p&gt;
&lt;p&gt;The burst distance is incremented by one for each bit in the first block that matches the corresponding bit in the second block and decremented by one otherwise. In a format B burst the second block is bit-inverted relative to the first, so a perfect burst of five 8-bit characters has distance -40. In a format A burst the two blocks are identical, so a perfect burst has distance +40. Format B bursts must be perfect to be acceptable; however, format A bursts, which are further processed by the majority decoder, are acceptable if the distance is at least 28.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;majority-decoder&#34;&gt;Majority Decoder&lt;/h4&gt;
&lt;p&gt;Each minute of transmission includes eight format A bursts containing two timecodes for each second from 32 through 39. The majority decoder uses a decoding matrix of ten rows, one for each digit position in the timecode, and 16 columns, one for each 4-bit code combination that might be decoded at that position. In order to use the character timestamps, it is necessary to reliably determine the second number of each burst. In a valid burst, the last digit of the two timecodes in the burst must match and the value must be in the range 2-9 and greater than in the previous burst.&lt;/p&gt;
&lt;p&gt;As each digit of a valid burst is processed, the value at the row corresponding to the digit position in the timecode and column corresponding to the code found at that position is incremented. At the end of the minute, each row of the decoding matrix encodes the number of occurrences of each code found at the corresponding position.&lt;/p&gt;
&lt;p&gt;The maximum over all occurrences at each digit position is the distance for that position and the corresponding code is the maximum-likelihood digit. If the distance is not more than half the total number of occurrences, the decoder assumes a soft error and discards all information collected during the minute. The decoding distance is defined as the sum of the distances over the first nine digits; the tenth digit varies over the seconds and is uncounted.&lt;/p&gt;
&lt;p&gt;The result of the majority decoder is a nine-digit timecode representing the maximum-likelihood candidate for the transmitted timecode in that minute. Note that the second and fraction within the minute are always zero and that the actual reference point to calculate timestamp offsets is backdated to the first second of the minute. At this point the timecode block is reformatted and the year, days, hours and minutes extracted along with other information from the format B burst, including DST state, DUT1 correction and leap warning. The reformatting operation checks the timecode for invalid code combinations that might have been left by the majority decoder and rejects the entire timecode if found.&lt;/p&gt;
&lt;p&gt;If the timecode is valid, it is passed to the reference clock interface along with the backdated timestamps accumulated over the minute. A perfect set of eight bursts could generate as many as 80 timestamps, but the maximum the interface can handle is 60. These are processed using a median filter and trimmed-mean average, so the resulting system clock correction is usually much better than would otherwise be the case with radio noise, UART jitter and occasional burst errors.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;autotune&#34;&gt;Autotune&lt;/h4&gt;
&lt;p&gt;The driver includes provisions to automatically tune the radio in response to changing radio propagation conditions throughout the day and night. The radio interface is compatible with the ICOM CI-V standard, which is a bidirectional serial bus operating at TTL levels. The bus can be connected to a standard serial port using a level converter such as the CT-17. Further details are on the &lt;a href=&#34;/archives/4.2.8-series/audio&#34;&gt;Reference Clock Audio Drivers&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;If specified, the driver will attempt to open the device &lt;tt&gt;/dev/icom&lt;/tt&gt; and, if successful will tune the radio to 3.331 MHz. The 1-kHz offset is useful with a narrowband SSB filter where the passband includes the carrier and modem signals. However, the driver is liberal in what it assumes of the configuration. If the &lt;tt&gt;/dev/icom&lt;/tt&gt; link is not present or the open fails or the CI-V bus is inoperative, the driver continues in single-frequency mode.&lt;/p&gt;
&lt;p&gt;As long as no bursts are received, the driver cycles over the three frequencies in turn, one minute for each station. When bursts are received from one or more stations, the driver operates in a five-minute cycle. During the first four minutes it tunes to the station with the highest metric. During the last minute it alternates between the other two stations in turn in order to measure the metric.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;debugging-aids&#34;&gt;Debugging Aids&lt;/h4&gt;
&lt;p&gt;The most convenient way to track the program status is using the &lt;tt&gt;ntpq&lt;/tt&gt; program and the &lt;tt&gt;clockvar&lt;/tt&gt; command. This displays the last determined timecode and related status and error counters, even when the program is not discipline the system clock. If the debugging trace feature (&lt;tt&gt;-d&lt;/tt&gt; on the &lt;tt&gt;ntpd&lt;/tt&gt; command line) is enabled, the program produces detailed status messages as it operates. If the &lt;tt&gt;fudge flag 4&lt;/tt&gt; is set, these messages are written to the &lt;tt&gt;clockstats&lt;/tt&gt; file. All messages produced by this driver have the prefix &lt;tt&gt;chu&lt;/tt&gt; for convenient filtering with the Unix &lt;tt&gt;grep&lt;/tt&gt; command.&lt;/p&gt;
&lt;p&gt;With debugging enabled the driver produces messages in the following formats: A single message beginning with &lt;tt&gt;chuB&lt;/tt&gt; is produced for each format B burst received in second 31, while eight messages beginning with &lt;tt&gt;chuA&lt;/tt&gt; are produced for each format A burst received in seconds 32 through 39 of the minute. The first four fields are&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;stat sig n b&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;where &lt;tt&gt;stat&lt;/tt&gt; is the status code, &lt;tt&gt;sig&lt;/tt&gt; the character span, &lt;tt&gt;n&lt;/tt&gt; the number of characters in the burst (9-11) and &lt;tt&gt;b&lt;/tt&gt; the burst distance (0-40). Good bursts will have spans of a 800 or more and the other numbers near the top of the range specified. See the source for the interpretation of the remaining data in the burst. Note that each character of the burst is encoded as two digits in nibble-swapped order.&lt;/p&gt;
&lt;p&gt;If the CI-V interface for ICOM radios is active, a debug level greater than 1 will produce a trace of the CI-V command and response messages. Interpretation of these messages requires knowledge of the CI-V protocol, which is beyond the scope of this document.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;filegen&lt;/tt&gt; facility, every received timecode is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file in the following format:&lt;/p&gt;
&lt;pre&gt;        sq yyyy ddd hh:mm:ss lw dst du lset agc rfrq bcnt dist tsmp

        s       sync indicator
        q       quality character
        yyyy    Gregorian year
        ddd     day of year
        hh      hour of day
        mm      minute of hour
        ss      second of minute
        lw      leap second warning
        dst     DST state
        dut     DUT sign and magnitude in deciseconds
        lset    minutes since last set
        agc     audio gain (0-255)
        ident   CHU identifier code
        dist    decoder distance
        tsmp    timestamps captured
&lt;/pre&gt;
&lt;p&gt;The fields beginning with &lt;tt&gt;year&lt;/tt&gt; and extending through &lt;tt&gt;dut&lt;/tt&gt; are decoded from the received data and are in fixed-length format. The &lt;tt&gt;agc&lt;/tt&gt; and &lt;tt&gt;lset&lt;/tt&gt; fields, as well as the following driver-dependent fields, are in variable-length format.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;s&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The sync indicator is initially &lt;tt&gt;?&lt;/tt&gt; before the clock is set, but turns to space when the clock has been correctly set.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;q&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The quality character is a four-bit hexadecimal code showing which alarms have been raised during the most recent minute. Each bit is associated with a specific alarm condition according to the following:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;8&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Timestamp alarm. Fewer than 20 timestamps have been determined.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;4&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Decoder alarm. A majority of repetitions for at least one digit of the timecode fails to agree.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;2&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Format alarm. One or more bursts contained invalid data or was improperly formatted.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Frame alarm. One or more bursts was improperly framed or contained too many repetition errors.&lt;/p&gt;
&lt;/dl&gt;
&lt;p&gt;The timestamp and decoder alarms are fatal; the data accumulated during the minute are not used to set the clock. The format and fram alarm are nonfatal; only the data in the burst are discarded.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;yyyy ddd hh:mm:ss&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The timecode format itself is self explanatory. Note that the Gregorian year is decoded directly from the transmitted timecode.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;lw&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The leap second warning is normally space, but changes to &lt;tt&gt;L&lt;/tt&gt; if a leap second is to occur at the end of the month.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;dst&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The DST code for Canada encodes the state for all provinces. It is encoded as two hex characters.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;dut&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The DUT sign and magnitude shows the current UT1 offset relative to the displayed UTC time, in deciseconds. It is encoded as one digit preceeded by sign.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;lset&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Before the clock is set, this is the number of minutes since the program was started; after the clock is set, this is the number of minutes since the time was last verified relative to the broadcast signal.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;agc&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The audio gain shows the current codec gain setting in the range 0 to 255. Ordinarily, the receiver audio gain control should be set for a value midway in this range.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;ident&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The CHU identifier &lt;tt&gt;CHU&lt;/tt&gt; followed by the current radio frequency code, if the CI-V interface is active, or &lt;tt&gt;CHU&lt;/tt&gt; if not. The radio frequncy is encoded as 0 for 3.330 MHz, 1 for 7.850 MHz and 2 for 14.670 MHz.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;dist&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The decoding distance determined during the most recent minute bursts were received. The values range from 0 to 160, with the higher values indicating better signals. The decoding algorithms require the distance at least 50; otherwise all data in the minute are discarded.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;tsmp&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The number of timestamps determined during the most recent minute bursts were received. The values range from 0 to 60, with the higher values indicating better signals. The decoding algoriths require at least 20 timestamps in the minute; otherwise all data in the minute are discarded.&lt;/p&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the propagation delay for CHU (45:18N 75:45N), in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;CHU&lt;/tt&gt;.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;When the audio driver is compiled, this flag selects the audio input port, where 0 is the mike port (default) and 1 is the line-in port. It does not seem useful to select the compact disc player port.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;When the audio driver is compiled, this flag enables audio monitoring of the input signal. For this purpose, the speaker volume must be set before the driver is started.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/p&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Radio WWV/H Audio Demodulator/Decoder</title>
      <link>/archives/drivers/driver36/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver36/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last updage: 15-Nov-2012 06:42 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#technical-overview&#34;&gt;Technical Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#baseband-signal-processing&#34;&gt;Baseband Signal Processing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#maximum-likelihood-decoder&#34;&gt;Maximum-Likelihood Decoder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#master-clock-discipline&#34;&gt;Master Clock Discipline&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#station-identification&#34;&gt;Station Identification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#performance&#34;&gt;Performance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#program-operation&#34;&gt;Program Operation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#autotune&#34;&gt;Autotune&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#debugging-aids&#34;&gt;Debugging Aids&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver36/#fudge-factors&#34;&gt;Fudge factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.36.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;WV_f_&lt;/tt&gt; or &lt;tt&gt;WH_f_&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;WWV_AUDIO&lt;/tt&gt;&lt;br&gt;
Autotune Port: &lt;tt&gt;/dev/icom&lt;/tt&gt;; 1200/9600 baud, 8-bits, no parity&lt;br&gt;
Audio Device: &lt;tt&gt;/dev/audio&lt;/tt&gt; and &lt;tt&gt;/dev/audioctl&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver synchronizes the computer time using shortwave radio transmissions from NIST time/frequency stations &lt;a href=&#34;https://www.nist.gov/time-distribution/radio-station-wwv&#34;&gt;WWV&lt;/a&gt; in Ft. Collins, CO, and &lt;a href=&#34;https://tf.nist.gov/stations/wwvh.htm&#34;&gt;WWVH&lt;/a&gt; in Kauai, HI. Transmissions are made continuously on 2.5, 5, 10 and 15 MHz from both stations and on 20 MHz from WWV. An ordinary shortwave receiver can be tuned manually to one of these frequencies or, in the case of ICOM receivers, the receiver can be tuned automatically by the driver as propagation conditions change throughout the day and season. The radio is connected via an optional attenuator and cable to either the microphone or line-in port of a workstation or PC.&lt;/p&gt;
&lt;p&gt;The driver requires an audio codec or sound card with sampling rate 8 kHz and μ-law companding to demodulate the data. This is the same standard as used by the telephone industry and is supported by most hardware and operating systems, including Solaris, FreeBSD and Linux, among others. In this implementation only one audio driver and codec can be supported on a single machine. In order to assure reliable signal capture, the codec frequency error must be less than 187 PPM (.0187 percent). If necessary, the &lt;tt&gt;tinker codec&lt;/tt&gt; configuration command can be used to bracket the codec frequency to this range.&lt;/p&gt;
&lt;p&gt;In general and without calibration, the driver is accurate within 1 ms relative to the broadcast time when tracking a station. However, variations up to 0.3 ms can be expected due to diurnal variations in ionospheric layer height and ray geometry. In Newark DE, 2479 km from the transmitter, the predicted two-hop propagation delay varies from 9.3 ms in sunlight to 9.0 ms in moonlight. When not tracking the station the accuracy depends on the computer clock oscillator stability, ordinarily better than 0.5 PPM.&lt;/p&gt;
&lt;p&gt;After calibration relative to the PPS signal from a GPS receiver, the mean offset with a 2.4-GHz P4 running FreeBSD 6.1 is generally within 0.1 ms short-term with 0.4 ms jitter. The long-term mean offset varies up to 0.3 ms due to propagation path geometry variations. The processor load due to the driver is 0.4 percent on the P4.&lt;/p&gt;
&lt;p&gt;The driver performs a number of error checks to protect against overdriven or underdriven input signal levels, incorrect signal format or improper hardware configuration. The specific checks are detailed later in this page. Note that additional checks are done elsewhere in the reference clock interface routines.&lt;/p&gt;
&lt;p&gt;This driver incorporates several features in common with other audio drivers such as described in the &lt;a href=&#34;/archives/drivers/driver7&#34;&gt;Radio CHU Audio Demodulator/Decoder&lt;/a&gt; and the &lt;a href=&#34;/archives/drivers/driver6&#34;&gt;IRIG Audio Decoder&lt;/a&gt; pages. They include automatic gain control (AGC), selectable audio codec port and signal monitoring capabilities. For a discussion of these common features, as well as a guide to hookup, debugging and monitoring, see the &lt;a href=&#34;/archives/4.2.8-series/audio&#34;&gt;Reference Clock Audio Drivers&lt;/a&gt; page.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;technical-overview&#34;&gt;Technical Overview&lt;/h4&gt;
&lt;p&gt;The driver processes 8-kHz μ-law companded codec samples using maximum-likelihood techniques which exploit the considerable degree of redundancy available in the broadcast signal. The WWV signal format is described in NIST Special Publication 432 (Revised 1990) and also available on the &lt;a href=&#34;https://www.nist.gov/pml/time-and-frequency-division/radio-stations/wwv/wwv-and-wwvh-digital-time-code-and-broadcast&#34;&gt;WWV/H web site&lt;/a&gt;. It consists of three elements, a 5-ms, 1000-Hz pulse, which occurs at the beginning of each second, a 800-ms, 1000-Hz pulse, which occurs at the beginning of each minute, and a pulse-width modulated 100-Hz subcarrier for the data bits, one bit per second. The WWVH format is identical, except that the 1000-Hz pulses are sent at 1200 Hz. Each minute encodes nine BCD digits for the time of century plus seven bits for the daylight savings time (DST) indicator, leap warning indicator and DUT1 correction.&lt;/p&gt;
&lt;p&gt;The demodulation and decoding algorithms used by this driver are based on a machine language program developed for the TAPR DSP93 DSP unit, which uses the TI 320C25 DSP chip. The analysis, design and performance of the program for this unit is described in: Mills, D.L. &lt;a href=&#34;https://www.eecis.udel.edu/~mills/database/reports/wwv/wwv.pdf&#34;&gt;A precision radio clock for WWV transmissions&lt;/a&gt;. Electrical Engineering Report 97-8-1, University of Delaware, August 1997, 25 pp. For use in this driver, the original program was rebuilt in the C language and adapted to the NTP driver interface. The algorithms have been modified to improve performance, especially under weak signal conditions and to provide an automatic frequency and station selection feature.&lt;/p&gt;
&lt;p&gt;As in the original program, the clock discipline is modelled as a Markov process, with probabilistic state transitions corresponding to a conventional clock and the probabilities of received decimal digits. The result is a performance level with very high accuracy and reliability, even under conditions when the minute beep of the signal, normally its most prominent feature, can barely be detected by ear using a communications receiver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;baseband-signal-processing&#34;&gt;Baseband Signal Processing&lt;/h4&gt;
&lt;p&gt;The 1000/1200-Hz pulses and 100-Hz subcarrier are first separated using a 600-Hz bandpass filter centered on 1100 Hz and a 150-Hz lowpass filter. The minute pulse is extracted using an 800-ms synchronous matched filter and pulse grooming logic which discriminates between WWV and WWVH signals and noise. The second pulse is extracted using a 5-ms FIR matched filter for each station and a single 8000-stage comb filter.&lt;/p&gt;
&lt;p&gt;The phase of the 100-Hz subcarrier relative to the second pulse is fixed at the transmitter; however, the audio stage in many radios affects the phase response at 100 Hz in unpredictable ways. The driver adjusts for each radio using two 170-ms synchronous matched filters. The I (in-phase) filter is used to demodulate the subcarrier envelope, while the Q (quadrature-phase) filter is used in a type-1 phase-lock loop (PLL) to discipline the demodulator phase.&lt;/p&gt;
&lt;p&gt;A bipolar data signal is determined from the matched filter subcarrier envelope using a pulse-width discriminator. The discriminator samples the I channel at 15 ms (&lt;em&gt;n&lt;/em&gt;), 200 ms (&lt;em&gt;s&lt;/em&gt;&lt;sub&gt;0&lt;/sub&gt;) and 500 ms (&lt;em&gt;s&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt;), and the envelope (RMS I and Q channels) at 200 ms (&lt;em&gt;e&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt;) and the end of the second (&lt;em&gt;e&lt;/em&gt;&lt;sub&gt;0&lt;/sub&gt;). The bipolar data signal is expressed 2_s_&lt;sub&gt;1&lt;/sub&gt; - _s_&lt;sub&gt;0&lt;/sub&gt; - _n_, where positive values correspond to data 1 and negative values correspond to data 0. Note that, since the signals _s_&lt;sub&gt;0&lt;/sub&gt; and _s_&lt;sub&gt;1&lt;/sub&gt; include the noise _n_, the noise component cancels out. The data bit SNR is calculated as 20 log&lt;sub&gt;10&lt;/sub&gt;(_e_&lt;sub&gt;1&lt;/sub&gt; / _e_&lt;sub&gt;0&lt;/sub&gt;). If the driver has not synchronized to the minute pulse, or if the data bit amplitude _e_&lt;sub&gt;1&lt;/sub&gt; or SNR are below thresholds, the bit is considered invalid and the bipolar signal is forced to zero.&lt;/p&gt;
&lt;p&gt;The bipolar signal is exponentially averaged in a set of 60 accumulators, one for each second, to determine the semi-static miscellaneous bits, such as DST indicator, leap second warning and DUT1 correction. In this design a data average value larger than a positive threshold is interpreted as +1 (hit) and a value smaller than a negative threshold as a -1 (miss). Values between the two thresholds, which can occur due to signal fades, are interpreted as an erasure and result in no change of indication.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;maximum-likelihood-decoder&#34;&gt;Maximum-Likelihood Decoder&lt;/h4&gt;
&lt;p&gt;The BCD digit in each digit position of the timecode is represented as four data bits. The bits are correlated with the bits corresponding to each of the valid decimal digits in this position. If any of the four bits are invalid, the correlated value for all digits in this position is assumed zero. In either case, the values for all digits are exponentially averaged in a likelihood vector associated with this position. The digit associated with the maximum over all averaged values then becomes the maximum-likelihood candidate for this position and the ratio of the maximum over the next lower value represents the digit SNR.&lt;/p&gt;
&lt;p&gt;The decoding matrix contains nine row vectors, one for each digit position. Each row vector includes the maximum-likelihood digit, likelihood vector and other related data. The maximum-likelihood digit for each of the nine digit positions becomes the maximum-likelihood time of the century. A built-in transition function implements a conventional clock with decimal digits that count the minutes, hours, days and years, as corrected for leap seconds and leap years. The counting operation also rotates the likelihood vector corresponding to each digit as it advances. Thus, once the clock is set, each clock digit should correspond to the maximum-likelihood digit as transmitted.&lt;/p&gt;
&lt;p&gt;Each row of the decoding matrix also includes a compare counter and the most recently determined maximum-likelihood digit. If a digit likelihood exceeds the decision level and compares with previous digits for a number of successive minutes in any row, the maximum-likelihood digit replaces the clock digit in that row. When this condition is true for all rows and the second epoch has been reliably determined, the clock is set (or verified if it has already been set) and delivers correct time to the integral second. The fraction within the second is derived from the logical master clock, which runs at 8000 Hz and drives all system timing functions.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;master-clock-discipline&#34;&gt;Master Clock Discipline&lt;/h4&gt;
&lt;p&gt;The logical master clock is derived from the audio codec clock. Its frequency is disciplined by a frequency-lock loop (FLL) which operates independently of the data recovery functions. The maximum value of the 5-ms pulse after the comb filter represents the on-time epoch of the second. At averaging intervals determined by the measured jitter, the frequency error is calculated as the difference between the epoches over the interval divided by the interval itself. The sample clock frequency is then corrected by this amount divided by a time constant of 8.&lt;/p&gt;
&lt;p&gt;When first started, the frequency averaging interval is 8 seconds, in order to compensate for intrinsic codec clock frequency offsets up to 125 PPM. Under most conditions, the averaging interval doubles in stages from the initial value to 1024 s, which results in an ultimate frequency resolution of 0.125 PPM, or about 11 ms/day.&lt;/p&gt;
&lt;p&gt;The data demodulation functions operate using the subcarrier clock, which is independent of the epoch. However, the data decoding functions are driven by the epoch. The decoder is phase-locked to the epoch in such a way that, when the clock state machine has reliably decoded the broadcast time to the second, the epoch timestamp of that second becomes a candidate to set the system clock.&lt;/p&gt;
&lt;p&gt;The comb filter can have a long memory and is vulnerable to noise and stale data, especially when coming up after a long fade. Therefore, a candidate is considered valid only if the 5-ms signal amplitude and SNR are above thresholds. In addition, the system clock is not set until after one complete averaging interval has passed with valid candidates.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;station-identification&#34;&gt;Station Identification&lt;/h4&gt;
&lt;p&gt;It is important that the logical clock frequency is stable and accurately determined, since in many applications the shortwave radio will be tuned to a fixed frequency where WWV or WWVH signals are not available throughout the day. In addition, in some parts of the US, especially on the west coast, signals from either or both WWV and WWVH may be available at different times or even at the same time. Since the propagation times from either station are almost always different, each station must be reliably identified before attempting to set the clock.&lt;/p&gt;
&lt;p&gt;Reliable station identification requires accurate discrimination between very weak signals in noise and noise alone. The driver very aggressively soaks up every scrap of signal information, but has to be careful to avoid making pseudo-sense of noise alone. The signal quality metric depends on the minute pulse amplitude and SNR measured in second 0 of the minute, together with the data subcarrier amplitude and SNR measured in second 1. If all four values are above defined thresholds a hit is declared, otherwise a miss. In principle, the data pulse in second 58 is usable, but the AGC in most radios is not fast enough for a reliable measurement.&lt;/p&gt;
&lt;p&gt;The number of hits declared in the last 6 minutes for each station represents the high order bits of the metric, while the current minute pulse amplitude represents the low order bits. Only if the metric is above a defined threshold is the station signal considered acceptable. The metric is also used by the autotune function described below and reported in the timecode string.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;performance&#34;&gt;Performance&lt;/h4&gt;
&lt;p&gt;It is the intent of the design that the accuracy and stability of the indicated time be limited only by the characteristics of the ionospheric propagation medium. Conventional wisdom is that manual synchronization via oscilloscope and HF medium is good only to a millisecond under the best propagation conditions. The performance of the NTP daemon disciplined by this driver is clearly better than this, even under marginal conditions.&lt;/p&gt;
&lt;p&gt;The figure below shows the measured offsets over a typical day near the bottom of the sunspot cycle ending in October, 2006. Variations up to ±0.4 ms can be expected due to changing ionospheric layer height and ray geometry over the day and night.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/offset1211.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;p&gt;The figure was constructed using a 2.4-GHz P4 running FreeBSD 6.1. For these measurements the computer clock was disciplined within a few microseconds of UTC using a PPS signal and GPS receiver and the measured offsets determined from the filegen peerstats data.&lt;/p&gt;
&lt;p&gt;The predicted propagation delay from the WWV transmitter at Boulder, CO, to the receiver at Newark, DE, varies over 9.0-9.3 ms. In addition, the receiver contributes 4.7 ms and the 600-Hz bandpass filter 0.9 ms. With these values, the mean error is less than 0.1 ms and varies ±0.3 ms over the day as the result of changing ionospheric height and ray geometry.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;program-operation&#34;&gt;Program Operation&lt;/h4&gt;
&lt;p&gt;The driver begins operation immediately upon startup. It first searches for one or both of the stations WWV and WWVH and attempts to acquire minute synch. This may take some fits and starts, as the driver expects to see several consecutive minutes with good signals and low jitter. If the autotune function is active, the driver will rotate over all five frequencies and both WWV and WWVH stations until finding a station and frequency with acceptable metric.&lt;/p&gt;
&lt;p&gt;While this is going on the the driver acquires second synch, which can take up to several minutes, depending on signal quality. When minute synch has been acquired, the driver accumulates likelihood values for the unit (seconds) digit of the nine timecode digits, plus the seven miscellaneous bits included in the WWV/H transmission format. When a good unit digit has been found, the driver accumulated likelihood values for the remaining eight digits of the timecode. When three repetitions of all nine digits have decoded correctly, which normally takes 15 minutes with good signals, and up to 40 minutes when buried in noise, and the second synch has been acquired, the clock is set (or verified) and is selectable to discipline the system clock.&lt;/p&gt;
&lt;p&gt;Once the clock is set, it continues to provide correct timecodes as long as the signal metric is above threshold, as described in the previous section. As long as the clock is correctly set or verified, the system clock offsets are provided once each minute to the reference clock interface, where they are processed using the same algorithms as with other reference clocks and remote servers.&lt;/p&gt;
&lt;p&gt;It may happen as the hours progress around the clock that WWV and WWVH signals may appear alone, together or not at all. When the driver has mitigated which station and frequency is best, it sets the reference identifier to the string WV_f_ for WWV and WH_f_ for WWVH, where _f_ is the frequency in megahertz. If the propagation delays have been properly set with the &lt;tt&gt;fudge time1&lt;/tt&gt; (WWV) and &lt;tt&gt;fudge time2&lt;/tt&gt; (WWVH) commands in the configuration file, handover from one station to the other is seamless.&lt;/p&gt;
&lt;p&gt;Operation continues as long as the signal metric from at least one station on at least one frequency is acceptable. A consequence of this design is that, once the clock is set, the time and frequency are disciplined only by the second synch pulse and the clock digits themselves are driven by the clock state machine. If for some reason the state machine drifts to the wrong second, it would never resynchronize. To protect against this most unlikely situation, if after two days with no signals, the clock is considered unset and resumes the synchronization procedure from the beginning.&lt;/p&gt;
&lt;p&gt;Once the system clock been set correctly it will continue to read correctly even during the holdover interval, but with increasing dispersion. Assuming the system clock frequency can be disciplined within 1 PPM, it can coast without signals for several days without exceeding the NTP step threshold of 128 ms. During such periods the root distance increases at 15 μs per second, which makes the driver appear less likely for selection as time goes on. Eventually, when the distance due all causes exceeds 1 s, it is no longer suitable for synchronization. Ordinarily, this happens after about 18 hours with no signals. The &lt;tt&gt;tinker maxdist&lt;/tt&gt; configuration command can be used to change this value.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;autotune&#34;&gt;Autotune&lt;/h4&gt;
&lt;p&gt;The driver includes provisions to automatically tune the radio in response to changing radio propagation conditions throughout the day and night. The radio interface is compatible with the ICOM CI-V standard, which is a bidirectional serial bus operating at TTL levels. The bus can be connected to a standard serial port using a level converter such as the CT-17. Further details are on the &lt;a href=&#34;/archives/4.2.8-series/audio&#34;&gt;Reference Clock Audio Drivers&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;If specified, the driver will attempt to open the device &lt;tt&gt;/dev/icom&lt;/tt&gt; and, if successful will activate the autotune function and tune the radio to each operating frequency in turn while attempting to acquire minute synch from either WWV or WWVH. However, the driver is liberal in what it assumes of the configuration. If the &lt;tt&gt;/dev/icom&lt;/tt&gt; link is not present or the open fails or the CI-V bus is inoperative, the driver quietly gives up with no harm done.&lt;/p&gt;
&lt;p&gt;Once acquiring minute synch, the driver operates as described above to set the clock. However, during seconds 59, 0 and 1 of each minute it tunes the radio to one of the five broadcast frequencies to measure the signal metric as described above. Each of the five frequencies are probed in a five-minute rotation to build a database of current propagation conditions for all signals that can be heard at the time. At the end of each probe a mitigation procedure scans the database and retunes the radio to the best frequency and station found. For this to work well, the radio should be set for a fast AGC recovery time. This is most important while tracking a strong signal, which is normally the case, and then probing another frequency, which may have much weaker signals.&lt;/p&gt;
&lt;p&gt;The mitigation procedure selects the frequency and station with the highest valid metric, ties going first to the highest frequency and then to WWV in order. A station is considered valid only if the metric is above a specified threshold; if no station is above the metric, the rotating probes continue until a valid station is found.&lt;/p&gt;
&lt;p&gt;The behavior of the autotune function over a typical day is shown in the figure below.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/freq1211.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;p&gt;As expected, the lower frequencies prevail when the ray path is in moonlight (0100-1300 UTC) and the higher frequencies when the path is in sunlight (1300-0100 UTC). Note three periods in the figure show zero frequency when signals are below the minimum for all frequencies and stations.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;debugging-aids&#34;&gt;Debugging Aids&lt;/h4&gt;
&lt;p&gt;The most convenient way to track the driver status is using the &lt;tt&gt;ntpq&lt;/tt&gt; program and the &lt;tt&gt;clockvar&lt;/tt&gt; command. This displays the last determined timecode and related status and error counters, even when the driver is not disciplining the system clock. If the debugging trace feature (&lt;tt&gt;-d&lt;/tt&gt; on the &lt;tt&gt;ntpd&lt;/tt&gt; command line) is enabled, the driver produces detailed status messages as it operates. If the &lt;tt&gt;fudge flag 4&lt;/tt&gt; is set, these messages are written to the &lt;tt&gt;clockstats&lt;/tt&gt; file. All messages produced by this driver have the prefix &lt;tt&gt;wwv&lt;/tt&gt; for convenient filtering with the Unix &lt;tt&gt;grep&lt;/tt&gt; command.&lt;/p&gt;
&lt;p&gt;The autotune process produces diagnostic information along with the timecode. This is very useful for evaluating the performance of the algorithms, as well as radio propagation conditions in general. The message is produced once each minute for each frequency in turn after minute synch has been acquired.&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;wwv5 status agc epoch secamp/secsnr datamp/datsnr wwv wwvh&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;where the fields after the &lt;tt&gt;wwv5&lt;/tt&gt; identifier are: &lt;tt&gt;status&lt;/tt&gt; contains status bits, &lt;tt&gt;agc&lt;/tt&gt; audio gain, &lt;tt&gt;epoch&lt;/tt&gt; second epoch, &lt;tt&gt;secamp/secsnr&lt;/tt&gt; second pulse amplitude/SNR, and &lt;tt&gt;wwv&lt;/tt&gt; and &lt;tt&gt;wwvh&lt;/tt&gt; are two sets of fields, one each for WWV and WWVH. Each of the two fields has the format&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;ident score metric minamp/minsnr&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;where &lt;tt&gt;ident&lt;/tt&gt; encodes the station (&lt;tt&gt;WV&lt;/tt&gt; for WWV, &lt;tt&gt;WH&lt;/tt&gt; for WWVH) and frequency (2, 5, 10, 15 or 20), &lt;tt&gt;score&lt;/tt&gt; 32-bit shift register recording the hits (1) and misses (0) of the last 32 probes (hits and misses enter from the right), &lt;tt&gt;metric&lt;/tt&gt; is described above, and &lt;tt&gt;minamp/minsnr&lt;/tt&gt; is the minute pulse ampliture/SNR. An example is:&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;wwv5 000d 111 5753 3967/20.1 3523/10.2 WV20 bdeff 100 8348/30.0 WH20 0000 1 22/-12.4&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;There are several other messages that can occur; these are documented in the source listing.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;filegen&lt;/tt&gt; facility, every received timecode is written to the &lt;tt&gt;clockstats&lt;/tt&gt; file in the following format:&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;sq yyyy ddd hh:mm:ss l d du lset agc ident metric errs freq avg&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;The fields beginning with &lt;tt&gt;yyyy&lt;/tt&gt; and extending through &lt;tt&gt;du&lt;/tt&gt; are decoded from the received data and are in fixed-length format. The remaining fields are in variable-length format. The fields are as follows:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;s&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The synch indicator is initially &lt;code&gt;?&lt;/code&gt; before the clock is set, but turns to space when all nine digits of the timecode are correctly set and the decoder is synchronized to the station within 125 μs.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;q&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The quality character is a four-bit hexadecimal code showing which alarms have been raised. Each bit is associated with a specific alarm condition. It is important to note that one or more of the alarms does not necessarily indicate a clock error, but only that the decoder has detected a marginal condition&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0x8&lt;/code&gt; synch alarm. The decoder is not synchronized to the station within 125 μs.&lt;br&gt; &lt;code&gt;0x4&lt;/code&gt; Digit error alarm. Less than nine decimal digits were found in the last minute.&lt;br&gt; &lt;code&gt;0x2&lt;/code&gt; Error alarm. More than 40 data bit errors were found in the last minute.&lt;br&gt; &lt;code&gt;0x1&lt;/code&gt; Compare alarm. A maximum-likelihood digit failed to agree with the current associated clock digit in the last minute.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;yyyy ddd hh:mm:ss&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The timecode format itself is self explanatory. Since the driver latches the on-time epoch directly from the second synch pulse, the seconds fraction is always zero. Although the transmitted timecode includes only the year of century, the Gregorian year is augmented by 2000.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;l&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The leap second warning is normally space, but changes to &lt;tt&gt;L&lt;/tt&gt; if a leap second is to occur at the end of the month.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The DST state&lt;/td&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt; standard time&lt;br&gt; &lt;code&gt;D&lt;/code&gt; daylight time&lt;br&gt; &lt;code&gt;I&lt;/code&gt; daylight time is about to go into effect&lt;br&gt; &lt;code&gt;O&lt;/code&gt; daylight time is about to go out of effect&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;du&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The DUT sign and magnitude shows the current UT1 offset relative to the displayed UTC time, in deciseconds.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lset&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Before the clock is set, the interval since last set is the number of minutes since the driver was started; after the clock is set, this is number of minutes since the decoder was last synchronized to the station within 125 μs.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;agc&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The audio gain shows the current codec gain setting in the range 0 to 255. Ordinarily, the receiver audio gain control should be set for a value midway in this range.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ident&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Station identifier&lt;/td&gt;
&lt;td&gt;&lt;code&gt;WV_f_&lt;/code&gt; for WWV&lt;br&gt; &lt;code&gt;WH_f_&lt;/code&gt; for WWVH&lt;br&gt; frequency &lt;code&gt;f&lt;/code&gt; being tracked&lt;br&gt; If neither station is heard on any frequency, the reference identifier shows &lt;code&gt;NONE&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;metric&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Signal metric described above from 0 (no signal) to 100 (best).&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;errs&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The bit error counter is useful to determine the quality of the data signal received in the most recent minute. It is normal to drop a couple of data bits even under good signal conditions and increasing numbers as conditions worsen. While the decoder performs moderately well even with half the bits are in error in any minute, usually by that point the metric drops below threshold and the decoder switches to a different frequency.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;freq&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The frequency offset is the current estimate of the codec frequency offset to within 0.1 PPM. This may wander a bit over the day due to local temperature fluctuations and propagation conditions.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;avg&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The averaging time is the interval between frequency updates in powers of two to a maximum of 1024 s. Attainment of the maximum indicates the driver is operating at the best possible resolution in time and frequency.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;An example timecode is:&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;0 2000 006 22:36:00 S +3 1 115 WV20 86 5 66.4 1024&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Here the clock has been set and no alarms are raised. The year, day and time are displayed along with no leap warning, standard time and DUT +0.3 s. The clock was set on the last minute, the AGC is safely in the middle ot the range 0-255, and the receiver is tracking WWV on 20 MHz. Good receiving conditions prevail, as indicated by the metric 86 and 5 bit errors during the last minute. The current frequency is 66.4 PPM and the averaging interval is 1024 s, indicating the maximum precision available.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the propagation delay for WWV (40:40:49.0N 105:02:27.0W), in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the propagation delay for WWVH (21:59:26.0N 159:46:00.0W), in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Ordinarily, this field specifies the driver reference identifier; however, the driver sets the reference identifier automatically as described above.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the microphone port if set to zero or the line-in port if set to one. It does not seem useful to specify the compact disc player port.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enables audio monitoring of the input signal. For this purpose, the speaker volume must be set before the driver is started.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: RIPE NCC interface for Trimble Palisade</title>
      <link>/archives/drivers/driver43/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver43/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#why-this-driver&#34;&gt;Why this driver?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#ripe-ncc-clock-card&#34;&gt;RIPE NCC clock card&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver43/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/driver43_2.jpg&#34; alt=&#34;Trimble Acutime 2000&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.43._u_&lt;/code&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;RIPENCC&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;RIPENCC&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This is a special driver developed to be used in conjuction with the RIPE NCC clock card in the RIPE NCC Test Traffic Measurements project.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;why-this-driver&#34;&gt;Why this driver?&lt;/h4&gt;
&lt;p&gt;The reason we created a separate driver for an antenna for which a (vendor supplied) driver already exists is a design decision. To be more specific, the standard Trimble interface uses a 12 pin connector. The cable sold by Trimble to connect to this wire is a very thick cable. Certainly not something you wish to run for several 100 meters through your building. And if you wanted to run it for 100 meters, you always would have to really run the cable, and didn&amp;rsquo;t have the option to use existing wiring.&lt;/p&gt;
&lt;p&gt;This is where we wanted more flexibility. We wanted to be able to use existing wiring in buildings. That lead us to CAT-5(UTP) which only gives us 8 wires. Therefore we decided to redesign the use of the Trimble antenna. The Trimble supports two modes: EVENT driver and PPS mode. The default is to use the EVENT mode which needs all 12 wires. We only use the PPS timestamps for which we have enough with 8 wires. For our purposes this is more than fine.&lt;/p&gt;
&lt;p&gt;More information about the project can be found on the &lt;a href=&#34;http://www.ripe.net/test-traffic&#34;&gt;Test Traffic Measurements&lt;/a&gt; website.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/driver43_1.gif&#34; alt=&#34;RIPE NCC clock card&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ripe-ncc-clock-card&#34;&gt;RIPE NCC clock card&lt;/h4&gt;
&lt;p&gt;The card is a very simple PCI card. The only feature on the bus it uses is the power supply. It uses this power supply to power the Trimble GPS antenna.&lt;/p&gt;
&lt;p&gt;The card is basicly just a RS422 to RS232 converter. It gets the Trimble&amp;rsquo;s RS422 signal on a RJ45 connector and transforms that to RS232 on a DIN9 connector. This connector should be loopbacked on the back of the machine to the serial port. As said, the card doesn&amp;rsquo;t do any PCI data transfers.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;In the &lt;tt&gt;filegen clockstats&lt;/tt&gt; file the following (example) data is collected:&lt;/p&gt;
&lt;pre&gt;52445 41931.275 127.127.40.0 U1 20.6.2002 11:38:51 13 11
52445 41931.395 127.127.40.0 C1 20062002 113851 6  364785 110.2 450 6.7 13 5222.374737 N 0453.268013 E 48  7 11 0 1 -14 20 0 -25
52445 41931.465 127.127.40.0 S1 07 1 1 02 59.3 291.5 39.3
52445 41931.485 127.127.40.0 S1 11 2 1 02 59.9 138.0 60.2
52445 41931.525 127.127.40.0 S1 01 4 1 02 48.4 185.7 28.3
52445 41931.555 127.127.40.0 S1 14 5 2 02 32.7  41.0 15.4
52445 41931.585 127.127.40.0 S1 20 6 1 02 59.9 256.6 78.0
52445 41931.615 127.127.40.0 S1 25 8 2 00  0.0  86.6 20.1
&lt;/pre&gt;
&lt;p&gt;This is in the form of:&lt;/p&gt;
&lt;pre&gt;All output lines consist of a prefix and a message, the prefix is:
[days since epoch] [sec.ms since start of day] [peer address] 

And all individual messages:

*Primary UTC time packet:
U1 [date] [time] [trackstat] [utcflags]

*Comprehensive time packet:
C1 [date] [time] [mode] [bias] [biasunc] [rate] [rateunc] [utcoff] [latitude] [longtitude] [alt] [vis sat](x8)

*Tracking status packet:
S1 [prn] [channel] [aqflag] [ephstat] [snr] [azinuth] [elevation]
&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Rockwell Jupiter GPS Receiver</title>
      <link>/archives/drivers/driver31/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver31/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver31/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver31/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver31/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver31/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver31/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.31.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: JUPITER&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/gps&lt;/tt&gt;&lt;em&gt;u&lt;/em&gt;;  9600 baud, 8-bits, no parity.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports at least some models of the Rockwell Jupiter &lt;tt&gt;GPS&lt;/tt&gt; receivers (Jupiter 11, Jupiter-T), they must at least support the &lt;em&gt;Zodiac Binary Protocol&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The driver requires a standard &lt;tt&gt;PPS&lt;/tt&gt; interface for the pulse-per-second output from the receiver. The serial data stream alone does not provide precision time stamps, whereas the PPS output is precise down to 40 ns (1 sigma) for the Jupiter 11 and 25 ns (1 sigma) for Jupiter-T according to the documentation. If you do not have the PPS signal available, then you should probably not be using the Jupiter receiver as a time source. This driver requires a &lt;tt&gt;PPS&lt;/tt&gt; signal and the time output from Jupiter receivers is not predictable in &lt;tt&gt;NMEA&lt;/tt&gt; mode; the reported time can take one second steps.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The driver always puts a lot of useful information on the clockstats file, and when run with debugging can be quite chatty on stdout. When first starting to use the driver you should definitely review the information written to the clockstats file to verify that the driver is running correctly.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver. Should be left at zero.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an &lt;tt&gt;ASCII&lt;/tt&gt; string from one to four characters, with default &lt;tt&gt;GPS&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the mobility of the &lt;tt&gt;GPS&lt;/tt&gt; receiver: 0 for walking (default), 1 for driving.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the &lt;tt&gt;PPS&lt;/tt&gt; signal on-time edge: 0 for assert (default), 1 for clear.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;The driver was resurrected from a sorry state using the Windows NT port and a Jupiter 11, and has since seen little testing on other platforms. On Windows there exist a barrier though, as there is no publicly available &lt;tt&gt;PPSAPI&lt;/tt&gt; implementation, at least not to my knowledge. However, there has been one success report using Linux 2.4.20 and PPSkit 2.1.1.&lt;/p&gt;
&lt;p&gt;The Jupiter receivers seem to have quite a few names. They are referred to at least as Rockwell receivers, Navman receivers, Zodiac receivers, Conexant receivers and SiRF Technology receivers. Rockwell seems to be the original and most commonly used name and Navman seems to be the current supplier.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Configuration&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The edge of the &lt;tt&gt;PPS&lt;/tt&gt; signal that is on-time can be set with &lt;tt&gt;flag2&lt;/tt&gt;. There is currently no way to cause the &lt;tt&gt;PPS&lt;/tt&gt; signal to control the kernel &lt;tt&gt;PLL&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Performance&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The performance is largely unexplored. I have achieved submillisecond stability using a Jupiter 11, but the poor result is more than likely due to the proprietary &lt;tt&gt;PPSAPI&lt;/tt&gt; implementation or Windows itself.&lt;/p&gt;
&lt;p&gt;This driver does not handle leap seconds.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Shared Memory Driver</title>
      <link>/archives/drivers/driver28/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver28/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 8-Aug-2014 19:17 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#structure-of-shared-memory-segment&#34;&gt;Structure of shared memory-segment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#operation-mode0&#34;&gt;Operation mode=0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#operation-mode1&#34;&gt;Operation mode=1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#mode-independent-post-processing&#34;&gt;Mode-independent post-processing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#gpsd&#34;&gt;GPSD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#clockstats&#34;&gt;Clockstats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#the-mode-word&#34;&gt;The &amp;lsquo;mode&amp;rsquo; word&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#public-vs-private-shm-segments&#34;&gt;Public vs. Private SHM segments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver28/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.28.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;SHM&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;SHM&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver receives its reference clock info from a shared memory-segment. The shared memory-segment is created with owner-only access by default, unless otherwise requested by the mode word for units ≥2. Units 0 and 1 are always created with owner-only access for backward compatibility.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;structure-of-shared-memory-segment&#34;&gt;Structure of shared memory-segment&lt;/h4&gt;
&lt;pre&gt;struct shmTime {
        int    mode; /* 0 - if valid is set:
                      *       use values,
                      *       clear valid
                      * 1 - if valid is set:
                      *       if count before and after read of data is equal:
                      *         use values
                      *       clear valid
                      */
        volatile int    count;
        time_t          clockTimeStampSec;
        int             clockTimeStampUSec;
        time_t          receiveTimeStampSec;
        int             receiveTimeStampUSec;
        int             leap;
        int             precision;
        int             nsamples;
        volatile int    valid;
        unsigned        clockTimeStampNSec;     /* Unsigned ns timestamps */
        unsigned        receiveTimeStampNSec;   /* Unsigned ns timestamps */
        int             dummy[8];
};&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operation-mode0&#34;&gt;Operation mode=0&lt;/h4&gt;
&lt;p&gt;Each second, the value of &lt;code&gt;valid&lt;/code&gt; of the shared memory-segment is checked:&lt;/p&gt;
&lt;p&gt;If set, the values in the record (clockTimeStampSec, clockTimeStampUSec, receiveTimeStampSec, receiveTimeStampUSec, leap, precision) are passed to &lt;em&gt;NTPD&lt;/em&gt;, and &lt;code&gt;valid&lt;/code&gt; is cleared and &lt;code&gt;count&lt;/code&gt; is bumped.&lt;/p&gt;
&lt;p&gt;If not set, &lt;code&gt;count&lt;/code&gt; is bumped.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operation-mode1&#34;&gt;Operation mode=1&lt;/h4&gt;
&lt;p&gt;Each second, &lt;code&gt;valid&lt;/code&gt; in the shared memory-segment is checked:&lt;/p&gt;
&lt;p&gt;If set, the &lt;code&gt;count&lt;/code&gt; field of the record is remembered, and the values in the record (clockTimeStampSec, clockTimeStampUSec, receiveTimeStampSec, receiveTimeStampUSec, leap, precision) are read. Then, the remembered &lt;code&gt;count&lt;/code&gt; is compared to current value of &lt;code&gt;count&lt;/code&gt; now in the record. If both are equal, the values read from the record are passed to &lt;em&gt;NTPD&lt;/em&gt;. If they differ, another process has modified the record while it was read out (was not able to produce this case), and failure is reported to &lt;em&gt;NTPD&lt;/em&gt;. The &lt;code&gt;valid&lt;/code&gt; flag is cleared and &lt;code&gt;count&lt;/code&gt; is bumped.&lt;/p&gt;
&lt;p&gt;If not set, &lt;code&gt;count&lt;/code&gt; is bumped&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;mode-independent-post-processing&#34;&gt;Mode-independent post-processing&lt;/h4&gt;
&lt;p&gt;After the time stamps have been successfully plucked from the SHM segment, some sanity checks take place:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The receive time stamp of the SHM data must be in the last 5 seconds before the time the data is processed. This helps in weeding out stale data.&lt;/li&gt;
&lt;li&gt;If the absolute difference between remote and local clock exceeds the limit (either &lt;em&gt;time2&lt;/em&gt; or the default of 4hrs), then the sample is discarded. This check is disabled when &lt;em&gt;flag1&lt;/em&gt; is set to 1.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;gpsd&#34;&gt;GPSD&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://gpsd.berlios.de/&#34;&gt;&lt;em&gt;GPSD&lt;/em&gt;&lt;/a&gt; knows how to talk to many GPS devices. It can work with &lt;em&gt;NTPD&lt;/em&gt; through the SHM driver.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;GPSD&lt;/em&gt; man page suggests setting minpoll and maxpoll to 4. That was an attempt to reduce jitter. The SHM driver was fixed (ntp-4.2.5p138) to collect data each second rather than once per polling interval so that suggestion is no longer reasonable.&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    The &lt;em&gt;GPSD&lt;/em&gt; client driver (type 46) uses the &lt;em&gt;GPSD&lt;/em&gt; client protocol to connect and talk to &lt;em&gt;GPSD&lt;/em&gt;, but using the SHM driver is the ancient way to have &lt;em&gt;GPSD&lt;/em&gt; talk to &lt;em&gt;NTPD&lt;/em&gt;. There are some tricky points when using the SHM interface to interface with &lt;em&gt;GPSD&lt;/em&gt;, because &lt;em&gt;GPSD&lt;/em&gt; will use two SHM clocks, one for the serial data stream and one for the PPS information when available. Receivers with a loose/sloppy timing between PPS and serial data can easily cause trouble here because &lt;em&gt;NTPD&lt;/em&gt; has no way to join the two data streams and correlate the serial data with the PPS events.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;clockstats&#34;&gt;Clockstats&lt;/h4&gt;
&lt;p&gt;If flag4 is set when the driver is polled, a clockstats record is written. The first 3 fields are the normal date, time, and IP address common to all clockstats records.&lt;/p&gt;
&lt;p&gt;The 4th field is the number of second ticks since the last poll. The 5th field is the number of good data samples found. The last 64 will be used by &lt;em&gt;NTPD&lt;/em&gt;. The 6th field is the number of sample that didn&amp;rsquo;t have valid data ready. The 7th field is the number of bad samples. The 8th field is the number of times the the mode 1 info was update while &lt;em&gt;NTPD&lt;/em&gt; was trying to grab a sample.&lt;/p&gt;
&lt;p&gt;Here is a sample showing the GPS reception fading out:&lt;/p&gt;
&lt;pre&gt;54364 84927.157 127.127.28.0  66  65   1   0   0
54364 84990.161 127.127.28.0  63  63   0   0   0
54364 85053.160 127.127.28.0  63  63   0   0   0
54364 85116.159 127.127.28.0  63  62   1   0   0
54364 85180.158 127.127.28.0  64  63   1   0   0
54364 85246.161 127.127.28.0  66  66   0   0   0
54364 85312.157 127.127.28.0  66  50  16   0   0
54364 85375.160 127.127.28.0  63  41  22   0   0
54364 85439.155 127.127.28.0  64  64   0   0   0
54364 85505.158 127.127.28.0  66  36  30   0   0
54364 85569.157 127.127.28.0  64   0  64   0   0
54364 85635.157 127.127.28.0  66   0  66   0   0
54364 85700.160 127.127.28.0  65   0  65   0   0
&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;the-mode-word&#34;&gt;The &amp;lsquo;mode&amp;rsquo; word&lt;/h4&gt;
&lt;p&gt;Some aspects of the driver behavior can be adjusted by setting bits of the &amp;lsquo;mode&amp;rsquo; word in the server configuration line:&lt;br&gt;
&lt;tt&gt;server 127.127.28.&lt;/tt&gt;&lt;em&gt;x&lt;/em&gt; &lt;tt&gt;mode&lt;/tt&gt; &lt;em&gt;Y&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;mode word bits and bit groups&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Bit&lt;/th&gt;
&lt;th&gt;Dec&lt;/th&gt;
&lt;th&gt;Hex&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;The SHM segment is private (mode 0600). This is the fixed default for clock units 0 and 1; clock units &amp;gt;1 are mode 0666 unless this bit is set for the specific unit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1-31&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;reserved: do not use&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Maximum allowed difference between remote and local clock, in seconds. Values &lt;1.0 or &gt;86400.0 are ignored, and the default value of 4hrs (14400s) is used instead. See also flag 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;SHM&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Skip the difference limit check if set. Useful for systems where the RTC backup cannot keep the time over long periods without power and the SHM clock must be able to force long-distance initial jumps. Check the difference limit if cleared (default).&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If flag4 is set, clockstats records will be written when the driver is polled.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;public-vs-private-shm-segments&#34;&gt;Public vs. Private SHM segments&lt;/h4&gt;
&lt;p&gt;The driver attempts to create a shared memory segment with an identifier depending on the unit number. This identifier (which can be a numeric value or a string) clearly depends on the method used, which in turn depends on the host operating system:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;tt&gt;Windows&lt;/tt&gt; uses a file mapping to the page file with the name &lt;code&gt;Global\NTP_u_&lt;/code&gt; for public accessible mappings, where &lt;code&gt;_u_&lt;/code&gt; is the clock unit. Private / non-public mappings are created as &lt;code&gt;Local\NTP_u_&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Public access assigns a NULL DACL to the memory mapping, while private access just uses the default DACL of the process creating the mapping.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;tt&gt;SYSV IPC&lt;/tt&gt; creates a shared memory segment with a key value of &lt;tt&gt;0x4E545030&lt;/tt&gt; + &lt;code&gt;_u_&lt;/code&gt;, where &lt;code&gt;_u_&lt;/code&gt; is again the clock unit. (This value could be hex-decoded as &lt;code&gt;NTP0&lt;/code&gt;, &lt;code&gt;NTP1&lt;/code&gt;,&amp;hellip;, with funny characters for units &amp;gt; 9.)&lt;/p&gt;
&lt;p&gt;Public access means a permission set of 0666, while private access creates the mapping with a permission set of 0600.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There&amp;rsquo;s no support for POSIX shared memory yet.&lt;/p&gt;
&lt;p&gt;NTPD is started as root on most POSIX-like operating systems and uses the setuid/setgid system API to run under reduced rights once the initial setup of the process is done. One consequence out of this is that the allocation of SHM segments must be done early during the clock setup. The actual polling of the clock is done as the run-time user; deferring the creation of the SHM segment to this point will create a SHM segment owned by the runtime-user account. The internal structure of &lt;em&gt;NTPD&lt;/em&gt; does not permit the use of a fudge flag if this is to be avoided; this is the reason why a mode bit is used for the configuration of a public segment.&lt;/p&gt;
&lt;p&gt;When running under Windows, the chosen user account must be able to create a SHM segment in the global object name space for SHM clocks with public access. Otherwise the session isolation used by Windows kernels after WinXP will get into the way if the client program does not run in the same session.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Spectracom TSYNC PCI</title>
      <link>/archives/drivers/driver45/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver45/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 26-Mar-2012 05:10 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver45/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver45/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver45/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.45._u_&lt;/code&gt;&lt;br&gt;
Reference ID: one of &lt;tt&gt;GPS&lt;/tt&gt;, &lt;tt&gt;IRIG&lt;/tt&gt;, &lt;tt&gt;HVQ&lt;/tt&gt;, &lt;tt&gt;FREQ&lt;/tt&gt;, &lt;tt&gt;ACTS&lt;/tt&gt;, &lt;tt&gt;PPS&lt;/tt&gt;, &lt;tt&gt;PTP&lt;/tt&gt;, &lt;tt&gt;ACT&lt;/tt&gt;, &lt;tt&gt;USR&lt;/tt&gt;, &lt;tt&gt;LOCL&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;Spectracom TSYNC PCI&lt;/tt&gt;&lt;br&gt;
Driver Port: &lt;tt&gt;/dev/tsyncpci_u_&lt;/tt&gt; Features: &lt;tt&gt;(none)&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the &lt;a href=&#34;https://www.orolia.com/support/timing/tsync/pcie&#34;&gt;Spectracom TSYNC PCI&lt;/a&gt; receiver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Spectracom WWVB/GPS Receivers</title>
      <link>/archives/drivers/driver4/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver4/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 11-Sep-2010 05:56 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver4/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver4/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver4/#pps-signal-processing&#34;&gt;PPS Signal Processing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver4/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver4/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.4.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;WWVB&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;WWVB_SPEC&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/wwvb_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: Optional PPS signal processing, &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;br&gt;
Requires: Optional PPS signal processing requires the PPSAPI signal interface.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports all known Spectracom radio and satellite clocks, including the Model 8170 and Netclock/2 WWVB Synchronized Clocks and the Netclock/GPS GPS Master Clock. The claimed accuracy of the WWVB clocks is 100 &lt;span class=&#34;style1&#34;&gt;m&lt;/span&gt;s relative to the broadcast signal. These clocks have proven a reliable source of time, except in some parts of the country with high levels of conducted RF interference. WIth the GPS clock the claimed accuracy is 130 ns. However, in most cases the actual accuracy is limited by the precision of the timecode and the latencies of the serial interface and operating system.&lt;/p&gt;
&lt;p&gt;The DIPswitches on these clocks should be set to 24-hour display, AUTO DST off, data format 0 or 2 (see below) and baud rate 9600. If this clock is used as the source for the IRIG Audio Decoder (&lt;tt&gt;refclock_irig.c&lt;/tt&gt; in this distribution), set the DIPswitches for AM IRIG output and IRIG format 1 (IRIG B with signature control).&lt;/p&gt;
&lt;p&gt;There are two timecode formats used by these clocks. Format 0, which is available with all clocks, and format 2, which is available with all clocks except the original (unmodified) Model 8170.&lt;/p&gt;
&lt;p&gt;Format 0 (22 ASCII printing characters):&lt;br&gt;
&lt;cr&gt;&lt;lf&gt;i ddd hh:mm:ss TZ=zz&lt;cr&gt;&lt;lf&gt;&lt;/p&gt;
&lt;p&gt;on-time = first &lt;cr&gt;&lt;br&gt;
i = synchronization flag (&#39; &#39; = in synch, &amp;lsquo;?&amp;rsquo; = out synch)&lt;br&gt;
hh:mm:ss = hours, minutes, seconds&lt;/p&gt;
&lt;p&gt;The alarm condition is indicated by other than &#39; &#39; at &lt;tt&gt;i&lt;/tt&gt;, which occurs during initial synchronization and when received signal is lost for about ten hours.&lt;/p&gt;
&lt;p&gt;Format 2 (24 ASCII printing characters):&lt;br&gt;
lt;cr&amp;gt;lf&amp;gt;iqyy ddd hh:mm:ss.fff ld&lt;/p&gt;
&lt;p&gt;on-time = &lt;cr&gt;&lt;br&gt;
i = synchronization flag (&#39; &#39; = in synch, &amp;lsquo;?&amp;rsquo; = out synch)&lt;br&gt;
q = quality indicator (&#39; &#39; = locked, &amp;lsquo;A&amp;rsquo;&amp;hellip;&amp;lsquo;D&amp;rsquo; = unlocked)&lt;br&gt;
yy = year (as broadcast)&lt;br&gt;
ddd = day of year&lt;br&gt;
hh:mm:ss.fff = hours, minutes, seconds, milliseconds&lt;/p&gt;
&lt;p&gt;The alarm condition is indicated by other than &#39; &#39; at &lt;tt&gt;i&lt;/tt&gt;, which occurs during initial synchronization and when received signal is lost for about ten hours. The unlock condition is indicated by other than &#39; &#39; at &lt;tt&gt;q&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;tt&gt;q&lt;/tt&gt; is normally &#39; &#39; when the time error is less than 1 ms and a character in the set &lt;tt&gt;A&amp;hellip;D&lt;/tt&gt; when the time error is less than 10, 100, 500 and greater than 500 ms respectively. The &lt;tt&gt;l&lt;/tt&gt; is normally &#39; &amp;lsquo;, but is set to &lt;tt&gt;L&lt;/tt&gt; early in the month of an upcoming UTC leap second and reset to &#39; &#39; on the first day of the following month. The &lt;tt&gt;d&lt;/tt&gt; is set to &lt;tt&gt;S&lt;/tt&gt; for standard time &lt;tt&gt;S&lt;/tt&gt;, &lt;tt&gt;I&lt;/tt&gt; on the day preceding a switch to daylight time, &lt;tt&gt;D&lt;/tt&gt; for daylight time and &lt;tt&gt;O&lt;/tt&gt; on the day preceding a switch to standard time. The start bit of the first &lt;cr&gt; is synchronized to the indicated time as returned.&lt;/p&gt;
&lt;p&gt;This driver does not need to be told which format is in use - it figures out which one from the length of the message. A three-stage median filter is used to reduce jitter and provide a dispersion measure. The driver makes no attempt to correct for the intrinsic jitter of the radio itself, which is a known problem with the older radios.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;pps-signal-processing&#34;&gt;PPS Signal Processing&lt;/h4&gt;
&lt;p&gt;When PPS signal processing is enabled, and when the system clock has been set by this or another driver and the PPS signal offset is within 0.4 s of the system clock offset, the PPS signal replaces the timecode for as long as the PPS signal is active. If for some reason the PPS signal fails for one or more poll intervals, the driver reverts to the timecode. If the timecode fails for one or more poll intervals, the PPS signal is disconnected.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;The driver writes each timecode as received to the &lt;tt&gt;clockstats&lt;/tt&gt; file. When enabled by the &lt;tt&gt;flag4&lt;/tt&gt; fudge flag, a table of quality data maintained internally by the Netclock/2 is retrieved and written to the &lt;tt&gt;clockstats&lt;/tt&gt; file when the first timecode message of a new day is received.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the PPS time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the serial time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;WWVB&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Disable PPS signal processing if 0 (default); enable PPS signal processing if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If PPS signal processing is enabled, capture the pulse on the rising edge if 0 (default); capture on the falling edge if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;If PPS signal processing is enabled, use the &lt;tt&gt;ntpd&lt;/tt&gt; clock discipline if 0 (default); use the kernel discipline if 1.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Trimble Palisade and Thunderbolt Receivers</title>
      <link>/archives/drivers/driver29/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver29/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 13-Sep-2019 08:07 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/driver29.gif&#34; alt=&#34;gif&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/archives/pic/thunderbolt.jpg&#34; alt=&#34;jpg&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#gps-receiver&#34;&gt;GPS Receiver&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#gps-installation&#34;&gt;GPS Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#os-serial-port-configuration&#34;&gt;O/S Serial Port Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#ntp-configuration&#34;&gt;NTP Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#time-transfer-and-polling&#34;&gt;Time Transfer and Polling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#run-ntp-in-debugging-mode&#34;&gt;Run NTP in Debugging Mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#event-logging&#34;&gt;Event Logging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#mode-parameter&#34;&gt;Mode Parameter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#defines&#34;&gt;DEFINEs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#data-format&#34;&gt;Data Format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#pinouts&#34;&gt;Pinouts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver29/#notes-on-the-thunderbolt-receivers-firmware&#34;&gt;Notes on the Thunderbolt Receiver’s Firmware&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;strong&gt;127.127.29.&lt;em&gt;u&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Reference ID: &lt;strong&gt;GPS&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Driver ID: &lt;strong&gt;GPS_PALISADE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Serial Port: &lt;strong&gt;&lt;code&gt;/dev/palisade_u_&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Serial I/O: &lt;strong&gt;9600 baud, 8-bits, 1-stop, odd parity&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Serial I/O (Thunderbolt): &lt;strong&gt;9600 baud, 8-bits, 1-stop, no parity&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Serial I/O (Copernicus II): &lt;strong&gt;38400 baud, 8-bits, 1-stop, no parity&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;The &lt;strong&gt;refclock_palisade&lt;/strong&gt; driver supports &lt;a href=&#34;https://timing.trimble.com/&#34;&gt;Trimble&lt;/a&gt; Navigation&amp;rsquo;s Palisade Smart Antenna GPS receiver.&lt;/p&gt;
&lt;p&gt;This documentation describes version 7.12 of the GPS Firmware and version 2.46 (July 15, 1999) and later, of the driver source.&lt;/p&gt;
&lt;p&gt;This documentation describes version 1 of the Thunderbolt Receiver Firmware, no tests have been made on further firmwares, please read &lt;a href=&#34;/archives/drivers/driver29/#notes-on-the-thunderbolt-receivers-firmware&#34;&gt;Notes on the Thunderbolt Receiver&amp;rsquo;s Firmware&lt;/a&gt; for more information.&lt;/p&gt;
&lt;p&gt;This driver also supports the following receivers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Endrun Technologies Praecis NTP server with GPS&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Trimble Acutime Gold smart antenna&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Trimble Resolution family&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Trimble ACE III&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Trimble Copernicus II&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;operating-system-compatibility&#34;&gt;Operating System Compatibility&lt;/h4&gt;
&lt;p&gt;The Palisade driver has been tested on the following software and hardware platforms:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Platform&lt;/th&gt;
&lt;th&gt;Operating System&lt;/th&gt;
&lt;th&gt;NTP Sources&lt;/th&gt;
&lt;th&gt;Accuracy&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;td&gt;NTP Distribution&lt;/td&gt;
&lt;td&gt;10 us&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i386 (PC)&lt;/td&gt;
&lt;td&gt;Windows NT&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1 ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SUN&lt;/td&gt;
&lt;td&gt;Solaris 2.x&lt;/td&gt;
&lt;td&gt;NTP Distribution&lt;/td&gt;
&lt;td&gt;50 us&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Hewlett-Packard&lt;/td&gt;
&lt;td&gt;HPUX 9, 10, 11&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;50 us&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Various&lt;/td&gt;
&lt;td&gt;FreeBSD&lt;/td&gt;
&lt;td&gt;NTP Distribution&lt;/td&gt;
&lt;td&gt;20 us&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Attention&lt;/h4&gt;

    Other receiver types have not being tested on the previous software and hardware platforms.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;gps-receiver&#34;&gt;GPS Receiver&lt;/h4&gt;
&lt;p&gt;The Palisade GPS receiver is an 8-channel smart antenna, housing the GPS receiver, antenna and interface in a single unit, and is designed for rooftop deployment in static timing applications.&lt;/p&gt;
&lt;p&gt;Palisade generates a PPS synchronized to UTC within +/- 100 ns.  The Palisade&amp;rsquo;s external event input with 40 nanosecond resolution is utilized by the Palisade NTP driver for asynchronous precision time transfer.&lt;/p&gt;
&lt;p&gt;No user initialization of the receiver is required. This driver is compatible with the following versions of Palisade:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;Event Input&lt;/th&gt;
&lt;th&gt;Trimble Part Number&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;7.02&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;26664-00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7.02E&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;26664-10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7.12&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;38158-00&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    When using Palisade 26664-00, you must set fudge flag2 to 1 in &lt;strong&gt;ntp.conf&lt;/strong&gt;. See &lt;a href=&#34;/archives/drivers/driver29/#ntp-configuration&#34;&gt;configuration&lt;/a&gt;.

&lt;/div&gt;

&lt;hr&gt;
&lt;h4 id=&#34;gps-installation&#34;&gt;GPS Installation&lt;/h4&gt;
&lt;p&gt;A location with unobstructed view of the horizon is recommended. Palisade is designed to be securely mounted atop standard 3/4 inch threaded pipe.&lt;/p&gt;
&lt;p&gt;The 12 conductor (dia. 10 mm)  power and I/O cable must be routed from the rooftop site to the NTP server and properly strain relieved.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GPS Connection&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The Palisade is equipped with dual (A &amp;amp; B) RS-422 serial interfaces and a differential TTL PPS output. An RS-232 / RS-422 Interface Module is supplied with the Palisade NTP Synchronization Kit. Palisade port A must be connected to the NTP host server. Maximum antenna cable length is 500 meters. See the &lt;a href=&#34;/archives/drivers/driver29/#pinouts&#34;&gt;pinouts&lt;/a&gt; table for detailed connection Information.&lt;/p&gt;
&lt;p&gt;Palisade&amp;rsquo;s port B provides a TSIP (Trimble Standard Interface Protocol) interface for diagnostics, configuration, and monitoring. Port B and the PPS output are not currently used by the Palisade NTP reference clock driver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;os-serial-port-configuration&#34;&gt;O/S Serial Port Configuration&lt;/h4&gt;
&lt;p&gt;The driver attempts to open the device &lt;code&gt;/dev/palisade_u_&lt;/code&gt; where &lt;code&gt;_u_&lt;/code&gt; is the NTP refclock unit number as defined by the LSB of the refclock address.  Valid refclock unit numbers are 0 - 3.&lt;/p&gt;
&lt;p&gt;The user is expected to provide a symbolic link to an available serial port device.  This is typically performed by a command such as:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;gt; ln -s /dev/ttyS0 /dev/palisade0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Windows NT does not support symbolic links to device files. COM&lt;strong&gt;x&lt;/strong&gt;: is used by the driver, based on the refclock unit number, where unit 1 corresponds to COM&lt;strong&gt;1&lt;/strong&gt;: and unit 3 corresponds to COM3.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ntp-configuration&#34;&gt;NTP Configuration&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Palisade NTP configuration file &lt;tt&gt;ntp.conf&lt;/tt&gt; with event polling:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#-----------------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 # Trimble Palisade GPS Refclock Unit #0&lt;/tt&gt;  
&lt;tt&gt;peer terrapin.csc.ncsu.edu # internet server&lt;/tt&gt;  
&lt;tt&gt;# Drift file for expedient re-synchronization after downtime or reboot.&lt;/tt&gt;  
&lt;tt&gt;driftfile /etc/ntp.drift&lt;/tt&gt;  
&lt;tt&gt;#----------------------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;
&lt;p&gt;Configuration without event polling:&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 # Trimble Palisade GPS (Stratum 1).&lt;/tt&gt;  
&lt;tt&gt;# Set packet delay&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 time1 0.020](#time1)&lt;/tt&gt;  
&lt;tt&gt;# and set flag2 to turn off event polling.&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 flag2 1](#flag2)&lt;/tt&gt;  
&lt;tt&gt;#-------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;  
&lt;p&gt;&lt;strong&gt;Thunderbolt NTP Configuration file&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Configuration without event polling:&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#---------------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 mode 2 # Trimble Thunderbolt GPS (Stratum 1).&lt;/tt&gt;  
&lt;tt&gt;# Set packet delay&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 time1 0.020](#time1)&lt;/tt&gt;  
&lt;tt&gt;# and set flag2 to turn off event polling.&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 flag2 1](#flag2)&lt;/tt&gt;  
&lt;tt&gt;#----------------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;  
&lt;p&gt;&lt;strong&gt;Resolution NTP Configuration file&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Configuration without event polling:&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#-----------------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 mode 5 # Trimble Resolution GPS (Stratum 1).&lt;/tt&gt;  
&lt;tt&gt;# Set packet delay&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 time1 0.410](#time1)&lt;/tt&gt;  
&lt;tt&gt;# and set flag2 to turn off event polling.&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 flag2 1](#flag2)&lt;/tt&gt;  
&lt;tt&gt;#------------------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;  
&lt;p&gt;&lt;strong&gt;ACE III NTP Configuration file&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Configuration with event polling:&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#-------------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 mode 6 # Trimble ACE III GPS (Stratum 1).&lt;/tt&gt;  
&lt;tt&gt;# Set packet delay&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 time1 0.720](#time1)&lt;/tt&gt;  
&lt;tt&gt;#-------------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;  
&lt;p&gt;&lt;strong&gt;Copernicus II NTP Configuration file&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Configuration without event polling:&lt;/p&gt;
&lt;pre&gt;&lt;tt&gt;#-----------------------------------------------------------------&lt;/tt&gt;  
&lt;tt&gt;# The Primary reference&lt;/tt&gt;  
&lt;tt&gt;server 127.127.29.0 mode 7 # Trimble Copernicus II GPS (Stratum 1).&lt;/tt&gt;  
&lt;tt&gt;# Set packet delay&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 time1 0.240](#time1)&lt;/tt&gt;  
&lt;tt&gt;# and set flag2 to turn off event polling.&lt;/tt&gt;  
&lt;tt&gt;[fudge 127.127.29.0 flag2 1](#flag2)&lt;/tt&gt;  
&lt;tt&gt;#-------------------------------------------------------------------&lt;/tt&gt;&lt;/pre&gt;  
&lt;p&gt;Currently the Thunderbolt mode doesn&amp;rsquo;t support event polling, the reasons are explained in the &lt;a href=&#34;/archives/drivers/driver29/#notes-on-the-thunderbolt-receivers-firmware&#34;&gt;Notes on the Thunderbolt Receiver&amp;rsquo;s Firmware&lt;/a&gt; section. The Resolution and Copernicus II modes require event polling to be disabled whereas the ACE III requires polling to be enabled.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;time-transfer-and-polling&#34;&gt;Time Transfer and Polling&lt;/h4&gt;
&lt;p&gt;Time transfer to the NTP host is performed via the Palisade&amp;rsquo;s comprehensive time packet output. The time packets are output once per second, and whenever an event timestamp is requested.&lt;/p&gt;
&lt;p&gt;The driver requests an event time stamp at the end of each polling interval, by pulsing the RTS (request to send) line on the serial port. The Palisade GPS responds with a time stamped event packet.&lt;/p&gt;
&lt;p&gt;Time stamps are reported by the Palisade with respect to UTC time. The GPS receiver must download UTC offset information from GPS satellites. After an initial UTC download, the receiver will always start with correct UTC offset information.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;run-ntp-in-debugging-mode&#34;&gt;Run NTP in Debugging Mode&lt;/h4&gt;
&lt;p&gt;The following procedure is recommended for installing and testing a Palisade NTP driver:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Perform initial checkout procedures. Place the GPS receiver outdoors; with clear view of the sky. Allow the receiver to obtain an UTC almanac.&lt;/li&gt;
&lt;li&gt;Verify presence of timing packets by observing the 1 Hz (PPS) led on the interface module. It should flash once per second.&lt;/li&gt;
&lt;li&gt;Connect Palisade&amp;rsquo;s port A to the NTP host.&lt;/li&gt;
&lt;li&gt;Configure NTP and the serial I/O port on the host system.&lt;/li&gt;
&lt;li&gt;Initially use &lt;tt&gt;fudge flag2&lt;/tt&gt; in &lt;strong&gt;&lt;a href=&#34;#ntp-configuration&#34;&gt;ntp.conf&lt;/a&gt;,&lt;/strong&gt; to disable event polling.&lt;/li&gt;
&lt;li&gt;Run NTP in debug mode (-d -d), to observe Palisade_receive events.&lt;/li&gt;
&lt;li&gt;The driver reports the &lt;a href=&#34;#data-format&#34;&gt;tracking status of the receiver&lt;/a&gt;. Make sure it is tracking several satellites.&lt;/li&gt;
&lt;li&gt;Remove fudge flag2 and restart &lt;strong&gt;ntpd&lt;/strong&gt; in debug mode to observe palisade_receive events.&lt;/li&gt;
&lt;li&gt;If event polling fails, verify the &lt;a href=&#34;#pinouts&#34;&gt;connections&lt;/a&gt; and that the host hardware supports RTS control.&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;event-logging&#34;&gt;Event Logging&lt;/h4&gt;
&lt;p&gt;System and Event log entries are generated by NTP to report significant system events. Administrators should monitor the system log to observe NTP error messages. Log entries generated by the Palisade NTP reference clock driver will be of the form:&lt;/p&gt;
&lt;pre&gt; &gt; Nov 14 16:16:21 terrapin ntpd[1127]: Palisade #0: _message_&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0. If event capture is not used, time1 should be set to 20 milliseconds to correct serial line and operating system delays incurred in capturing time stamps from the synchronous packets.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver reference identifier, &lt;strong&gt;GPS&lt;/strong&gt;.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;When set to 1, driver does not use hardware event capture. The synchronous packet output by the receiver at the beginning of each second is time stamped by the driver. If triggering the event pulse fails, the driver falls back to this mode automatically.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;mode-parameter&#34;&gt;Mode Parameter&lt;/h2&gt;
&lt;dt&gt;&lt;tt&gt;mode _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;The mode parameter to the server command specifies the specific hardware this driver is for. The default is 0 for a normal Trimble Palisade. The other options are:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1&lt;/strong&gt; for an &lt;strong&gt;Endrun Praecis&lt;/strong&gt; in Trimble emulation mode&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2&lt;/strong&gt; for the &lt;strong&gt;Trimble Thunderbolt&lt;/strong&gt; GPS Disciplined Clock Receiver&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3&lt;/strong&gt; for the &lt;strong&gt;Acutime Gold&lt;/strong&gt; smart antenna&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5&lt;/strong&gt; for &lt;strong&gt;Trimble Resolution&lt;/strong&gt; devices&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6&lt;/strong&gt; for the &lt;strong&gt;Trimble ACE III&lt;/strong&gt; board&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7&lt;/strong&gt; for the &lt;strong&gt;Trimble Copernicus II&lt;/strong&gt; device&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;defines&#34;&gt;DEFINEs&lt;/h4&gt;
&lt;p&gt;The following constants are defined in the driver source code. These defines may be modified to improve performance or adapt to new operating systems.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Label&lt;/th&gt;
&lt;th&gt;Definition&lt;/th&gt;
&lt;th&gt;Default Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;DEVICE&lt;/td&gt;
&lt;td&gt;The serial port device to be used by the driver&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/dev/palisade_u_&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PRECISION&lt;/td&gt;
&lt;td&gt;Accuracy of time transfer&lt;/td&gt;
&lt;td&gt;1 microsecond&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SPEED232&lt;/td&gt;
&lt;td&gt;Host RS-232 baud rate&lt;/td&gt;
&lt;td&gt;B9600&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SPEED232COP&lt;/td&gt;
&lt;td&gt;Host RS-232 baud rate (Copernicus II mode)&lt;/td&gt;
&lt;td&gt;B38400&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TRMB_MINPOLL&lt;/td&gt;
&lt;td&gt;Minimum polling interval&lt;/td&gt;
&lt;td&gt;5 (32 seconds)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TRMB_MAXPOLL&lt;/td&gt;
&lt;td&gt;Maximum interval between polls&lt;/td&gt;
&lt;td&gt;7 (128 seconds)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;data-format&#34;&gt;Data Format&lt;/h4&gt;
&lt;p&gt;Palisade port A can output two synchronous time packets. The NTP driver can use either packet for synchronization. Packets are formatted as follows:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Packet 8F-AD (Primary NTP Packet)&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Byte&lt;/th&gt;
&lt;th&gt;Item&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Sub-Packet ID&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Subcode 0xAD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1 - 2&lt;/td&gt;
&lt;td&gt;Event Count&lt;/td&gt;
&lt;td&gt;INTEGER&lt;/td&gt;
&lt;td&gt;External event count recorded (0 = PPS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3 - 10&lt;/td&gt;
&lt;td&gt;Fractional Second&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Time elapsed in current second (s)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;Hour&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Hour (0 - 23)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;Minute&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Minute (0 - 59)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;Second&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Second (0 - 59; 60 = leap)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;Day&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Date (1 - 31)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;Month&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Month (1 - 12)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16 - 17&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;td&gt;INTEGER&lt;/td&gt;
&lt;td&gt;Year (4 digit)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;Receiver Status&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Tracking Status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;UTC Flags&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Leap Second Flags&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;Reserved&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Contains 0xFF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;Reserved&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Contains 0xFF&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Leap Second Flag Definition&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bit 0:&lt;/strong&gt;  (1) UTC Time is available&lt;br&gt;
&lt;strong&gt;Bits 1 - 3:&lt;/strong&gt; Undefined&lt;br&gt;
&lt;strong&gt;Bit 4:&lt;/strong&gt;  (1) Leap Scheduled: Leap second pending asserted by GPS control segment.&lt;br&gt;
&lt;strong&gt;Bit 5:&lt;/strong&gt;  (1) Leap Pending: set 24 hours before, until beginning of leap second.&lt;br&gt;
&lt;strong&gt;Bit 6:&lt;/strong&gt;  (1) GPS Leap Warning: 6 hours before until 6 hours after leap event&lt;br&gt;
&lt;strong&gt;Bit 7:&lt;/strong&gt;  (1) Leap In Progress. Only set during the leap second.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tracking Status Flag Definitions&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Code&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;th&gt;Accuracy&lt;/th&gt;
&lt;th&gt;Receiver Mode&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Receiver is Navigating&lt;/td&gt;
&lt;td&gt;+/- 1 us&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Static 1 Sat. Timing Mode&lt;/td&gt;
&lt;td&gt;+/- 1 us&lt;/td&gt;
&lt;td&gt;1-D Timing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Approximate Time&lt;/td&gt;
&lt;td&gt;20 - 50 ms&lt;/td&gt;
&lt;td&gt;Acquisition&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Startup&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;td&gt;Initialization&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Startup&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;td&gt;Initialization&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;Dilution of Position too High&lt;/td&gt;
&lt;td&gt;5 ppm&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;Static 1 Sat. Timing: Sat. not usable&lt;/td&gt;
&lt;td&gt;5 ppm&lt;/td&gt;
&lt;td&gt;1-D Timing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;No Satellites Usable&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Only 1 Satellite Usable&lt;/td&gt;
&lt;td&gt;20 - 50 ms&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;Only 2 Satellite Usable&lt;/td&gt;
&lt;td&gt;20 - 50 ms&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;Only 3 Satellites Usable&lt;/td&gt;
&lt;td&gt;20 - 50 ms&lt;/td&gt;
&lt;td&gt;Self Survey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;Invalid Solution&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;td&gt;Error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;Differential Corrections&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;td&gt;N/A&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;Overdetermined Fixes&lt;/td&gt;
&lt;td&gt;+/- 100 ns&lt;/td&gt;
&lt;td&gt;Timing Steady State&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Packet 8F-0B (Comprehensive Timing Packet)&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Byte&lt;/th&gt;
&lt;th&gt;Item&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Sub-Packet ID&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Subcode 0x0B&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1 - 2&lt;/td&gt;
&lt;td&gt;Event Count&lt;/td&gt;
&lt;td&gt;INTEGER&lt;/td&gt;
&lt;td&gt;External event count recorded (0 = PPS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3 - 10&lt;/td&gt;
&lt;td&gt;UTC / GPS TOW&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;UTC / GPS time of week (seconds)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;Date&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Day of Month&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;Month&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Month of Event&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13 - 14&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;td&gt;INT&lt;/td&gt;
&lt;td&gt;Year of event&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;Receiver Mode&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;Receiver operating dimensions: &lt;br&gt; 0: Horizontal (2D) &lt;br&gt; 1: Full Position (3D) &lt;br&gt; 2: Single Satellite (0D) &lt;br&gt; 3: Automatic (2D / 3D) &lt;br&gt; 4: DGPS reference &lt;br&gt;  5: Clock hold (2D) &lt;br&gt;  6: Over determined Clock&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15 - 17&lt;/td&gt;
&lt;td&gt;UTC Offset&lt;/td&gt;
&lt;td&gt;INTEGER&lt;/td&gt;
&lt;td&gt;UTC Offset value (seconds)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;18 - 25&lt;/td&gt;
&lt;td&gt;Oscillator Bias&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Oscillator BIAS (meters)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;26 - 33&lt;/td&gt;
&lt;td&gt;Oscillator Drift Rate&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Oscillator Drift (meters / second)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;34 - 37&lt;/td&gt;
&lt;td&gt;Bias Uncertainty&lt;/td&gt;
&lt;td&gt;SINGLE&lt;/td&gt;
&lt;td&gt;Oscillator bias uncertainty (meters)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;38 - 41&lt;/td&gt;
&lt;td&gt;Drift Uncertainty&lt;/td&gt;
&lt;td&gt;SINGLE&lt;/td&gt;
&lt;td&gt;Oscillator bias rate uncertainty (m / sec)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;42 - 49&lt;/td&gt;
&lt;td&gt;Latitude&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Latitude in radians&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;50 - 57&lt;/td&gt;
&lt;td&gt;Longitude&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Longitude in radians&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;58 - 65&lt;/td&gt;
&lt;td&gt;Altitude&lt;/td&gt;
&lt;td&gt;DOUBLE&lt;/td&gt;
&lt;td&gt;Altitude above mean sea level, in meters&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;66 - 73&lt;/td&gt;
&lt;td&gt;Satellite ID&lt;/td&gt;
&lt;td&gt;BYTE&lt;/td&gt;
&lt;td&gt;SV Id No. of tracked satellites&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Thunderbolt Timing packets Data Format&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Thunderbolt can output 2 synchronous packets.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Primary Timing Packet - 0x8FAB&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Byte&lt;/th&gt;
&lt;th&gt;Bit&lt;/th&gt;
&lt;th&gt;Item&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subcode&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0xAB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1-4&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Time of Week&lt;/td&gt;
&lt;td&gt;UINT32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;GPS seconds of week&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5-6&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Week Number&lt;/td&gt;
&lt;td&gt;UINT16&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;GPS Week Number&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7-8&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;UTC Offset&lt;/td&gt;
&lt;td&gt;SINT16&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;UTC Offset (seconds)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4&lt;/td&gt;
&lt;td&gt;Timing Flag&lt;/td&gt;
&lt;td&gt;Bit field&lt;/td&gt;
&lt;td&gt;0 or 1 &lt;br&gt; 0 or 1 &lt;br&gt; 0 or 1 &lt;br&gt; 0 or 1 &lt;br&gt; 0 or 1 &lt;br&gt;&lt;/td&gt;
&lt;td&gt;GPS Time or UTC Time&lt;br&gt; GPS PPS or UTC PPS&lt;br&gt; time is set or time is not set&lt;br&gt; have UTC info or no UTC info&lt;br&gt; Time from GPS or time from user&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Seconds&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0-59&lt;/td&gt;
&lt;td&gt;(60 for UTC leap second event)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Minutes&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0-59&lt;/td&gt;
&lt;td&gt;Minutes of Hour&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Hours&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0-23&lt;/td&gt;
&lt;td&gt;Hour of Day&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Day of Month&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;1-31&lt;/td&gt;
&lt;td&gt;Day of Month&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Month&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;1-12&lt;/td&gt;
&lt;td&gt;Month of Year&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15-16&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Year&lt;/td&gt;
&lt;td&gt;UINT16&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Four digits of Year (e.g. 1998)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Supplemental Timing Packet - 0x8FAC&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Byte&lt;/th&gt;
&lt;th&gt;Bit&lt;/th&gt;
&lt;th&gt;Item&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subcode&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0xAC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Receiver Mode&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4 &lt;br&gt; 5 &lt;br&gt; 6&lt;/td&gt;
&lt;td&gt;Automatic (2D/3D)&lt;br&gt; Single Satellite (Time)&lt;br&gt; Horizontal (2D)&lt;br&gt; Full Position (3D)&lt;br&gt; DGPS Reference&lt;br&gt; Clock Hold (2D)&lt;br&gt; Overdetermined Clock&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Disciplining Mode&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4 &lt;br&gt; 5 &lt;br&gt; 6&lt;/td&gt;
&lt;td&gt;Normal &lt;br&gt; Power-Up&lt;br&gt; Auto Holdover&lt;br&gt; Manual Holdover&lt;br&gt; Recovery&lt;br&gt; Not Used&lt;/br&gt; Disciplining disabled&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Self-Survey Progress&lt;/td&gt;
&lt;td&gt;UINT 8&lt;/td&gt;
&lt;td&gt;0-100%&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4-7&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Holdover Duration&lt;/td&gt;
&lt;td&gt;UINT 32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;seconds&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8-9&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4&lt;/td&gt;
&lt;td&gt;Critical Alarms&lt;/td&gt;
&lt;td&gt;UINT16&lt;/td&gt;
&lt;td&gt;Bit field&lt;/td&gt;
&lt;td&gt;ROM checksum error&lt;br&gt; RAM check has failed&lt;br&gt; Power supply failure&lt;br&gt; FPGA check has failed&lt;br&gt; Oscillator control voltage at rail&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10-11&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4 &lt;br&gt; 5 &lt;br&gt; 6&lt;/td&gt;
&lt;td&gt;Minor Alarms&lt;/td&gt;
&lt;td&gt;UINT16&lt;/td&gt;
&lt;td&gt;Bit field&lt;/td&gt;
&lt;td&gt;Normal&lt;br&gt; Power-Up&lt;br&gt; Auto Holdover&lt;br&gt; Manual Holdover&lt;br&gt; Recovery&lt;br&gt; Not Used&lt;br&gt; Disciplining disabled&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;GPS Decoding Status&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0&lt;br&gt; 1&lt;br&gt; 3&lt;br&gt; 8&lt;br&gt; 9&lt;br&gt; 0x0A&lt;br&gt; 0x0B&lt;br&gt; 0x0C&lt;br&gt; 0x10&lt;br&gt;&lt;/td&gt;
&lt;td&gt;Doing fixes&lt;br&gt; Don&amp;rsquo;t have GPS time&lt;br&gt; PDOP is too high&lt;br&gt; No usable sats&lt;br&gt; Only 1 usable sat&lt;br&gt; Only 2 usable sats&lt;br&gt; Only 3 usable sats&lt;br&gt; The chosen sat is unusable&lt;br&gt; TRAIM rejected the fix&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Disciplining Activity&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0 &lt;br&gt; 1 &lt;br&gt; 2 &lt;br&gt; 3 &lt;br&gt; 4 &lt;br&gt; 5 &lt;br&gt; 6 &lt;br&gt; 7 &lt;br&gt; 8&lt;/td&gt;
&lt;td&gt;Phase locking&lt;br&gt; Oscillator warming up&lt;br&gt; Frequency locking&lt;br&gt; Placing PPS&lt;br&gt; Initializing loop filter&lt;br&gt; Compensating OCXO&lt;br&gt; Inactive&lt;br&gt; Not used&lt;br&gt; Recovery mode&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Spare Status 1&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Spare Status 2&lt;/td&gt;
&lt;td&gt;UINT8&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16-19&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;PPS Offset&lt;/td&gt;
&lt;td&gt;Single&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Estimate of UTC/GPS offset (ns)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20-23&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10 MHz Offset&lt;/td&gt;
&lt;td&gt;Single&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Estimate of UTC/GPS offset (ns)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;24-27&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;DAC Value&lt;/td&gt;
&lt;td&gt;UINT32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Offset binary (0x00 - 0xFFFFF)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;28-31&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;DAC Voltage&lt;/td&gt;
&lt;td&gt;Single&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Volts&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;32-35&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Temperature&lt;/td&gt;
&lt;td&gt;Single&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;degrees C&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;36-43&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Latitude&lt;/td&gt;
&lt;td&gt;Double&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;radians&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;44-51&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Longitude&lt;/td&gt;
&lt;td&gt;Double&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;radians&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;52-59&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Altitude&lt;/td&gt;
&lt;td&gt;Double&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Meters&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;60-67&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Spare&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;For Future Expansion&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;pinouts&#34;&gt;Pinouts&lt;/h4&gt;
&lt;p&gt;The following connections are required when connecting Palisade with a host:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Host DB-9&lt;/th&gt;
&lt;th&gt;Host DB-25&lt;/th&gt;
&lt;th&gt;Palisade RS-232&lt;/th&gt;
&lt;th&gt;Palisade RS-422&lt;/th&gt;
&lt;th&gt;Palisade Pin&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Port A&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Receive Data&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Green&lt;/td&gt;
&lt;td&gt;Green / Blue&lt;/td&gt;
&lt;td&gt;8 (T-) &amp;amp; 10 (T+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Request to Send&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Gray&lt;/td&gt;
&lt;td&gt;Gray / White&lt;/td&gt;
&lt;td&gt;6 (R-) &amp;amp; 7 (R+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Signal Ground&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;9 (GND)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Port B&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Receive Data&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Brown&lt;/td&gt;
&lt;td&gt;Brown / Yellow&lt;/td&gt;
&lt;td&gt;4 (T-) &amp;amp; 5 (T+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Transmit Data&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Violet&lt;/td&gt;
&lt;td&gt;Orange/ Violet&lt;/td&gt;
&lt;td&gt;2 (R-) &amp;amp; 3 (R+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Signal Ground&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;9 (GND)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    Driving the RS-422 inputs on the Palisade single-ended, using the Green and Gray connections only, does not work on all serial ports. Use of the Palisade NTP Synchronization Interface Module is recommended.

&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;The 12 pin connector pinout definition:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Face the round 12 pin connector at the end of the cable, with the notch turned upwards.&lt;/p&gt;
&lt;p&gt;Pin 1 is to the left of the notch. Pins 2 - 8 wrap around the bottom, counterclockwise to pin 9 on the right of the notch. Pin 10 is just below the notch. Pins 10 (top), 11 (bottom left) and 12 (bottom right) form a triangle in the center of the connector.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Pinouts for the Palisade NTP host adapter (Trimble PN 37070) DB-25 M connector are as follows:&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DB-25M&lt;/th&gt;
&lt;th&gt;Conductor&lt;/th&gt;
&lt;th&gt;Palisade&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Red&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Power&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;Ground&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;Black/White&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;PPS -&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;Green&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Transmit Port A (T-)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;Brown&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Transmit Port B (T-)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;Gray&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Receive Port A (R+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;Orange&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Receive Port B (R+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;Orange/White&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;PPS +&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;Blue&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;Transmit Port A (T+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;Yellow&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;Transmit Port B (T+)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;White&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;Receive Port A (R-)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;Violet&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Receive Port B (R-)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;notes-on-the-thunderbolt-receivers-firmware&#34;&gt;Notes on the Thunderbolt Receiver&amp;rsquo;s Firmware&lt;/h4&gt;
&lt;p&gt;The support for Thunderbolt Receiver in the palisade driver doesn&amp;rsquo;t support (for now) event-polling, the reason is that the Thunderbolt receiver the patch is written for doesn&amp;rsquo;t support time-on-request, so you just have to sit there and wait for the time to arrive with the PPS. We tried to contact Trimble because there&amp;rsquo;s presumably a firmware update that support it, but we didn&amp;rsquo;t have much luck. Here is a &lt;a href=&#34;https://lists.ntp.org/pipermail/hackers/2006-April/002218.html&#34;&gt;link explaining the situation&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Questions or Comments:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;mailto:sven_dietrich@trimble.com&#34;&gt;Sven Dietrich&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.trimble.com/&#34;&gt;Trimble Navigation Ltd.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;mailto:fernandoph@iar.unlp.edu.ar&#34;&gt;Fernando P. Hauscarriaga&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: TrueTime GPS/GOES/OMEGA/WWV Receivers</title>
      <link>/archives/drivers/driver5/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver5/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver5/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver5/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver5/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver5/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver5/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.5.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS, OMEGA, GOES, WWV&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;TRUETIME&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/true_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;tty_clk&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports several models models of Kinemetrics/TrueTime timing receivers, including 468-DC MK III GOES Synchronized Clock, GPS- DC MK III and GPS/TM-TMD GPS Synchronized Clock, XL-DC (a 151-602-210, reported by the driver as a GPS/TM-TMD), GPS-800 TCU (an 805-957 with the RS232 Talker/Listener module), OM-DC OMEGA Synchronized Clock, the TL-3 WWV receiver, and very likely others in the same model families that use the same timecode formats.&lt;/p&gt;
&lt;p&gt;Most of this code is originally from refclock_wwvb.c with thanks. It has been so mangled that wwvb is not a recognizable ancestor.&lt;/p&gt;
&lt;p&gt;Timecode format: &lt;tt&gt;ADDD:HH:MM:SSQCL&lt;/tt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; - control A (this is stripped before we see it)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Q&lt;/code&gt; - Quality indication (see below)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C&lt;/code&gt; - Carriage return&lt;/li&gt;
&lt;li&gt;&lt;code&gt;L&lt;/code&gt; - Line feed&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quality codes indicate possible error of:&lt;/p&gt;
&lt;dt&gt;468-DC GOES Receiver  
GPS-TM/TMD Receiver&lt;/dt&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; +/- 500 milliseconds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt; +/- 50 milliseconds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; +/- 5 milliseconds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; +/- 1 millisecond&lt;/li&gt;
&lt;li&gt;space: less than 1 millisecond&lt;/li&gt;
&lt;/ul&gt;
&lt;dt&gt;OM-DC OMEGA Receiver:&lt;/dt&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&lt;/code&gt; +/- 5 seconds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; +/- 500 milliseconds # +/- 50 milliseconds&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; +/- 5 milliseconds . +/- 1 millisecond&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A-H&lt;/code&gt; less than 1 millisecond. Character indicates which station is being received as follows:  A = Norway, B = Liberia, C = Hawaii, D = North Dakota, E = La Reunion, F = Argentina, G = Australia, H = Japan&lt;/li&gt;
&lt;li&gt;The carriage return start bit begins on 0 seconds and extends to 1 bit time.&lt;/dd&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;dt&gt;TL-3 WWV Receiver:&lt;/dt&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; receiver is unlocked&lt;/li&gt;
&lt;li&gt;space +/- 5 milliseconds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Notes on 468-DC and OMEGA receiver:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Send the clock a &lt;tt&gt;R&lt;/tt&gt; or &lt;tt&gt;C&lt;/tt&gt; and once per second a timestamp will appear. Send a &lt;tt&gt;R&lt;/tt&gt; to get the satellite position once (GOES only).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Notes on the 468-DC receiver:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Since the old east/west satellite locations are only historical, you can&amp;rsquo;t set your clock propagation delay settings correctly and still use automatic mode. The manual says to use a compromise when setting the switches. This results in significant errors. The solution; use fudge time1 and time2 to incorporate corrections. If your clock is set for 50 and it should be 58 for using the west and 46 for using the east, use the line&lt;/p&gt;
&lt;p&gt;&lt;tt&gt;fudge 127.127.5.0 time1 +0.008 time2 -0.004&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;This corrects the 4 milliseconds advance and 8 milliseconds retard needed. The software will ask the clock which satellite it sees.&lt;/p&gt;
&lt;p&gt;The PCL720 from PC Labs has an Intel 8253 look-alike, as well as a bunch of TTL input and output pins, all brought out to the back panel. If you wire a PPS signal (such as the TTL PPS coming out of a GOES or other Kinemetrics/Truetime clock) to the 8253&amp;rsquo;s GATE0, and then also wire the 8253&amp;rsquo;s OUT0 to the PCL720&amp;rsquo;s INPUT3.BIT0, then we can read CTR0 to get the number of microseconds since the last PPS upward edge, mediated by reading OUT0 to find out if the counter has wrapped around (this happens if more than 65535us (65ms) elapses between the PPS event and our being called.)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Notes on the TL-3 receiver:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The mini-DIN RS-232 port uses the Apple pinout.&lt;/p&gt;
&lt;p&gt;Send the clock ST1 to turn on continuous (1/sec) timecodes. You can also enable &amp;ldquo;mode C&amp;rdquo; via the front panel. ST0 turns off this mode.&lt;/p&gt;
&lt;p&gt;QV will return the firmware revision (and is useful in identifying this clock.)&lt;/p&gt;
&lt;p&gt;QW will return its weekly signal log, useful if you&amp;rsquo;re testing antennas. You may wish to turn the loss interval down from 4h (04) to 1h (01), so the receiver declares itself unlocked sooner. When in holdover, drift can be on the order of 10 ms/hr since there is no high quality reference oscillator.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;When enabled by the &lt;tt&gt;flag4&lt;/tt&gt; fudge flag, every received timecode is written as-is to the &lt;tt&gt;clockstats&lt;/tt&gt; file.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, to be used for the West satellite, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;. Specifies the time offset calibration factor, in seconds and fraction, to be used for the East satellite, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;TRUE&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Silence the clock side of ntpd, just reading the clock without trying to write to it.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Generate a debug file /tmp/true%d.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Enable verbose &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Ultralink Clock</title>
      <link>/archives/drivers/driver34/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver34/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#model-325-timecode-format&#34;&gt;Model 325 timecode format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#model-320-timecode-format&#34;&gt;Model 320 timecode format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#model-33x-timecode-format&#34;&gt;Model 33x timecode format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver34/#fudge-factors&#34;&gt;Fudge factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.34.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;WWVB&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;ULINK&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/wwvb_u_&lt;/tt&gt;; 9600 bps, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;(none)&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the Ultralink Model 325 (replacement for Model 320) RS-232 powered WWVB receiver.&lt;/p&gt;
&lt;p&gt;This driver also supports the Model 320, 330,331,332 decoders in both polled or continous time code mode.Leap second and quality are supported. Most of this code is originally from refclock_wwvb.c with thanks. Any mistakes are mine. Any improvements are welcome.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;model-325-timecode-format&#34;&gt;Model 325 timecode format&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;&lt;cr&gt;&lt;lf&gt;RQ_1C00LYYYY+DDDUTCS_HH:MM:SSL+5&lt;/tt&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RQ&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Signal readability indicator, ranging from R1 to R5 where R1 is unreadable, R5 is best reception&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Space&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;prev. received data bit, values: 0, 1, M, or ? unknown&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Signal reception from &lt;code&gt;C&lt;/code&gt;olorado or &lt;code&gt;H&lt;/code&gt;awaii&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;00&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Hours since last WWVB time and flag code update, values 00 to 99 (hopefully always 00)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;HEX A5 if receiver is locked to WWVB, Space if not&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;YYYY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Year from 2000 to 2099&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;+&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;+&lt;/code&gt; if current year is a leap year, else &#39;&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DDD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;current day in the year from 1 to 365/366&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UTC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;timezone (always UTC)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Daylight savings indicator&lt;br&gt; &lt;code&gt;S&lt;/code&gt;TD&lt;br&gt; &lt;code&gt;D&lt;/code&gt;ST&lt;br&gt; &lt;code&gt;O&lt;/code&gt; transition into DST&lt;br&gt; &lt;code&gt;I&lt;/code&gt; transition out of DST&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UTC hour 0 to 23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time delimiter: &lt;code&gt;:&lt;/code&gt; if synced, space if not&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MM&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Minutes of current hour from 0 to 59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Seconds of current minute from 0 to 59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;mm&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;10&amp;rsquo;s milliseconds of the current second from 00 to 99&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Leap second pending at end of month: &lt;code&gt;I&lt;/code&gt;nsert, &lt;code&gt;D&lt;/code&gt;elete, or space&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;+5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UT1 correction in +/- .1 sec increments&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Note that Model 325 reports a very similar output like Model 33X series. The driver for this clock is similar to Model 33X behavior. On a unmodified new ULM325 clock, the polling flag (flag1 =1) needs to be set.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;model-320-timecode-format&#34;&gt;Model 320 timecode format&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;&lt;cr&gt;&lt;lf&gt;SQRYYYYDDD+HH:MM:SS.mmLT&lt;cr&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt;: sync&amp;rsquo;d in last hour&lt;br&gt; 0-9: hours x 10 since last update&lt;br&gt; else &lt;code&gt;?&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Q&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of correlating timeframes, from 0 to 5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;R&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;R&lt;/code&gt;: reception in progress&lt;br&gt; &lt;code&gt;N&lt;/code&gt;: Noisy reception&lt;br&gt; &#39;&#39; standby mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;YYYY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;year from 1990 to 2089&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DDD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;current day from 1 to 366&lt;br&gt; &lt;code&gt;+&lt;/code&gt; if current year is a leap year&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UTC hour 0 to 23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MM&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Minutes of current hour from 0 to 59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Seconds of current minute from 0 to 59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;mm&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;10&amp;rsquo;s milliseconds of the current second from 00 to 99&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Leap second pending at end of month&lt;br&gt; &lt;code&gt;I&lt;/code&gt;: insert&lt;br&gt; &lt;code&gt;D&lt;/code&gt; delete&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;T&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;DST to STD transition indicators&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Note that this driver does not do anything with the T flag. The M320 also has a &lt;code&gt;U&lt;/code&gt; command which returns UT1 correction information. It is not used in this driver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;model-33x-timecode-format&#34;&gt;Model 33x timecode format&lt;/h4&gt;
&lt;p&gt;&lt;tt&gt;S9+D 00 YYYY+DDDUTCS HH:MM:SSl+5&lt;/tt&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;sync indicator&lt;br&gt; &lt;code&gt;S&lt;/code&gt; insync&lt;br&gt; &lt;code&gt;N&lt;/code&gt; not in sync&lt;br&gt; the sync flag is WWVB decoder&lt;br&gt; sync has nothing to do with time being correct&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;9+&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;signal level 0 thru 9+&lt;br&gt; If over 9, indicated as 9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;D&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;data bit (fun to watch but useless), space&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;00&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;hours since last GOOD WWVB frame sync space&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;YYYY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;current year&lt;br&gt; &lt;code&gt;+&lt;/code&gt; leap year indicator&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DDD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;day of year&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UTC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;timezone (always UTC)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;S&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;daylight savings indicator space&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;hours : This is the REAL in sync indicator where &lt;code&gt;:&lt;/code&gt; means insync)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MM&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;minutes&lt;br&gt; &lt;code&gt;:&lt;/code&gt; in sync&lt;br&gt; &lt;code&gt;?&lt;/code&gt; NOT in sync&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;seconds&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;leap second flag&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;+5&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;UT1 correction (sign + digit)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This driver ignores UT1 correction, DST indicator, Leap year, and signal level.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge factors&lt;/h4&gt;
&lt;p&gt;flag1 polling enable (1=poll 0=no poll)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Undisciplined Local Clock</title>
      <link>/archives/drivers/driver1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver1/</guid>
      <description>
        
        
        &lt;p&gt;Author: David L. Mills (&lt;a href=&#34;mailto:mills@udel.edu&#34;&gt;mills@udel.edu&lt;/a&gt;)&lt;br&gt;
Last update: 9-May-2014 08:34 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver1/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver1/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver1/#monitor-data&#34;&gt;Monitor Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver1/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver1/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: 127.127.1.&lt;em&gt;u&lt;/em&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;LOCL&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;LOCAL&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Note&lt;/h4&gt;

    &lt;strong&gt;We recommend against using this driver.&lt;/strong&gt; A much more flexible replacement is described on the &lt;a href=&#34;/archives/4.2.8-series/orphan&#34;&gt;Orphan Mode&lt;/a&gt; page.

&lt;/div&gt;

&lt;p&gt;This driver was intended for use in an isolated network where no external source of synchronization such as a radio clock or modem is available. It allows a designated time server to act as a primary server to provide synchronization to other clients on the network. Pick a machine that has a good clock oscillator and configure it with this driver. Set the clock using the best means available, like eyeball-and-wristwatch. Then, point all the other machines at this one or use broadcast mode to distribute time.&lt;/p&gt;
&lt;p&gt;Another application for this driver is if a particular server clock is to be used as the clock of last resort when all other normal synchronization sources have gone away. This is especially useful if that server has an ovenized oscillator. For this you would usually, but not necessarily, configure this driver at a stratum greater than any other likely sources of time, such as the default 5 for this driver, to prevent this driver taking over when legitimate sources elsewhere in the network are available. To further protect the Internet infrastructure from accidental or malicious exposure to this driver, the driver is disabled if another source is available and operating.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;monitor-data&#34;&gt;Monitor Data&lt;/h4&gt;
&lt;p&gt;No &lt;tt&gt;filegen clockstats&lt;/tt&gt; monitor data are produced by this driver.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the frequency offset calibration factor, in parts per million, with default 0.0.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 5.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;LOCL&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Not used by this driver.&lt;/dd&gt;
&lt;/dl&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: USNO Modem Time Service</title>
      <link>/archives/drivers/driver24/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver24/</guid>
      <description>
        
        
        &lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver24/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver24/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver24/#fudge-factors&#34;&gt;Fudge Factors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;tt&gt;127.127.24.&lt;em&gt;u&lt;/em&gt;&lt;/tt&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;USNO&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;ACTS_USNO&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/cua_u_&lt;/tt&gt;; 1200 baud, 8-bits, no parity&lt;br&gt;
Requires: &lt;tt&gt;/usr/include/sys/termios.h&lt;/tt&gt; header file with modem control&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;No information available.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;fudge-factors&#34;&gt;Fudge Factors&lt;/h4&gt;
&lt;dt&gt;&lt;tt&gt;time1 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;time2 _time_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;stratum _number_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver stratum, in decimal from 0 to 15, with default 0.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;refid _string_&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Specifies the driver reference identifier, an ASCII string from one to four characters, with default &lt;tt&gt;USNO&lt;/tt&gt;.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag1 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag2 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag3 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Not used by this driver.&lt;/p&gt;
&lt;dt&gt;&lt;tt&gt;flag4 0 | 1&lt;/tt&gt;&lt;/dt&gt;
&lt;p&gt;Enable &lt;tt&gt;clockstats&lt;/tt&gt; recording if set.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Archives: Zyfer GPStarplus Receiver</title>
      <link>/archives/drivers/driver42/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/archives/drivers/driver42/</guid>
      <description>
        
        
        &lt;p&gt;Last update: 21-Oct-2010 23:44 UTC&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver42/#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver42/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/archives/drivers/driver42/#additional-information&#34;&gt;Additional Information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h4&gt;
&lt;p&gt;Address: &lt;code&gt;127.127.42._u_&lt;/code&gt;&lt;br&gt;
Reference ID: &lt;tt&gt;GPS&lt;/tt&gt;&lt;br&gt;
Driver ID: &lt;tt&gt;Zyfer GPStarplus&lt;/tt&gt;&lt;br&gt;
Serial Port: &lt;tt&gt;/dev/zyfer_u_&lt;/tt&gt;; 9600 baud, 8-bits, no parity&lt;br&gt;
Features: &lt;tt&gt;(none)&lt;/tt&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;This driver supports the &lt;a href=&#34;http://www.zyfer.com/&#34;&gt;Zyfer GPStarplus&lt;/a&gt; receiver.&lt;/p&gt;
&lt;p&gt;The receiver has a DB15 port on the back which has input TxD and RxD lines for configuration and control, and a separate TxD line for the once-per-second timestamp.&lt;/p&gt;
&lt;p&gt;Additionally, there are BNC connectors on the back for things like PPS and IRIG output.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;additional-information&#34;&gt;Additional Information&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;/archives/4.2.8-series/refclock&#34;&gt;Reference Clock Drivers&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
