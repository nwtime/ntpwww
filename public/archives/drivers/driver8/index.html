<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
  
  

  
  <meta name="description" content="Last update: 27-Jan-2014 05:31 UTC

Table of Contents

Synopsis
Description
Timecode variables listed by ntpq (8)
Supported Devices
Operation
Hardware …">
<meta property="og:title" content="Generic Reference Driver" />
<meta property="og:description" content="Last update: 27-Jan-2014 05:31 UTC
 Table of Contents  Synopsis Description Timecode variables listed by ntpq (8) Supported Devices Operation Hardware PPS support Monitor Data Fudge Factors Making your own PARSE clocks Additional Information   Synopsis Address: 127.127.8.u
Reference ID: PARSE
Driver ID: GENERIC
Serial Port: /dev/refclock-u; TTY mode according to clock type
PPS device: /dev/refclockpps-u; alternate PPS device (if not available via the serial port)
 Description The PARSE driver supports 20 different clock types/configurations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://doc.ntp.org/archives/drivers/driver8/" /><meta property="article:section" content="archives" />

<meta property="og:site_name" content="NTP: Network Time Protocol" />



  
  <title>Generic Reference Driver</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="NTP Documentation Archive">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/latest/normalize.css">
  
    <link rel="stylesheet" href="https://doc.ntp.org/plugins/bootstrap/bootstrap.min.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://doc.ntp.org/scss/nwtime.min.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://doc.ntp.org/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://doc.ntp.org/images/favicon.png " type="image/x-icon">
</head>
<body><!-- navigation -->
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<header class="sticky-top navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-light py-0">
		<div class="d-flex align-items-center" style="height:100px; width:100px;">
		 <a class="navbar-brand py-0" href="https://doc.ntp.org/"><img class="img-fluid" src="https://doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
      </div>
	  <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="bi-plus"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <ul class="navbar-nav ml-auto py-0">
          <li class="nav-item py-0">
            <a class="nav-link py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/"></a>
          </li>
          
          
          <li class="nav-item py-0">
            <a class="nav-link py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://www.nwtime.org">Network Time Foundation</a>
          </li>
          
          
          
          <li class="nav-item dropdown py-0">
            <a class="nav-link dropdown-toggle py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Reference Library
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/brief">Briefs</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/memos">Memos</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/reports">Reports</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/rfc">RFCs</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/software">Software</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/reflib/papers">White Papers</a>
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown py-0">
            <a class="nav-link dropdown-toggle py-0" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Docs
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.2.8-series/toc">4.2.8-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.2.6-series/toc">4.2.6-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.2.4-series/toc">4.2.4-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.2.2-series/toc">4.2.2-series</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.2.0/toc">4.2.0</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.1.2/toc">4.1.2</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.1.1/toc">4.1.1</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/4.1.0/toc">4.1.0</a>
              
              <a class="dropdown-item" style="text-decoration: none; font-size: 16px; font-family: 'Nunito Sans', sans-serif;" href="https://doc.ntp.org/archives/3-5.93e/toc">3-5.93e</a>
              
            </div>
          </li>
          
          
        </ul>
	<div class="navbar-nav d-none d-lg-block">
</div>
      </div>
    </nav>
  </div>
  <div class="header-border">
  </div>
</header>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/archives/">Docs</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/archives/drivers/">Drivers</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://doc.ntp.org/archives/drivers/driver8/">Generic Reference Driver</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>Generic Reference Driver</h1>
     
    <p>Last update: 27-Jan-2014 05:31 UTC</p>
<hr>
<h4 id="table-of-contents">Table of Contents</h4>
<ul>
<li><a href="/archives/drivers/driver8/#synopsis">Synopsis</a></li>
<li><a href="/archives/drivers/driver8/#description">Description</a></li>
<li><a href="/archives/drivers/driver8/#timecode-variables-listed-by-ntpq-8">Timecode variables listed by ntpq (8)</a></li>
<li><a href="/archives/drivers/driver8/#supported-devices">Supported Devices</a></li>
<li><a href="/archives/drivers/driver8/#operation">Operation</a></li>
<li><a href="/archives/drivers/driver8/#hardware-pps-support">Hardware PPS support</a></li>
<li><a href="/archives/drivers/driver8/#monitor-data">Monitor Data</a></li>
<li><a href="/archives/drivers/driver8/#fudge-factors">Fudge Factors</a></li>
<li><a href="/archives/drivers/driver8/#making-your-own-parse-clocks">Making your own PARSE clocks</a></li>
<li><a href="/archives/drivers/driver8/#additional-information">Additional Information</a></li>
</ul>
<hr>
<h4 id="synopsis">Synopsis</h4>
<p>Address: 127.127.8.<em>u</em><br>
Reference ID: PARSE<br>
Driver ID: GENERIC<br>
Serial Port: /dev/refclock-<em>u</em>; TTY mode according to clock type<br>
PPS device: /dev/refclockpps-<em>u</em>; alternate PPS device (if not available via the serial port)</p>
<hr>
<h4 id="description">Description</h4>
<p>The PARSE driver supports 20 different clock types/configurations. PARSE is actually a multi-clock driver.</p>
<p>The actual receiver status is mapped into various synchronization states generally used by receivers. The driver is configured to interpret the time codes of Meinberg DCF77 AM receivers, DCF77 FM receivers, Meinberg GPS16x/17x receivers, Trimble SV6 GPS, ELV DCF7000, Schmid, Wharton 400A and low cost receivers.</p>
<p>The reference clock support in NTP contains the necessary configuration tables for those receivers. In addition to supporting several different clock types and up to 4 devices, the processing of a PPS signal is also provided as a configuration option. The PPS configuration option uses the receiver-generated time stamps for feeding the PPS loopfilter control for much finer clock synchronization.</p>
<p>CAUTION: The PPS configuration option is different from the hardware PPS signal, which is also supported (see below), as it controls the way ntpd is synchronized to the reference clock, while the hardware PPS signal controls the way time offsets are determined.</p>
<p>The use of the PPS option requires receivers with an accuracy of better than 1ms.</p>
<hr>
<h4 id="timecode-variables-listed-by-ntpq-8">Timecode variables listed by ntpq (8)</h4>
<p>The ntpq program can read and display several clock variables. These hold the following information:</p>
<dt>refclock_format</dt>
<p>A qualification of the decoded time code format.</p>
<dt>refclock_states</dt>
<p>The overall running time and the accumulated times for the clock event states.</p>
<dt>refclock_status</dt>
<p>Lists the currently active receiver flags. Additional feature flags for the receiver are optionally listed in parentheses.</p>
<dt>refclock_time</dt>
<p>The local time with the offset to UTC (format HHMM).</p>
<dt>timecode</dt>
<p>The actual time code.</p>
<p>If PPS information is present, additional variables are available:</p>
<dt>refclock_ppsskew</dt>
<p>The difference between the RS-232-derived timestamp and the PPS timestamp.</p>
<dt>refclock_ppstime</dt>
<p>The PPS timestamp.</p>
<hr>
<h4 id="supported-devices">Supported Devices</h4>
<p>Currently, twenty-four clock types are supported by the PARSE driver and up to four devices (/dev/refclock-0 - /dev/refclock-3) of these clocks may be operational at any one time.</p>
<p>A note on the implementations:</p>
<ul>
<li>
<p>These implementations were mainly done without actual access to the hardware, thus not all implementations provide full support. The development was done with the help of many kind souls who had the hardware and kindly lent me their time and patience during the development and debugging cycle. Thus for continued support and quality, direct access to the receivers is a big help. Nevertheless I am not prepared to buy these reference clocks - donations to (<a href="mailto:kardel@ntp.org">kardel@ntp.org</a>) are welcome as long as they work within Europe.</p>
<p>Verified implementations are:</p>
<ul>
<li>
<p>RAWDCF variants</p>
<p>These variants have been tested for correct decoding with my own homegrown receivers. Interfacing with specific commercial products may involve some fiddling with cables. In particular, commercial RAWDCF receivers have a seemingly unlimited number of ways to draw power from the RS-232 port and to encode the DCF77 datastream. You are mainly on your own here unless I have a sample of the receiver.</p>
</li>
<li>
<p><a href="http://www.meinberg.de">Meinberg clocks</a></p>
<p>These implementations have been verified by the Meinberg people themselves and I have access to one of these clocks.</p>
</li>
<li>
<p><a href="http://www.selinc.com">Schweitzer Engineering Laboratories</a> SEL-240x clocks</p>
<p>This implementation was provided and verified by SEL and <a href="http://nwtime.org">Network Time Foundation</a> has an SEL-2407 in one of its development labs.</p>
</li>
</ul>
</li>
</ul>
<p>The pictures below have been taken from and are linked to the vendors' web pages.</p>
<p><a name="clocklist"></a></p>
<ul>
<li>
<p><strong>server 127.127.8.0-3 mode 0</strong></p>
<p><a href="http://www.meinberg.de">Meinberg</a> PZF5xx receiver family (FM demodulation/TCXO / 50μs)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 1</strong></p>
<p><a href="http://www.meinberg.de">Meinberg</a> PZF5xx receiver family (FM demodulation/OCXO / 50μs)<br>
<a href="http://www.meinberg.de/english/products/pzf-eurocard.htm"><img src="/archives/pic/pzf511.jpg" alt="Image PZF511"></a></p>
</li>
<li>
<p><a name="mode2"></a><strong>server 127.127.8.0-3 mode 2</strong></p>
<p><a href="http://www.meinberg.de">Meinberg</a> <a href="http://www.meinberg.de/english/products/c51.htm">DCF C51 receiver and similar</a> (AM demodulation / 4ms)<br>
<a href="http://www.meinberg.de/english/products/c51.htm"><img src="/archives/pic/c51.jpg" alt="Image C51"></a></p>
<p>This mode expects the Meinberg standard time string format with 9600/7E2.</p>
<p><strong>Note:</strong> mode 2 must also be used for <a href="http://www.meinberg.de/english/products/formfactor.htm#slot_card">Meinberg</a> PCI cards under Linux, e.g. <a href="http://www.meinberg.de/english/products/gps-pcicard.htm">the GPS PCI card</a> or <a href="http://www.meinberg.de/english/products/dcf-pcicard.htm">the DCF77 PCI card</a>. Please note the <a href="http://www.meinberg.de/english/sw/#linux">Meinberg Linux driver</a> must be installed. That driver emulates a refclock device in order to allow ntpd to access those cards. For details, please refer to the README file that comes with the Meinberg driver package.</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 3</strong></p>
<p><a href="http://www.elv.de">ELV</a> DCF7000 (sloppy AM demodulation / 50ms)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 4</strong></p>
<p>Walter Schmid DCF receiver Kit (AM demodulation / 1ms)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 5</strong></p>
<p>RAW DCF77 100/200ms pulses (Conrad DCF77 receiver module / 5ms)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 6</strong></p>
<p>RAW DCF77 100/200ms pulses (TimeBrick DCF77 receiver module / 5ms)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 7</strong></p>
<p><a href="http://www.meinberg.de">Meinberg</a> GPS16x/GPS17x receivers (GPS / &laquo;1μs)<br>
<a href="http://www.meinberg.de/english/products/gps-eurocard.htm"><img src="/archives/pic/gps167.jpg" alt="Image GPS167"></a></p>
<p>This mode expects either the University of Erlangen time string format or the Meinberg standard time string format at 19200/8N1.</p>
<p>The University of Erlangen format is preferred. Newer Meinberg GPS receivers can be configured to transmit that format; for older devices, a special firmware version may be available.</p>
<p>In this mode some additional GPS receiver status information is also read. However, this requires a point-to-point connection. Mode 18 should be used if the device is accessed by a multidrop connection.</p>
</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    mode 7 must not be used with Meinberg PCI cards; use mode 2 instead.

</div>

<ul>
<li>
<p><strong>server 127.127.8.0-3 mode 8</strong></p>
<p><a href="http://www.igel.de">IGEL</a> clock<br>
<img src="/archives/pic/igclock.gif" alt="Image IGEL clock">]</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 9</strong></p>
<p><a href="http://www.trimble.com">Trimble</a> SVeeSix GPS receiver TAIP protocol (GPS / &laquo;1μs)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 10</strong></p>
<p><a href="http://www.trimble.com">Trimble</a> SVeeSix GPS receiver TSIP protocol (GPS / &laquo;1μs) (no kernel support yet)<br>
<img src="/archives/pic/pd_om011.gif" alt="Image SVeeSix-CM3">
<img src="/archives/pic/pd_om006.gif" alt="Image Lassen-SK8"></p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 11</strong></p>
<p>Radiocode Clocks Ltd RCC 8000 Intelligent Off-Air Master Clock support</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 12</strong></p>
<p><a href="http://www.hopf-time.com">HOPF</a> Funkuhr 6021<br>
<img src="/archives/pic/fg6021.gif" alt="Image DCF77 Interface Board"></p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 13</strong></p>
<p>Diem&rsquo;s Computime Radio Clock</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 14</strong></p>
<p>RAWDCF receiver (DTR=high/RTS=low)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 15</strong></p>
<p>WHARTON 400A Series Clocks with a 404.2 Serial Interface</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 16</strong></p>
<p>RAWDCF receiver (DTR=low/RTS=high)</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 17</strong></p>
<p>VARITEXT Receiver (MSF)</p>
</li>
<li>
<p><a name="mode18"></a><strong>server 127.127.8.0-3 mode 18</strong></p>
<p><a href="http://www.meinberg.de">Meinberg</a> GPS16x/GPS17x receivers (GPS / &laquo;1μs)</p>
<p>This mode works without additional data communication (version, GPS status etc.) and thus should be used with multidrop, heterogeneous multiclient operation.</p>
<p><strong>Note:</strong> mode 18 must not be used with Meinberg PCI cards, use mode 2 instead.</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 19</strong></p>
<p>Gude Analog- und Digitalsystem GmbH &lsquo;Expert mouseCLOCK USB v2.0&rsquo;</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 20</strong></p>
<p>RAWDCF receiver similar to mode 14, but operating @ 75 baud (DTR=high/RTS=low)</p>
<p>Driving the DCF clocks at 75 baud may help to get them to work with a bunch of common USB serial converters, that do 75 but cannot do 50 baud at all, e.g. those based on Prolific PL2303.</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 21</strong></p>
<p>RAWDCF receiver similar to mode 16, but operating @ 75 baud (DTR=low/RTS=high)</p>
<p>See comment from mode 20 clock.</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 22</strong></p>
<p>MEINBERG, mode 2 but with POWERUP trust</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 23</strong></p>
<p>MEINBERG, mode 7 but with POWERUP trust</p>
</li>
<li>
<p><strong>server 127.127.8.0-3 mode 24</strong></p>
<p><a href="http://www.selinc.com/">Schweitzer Engineering Laboratories</a></p>
</li>
</ul>
<p>Actual data formats and setup requirements of the various clocks can be found in <a href="/archives/4.2.8-series/parsedata">NTP PARSE clock data formats</a>.</p>
<hr>
<h4 id="operation">Operation</h4>
<p>The reference clock support software carefully monitors the state transitions of the receiver. All state changes and exceptional events (such as loss of time code transmission) are logged via the syslog facility. Every hour a summary of the accumulated times for the clock states is listed via syslog.</p>
<p>PPS support is only available when the receiver is completely synchronized. The receiver is believed to deliver correct time for an additional period of time after losing synchronization, unless a disruption in time code transmission is detected (possible power loss). The trust period is dependent on the receiver oscillator and thus is a function of clock type.</p>
<p>Raw DCF77 pulses can be fed via a level converter to the RXD pin of an RS-232 serial port (pin 3 of a 25-pin connector or pin 2 of a 9-pin connector). The telegrams are decoded and used for synchronization. DCF77 AM receivers can be bought for as little as $25. The accuracy is dependent on the receiver and is somewhere between 2ms (expensive) and 10ms (cheap). Synchronization ceases when reception of the DCF77 signal deteriorates, since no backup oscillator is available as usually found in other reference clock receivers. So it is important to have a good place for the DCF77 antenna. During transmitter shutdowns you are out of luck unless you have other NTP servers with alternate time sources available.</p>
<p>In addition to the PPS loopfilter control, a true PPS hardware signal can be utilized via the PPSAPI interface. PPS pulses are usually fed via a level converter to the DCD pin of an RS-232 serial port (pin 8 of a 25-pin connector or pin 1 of a 9-pin connector). To select PPS support, the mode parameter is the mode value as above plus 128. If 128 is not added to the mode value, PPS will be detected to be available but will not be used.</p>
<hr>
<h4 id="hardware-pps-support">Hardware PPS support</h4>
<p>For PPS to be used, add 128 to the mode parameter.</p>
<p>If the PPS signal is fed in from a device different from the device providing the serial communication (/dev/refclock-{0..3}), this device is configured as /dev/refclockpps-{0..3}. This allows the PPS information to be fed in e.g. via the parallel port (if supported by the underlying operation system) and the date/time telegrams to be handled via the serial port.</p>
<hr>
<h4 id="monitor-data">Monitor Data</h4>
<p>Clock state statistics are written hourly to the syslog service. Online information can be found by examining the clock variables via the ntpq cv command.<br>
Some devices have quite extensive additional information (GPS16x/GPS17x, Trimble). The driver reads out much of the internal GPS data and makes it accessible via clock variables. To find out about additional variable names, query for the clock_var_list variable on a specific clock association as shown below.</p>
<p>First let ntpq display the table of associations:</p>
<pre>  ntpq> as    ind assID status  conf reach auth condition  last_event cnt    ===========================================================      1 19556  9154   yes   yes  none falsetick   reachable  5      2 19557  9435   yes   yes  none  candidat  clock expt  3      3 19558  9714   yes   yes  none  pps.peer   reachable  1  		</pre>
<p>Then switch to raw output. This may be required because of display limitations in ntpq/ntpd - so large lists need to be retrieved in several queries.</p>
<p><code>ntpq&gt; raw</code> <br>
<code>Output set to raw</code></p>
<p>Use the cv command to read the list of clock variables of a selected association:</p>
<p><code>ntpq&gt; cv 19557 clock_var_list</code></p>
<p>The long output of the command above looks similar to:</p>
<pre>  assID=19557 status=0x0000,    clock_var_list="type,timecode,poll,noreply,badformat,baddata,fudgetime1,    fudgetime2,stratum,refid,flags,device,clock_var_list,refclock_time,refclock_status,    refclock_format,refclock_states,refclock_id,refclock_iomode,refclock_driver_version,    meinberg_gps_status,gps_utc_correction,gps_message,meinberg_antenna_status,gps_tot_51,    gps_tot_63,gps_t0a,gps_cfg[1],gps_health[1],gps_cfg[2],gps_health[2],gps_cfg[3],    gps_health[3],gps_cfg[4],gps_health[4],gps_cfg[5]"  		</pre>
<p>Then use the cv command again to list selected clock variables. The following command must be entered as a single line:</p>
<pre>  ntpq> cv 19557 refclock_status,refclock_format,refclock_states,refclock_id,    refclock_iomode,refclock_driver_version,meinberg_gps_status,gps_utc_correction,    gps_message,meinberg_antenna_status,gps_tot_51,gps_tot_63,gps_t0a,gps_cfg[1],    gps_health[1],gps_cfg[2],gps_health[2],gps_cfg[3],gps_health[3],gps_cfg[4],    gps_health[4],gps_cfg[5]  		</pre>
<p>The output of the command above is wrapped around depending on the screen width and looks similar to:</p>
<pre>  status=0x0003,    refclock_status="UTC DISPLAY; TIME CODE; PPS; POSITION; (LEAP INDICATION;    PPS SIGNAL; POSITION)",    refclock_format="Meinberg GPS Extended",    refclock_states="*NOMINAL: 21:21:36 (99.99%); FAULT: 00:00:03 (0.00%);    running time: 21:21:39",    refclock_id="GPS", refclock_iomode="normal",    refclock_driver_version="refclock_parse.c,v 4.77 2006/08/05 07:44:49    kardel RELEASE_20060805_A",    meinberg_gps_status="[0x0000] <OK>",    gps_utc_correction="current correction 14 sec, last correction    on c7619a00.00000000  Sun, Jan  1 2006  0:00:00.000",    gps_message="/PFU3SOP-4WG14EPU0V1KA",    meinberg_antenna_status="RECONNECTED on 2006-07-18 08:13:20.0000000 (+0000)    UTC CORR, LOCAL TIME, reconnect clockoffset +0.0000000 s,    disconnect time 0000-00-00 00:00:00.0000000 (+0000) ",    gps_tot_51="week 1400 + 3 days + 42300.0000000 sec",    gps_tot_63="week 1400 + 3 days + 42294.0000000 sec",    gps_t0a="week 1400 + 5 days + 71808.0000000 sec",    gps_cfg[1]="[0x9] BLOCK II", gps_health[1]="[0x0] OK;SIGNAL OK",    gps_cfg[2]="[0x0] BLOCK I", gps_health[2]="[0x3f] PARITY;MULTIPLE ERRS",    gps_cfg[3]="[0x9] BLOCK II", gps_health[3]="[0x0] OK;SIGNAL OK",    gps_cfg[4]="[0x9] BLOCK II", gps_health[6]="[0x0] OK;SIGNAL OK",    gps_cfg[5]="[0x9] BLOCK II"  		</pre>
<hr>
<h4 id="fudge-factors">Fudge Factors</h4>
<dt>time1 _time_</dt>
<p>Specifies the time offset calibration factor, in seconds and fraction. The default value depends on the clock type.</p>
<dt>time2 _time_</dt>
<p>If flag1 is 0, time2 specifies the offset of the PPS signal from the actual time (PPS fine tuning).</p>
<p>If flag1 is 1, time2 specifies the number of seconds a receiver with a premium local oscillator can be trusted after losing synchronisation.</p>
<dt>stratum _stratum_</dt>
<p>The stratum for this reference clock.</p>
<dt>refid _refid_</dt>
<p>The refid for this reference clock.</p>
<dt>flag1 { 0 | 1 }</dt>
<p>If 0, the fudge factor time2 refers to the PPS offset.</p>
<p>If 1, time2 refers to the TRUST TIME.</p>
<dt>flag2 { 0 | 1 }</dt>
<p>If flag2 is 1, sample PPS on CLEAR instead of on ASSERT.</p>
<dt>flag3 { 0 | 1 }</dt>
<p>If flag3 is 1, link kernel PPS tracking to this refclock instance.</p>
<dt>flag4 { 0 | 1 }</dt>
<p>Delete next leap second instead of adding it. (You&rsquo;ll need to wait a bit for that to happen.</p>
<p><strong>Note about auxiliary Sun STREAMS modules (SunOS and Solaris):</strong><br>
The timecode of these receivers can be sampled via a STREAMS module in the kernel. (The STREAMS module has been designed for use with Sun systems under SunOS 4.1.x or Solaris 2.3 - 2.8. It can be linked directly into the kernel or loaded via the loadable driver mechanism.) This STREAMS module can be adapted to convert different time code formats. Nowadays the PPSAPI mechanism is usually used.</p>
<hr>
<h4 id="making-your-own-parse-clocks">Making your own PARSE clocks</h4>
<p>The parse clock mechanism deviates from the way other NTP reference clocks work. For a short description of how to build parse reference clocks, see <a href="/archives/4.2.8-series/parsenew">making PARSE clocks</a>.</p>
<hr>
<h4 id="additional-information">Additional Information</h4>
<p><a href="/archives/4.2.8-series/refclock">Reference Clock Drivers</a></p>

	  
  </div>
</section>
<footer class="navbar site-footer fixed-bottom py-0">
  <ul class="mx-auto">
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Mailing lists" aria-label="Mailing lists">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://lists.ntp.org/listinfo">
        <i class="bi-envelope"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
        <i class="bi-twitter"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
        <i class="bi-linkedin"></i>
      </a>
    </li>
    
    <li class="navbar-text" data-toggle="tooltip" data-placement="top" title="Facebook" aria-label="Facebook">
      <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
        <i class="bi-facebook"></i>
      </a>
    </li>
    
    <li class="navbar-text">
      <p>&copy; 2021 <a class="navbar-text text-white" href="https://www.nwtime.org">Network Time Foundation</a></p>	
    </li>
  </ul>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>









<script src="/js/main.min.ad396f5ec05b650939dd4f6fe40c9a7474e1e5cffab299383281b366113ce6bd.js" integrity="sha256-rTlvXsBbZQk53U9v5AyadHTh5c/6spk4MoGzZhE85r0=" crossorigin="anonymous"></script>



  </body>
</html>