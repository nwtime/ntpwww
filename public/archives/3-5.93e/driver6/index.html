<!doctype html><html lang=en><head><meta charset=utf-8><meta name=ROBOTS content="INDEX, FOLLOW"><meta name=description content="Table of Contents

Synopsis
Description
Monitor Data
Fudge Factors
Additional Information


Synopsis

Address: 127.127.6.u
Reference ID: IRIG
Driver â€¦"><meta property="og:title" content="IRIG Audio Decoder"><meta property="og:description" content="Table of Contents  Synopsis Description Monitor Data Fudge Factors Additional Information   Synopsis  Address: 127.127.6.u Reference ID: IRIG Driver ID: IRIG_AUDIO Audio Device: /dev/irigu Requires: modified SunOS 4.1.3 BSD audio driver and /usr/include/sys/bsd_audioirig.h header file   Description This driver supports the Inter-Range Instrumentation Group standard time-distribution signal IRIG-B using the audio codec native to the Sun SPARCstation. This signal is generated by several radio clocks, including those made by Austron, TrueTime, Odetics and Spectracom, among others, although it is generally an add-on option."><meta property="og:type" content="article"><meta property="og:url" content="https://test.doc.ntp.org/archives/3-5.93e/driver6/"><meta property="article:section" content="archives"><meta property="og:site_name" content="NTP: Network Time Protocol"><title>IRIG Audio Decoder</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=https://test.doc.ntp.org/plugins/bootstrap-5.0.2-dist/css/bootstrap.min.css><link rel=stylesheet href=https://test.doc.ntp.org/scss/nwtime.min.css media=screen><link rel="shortcut icon" href=https://test.doc.ntp.org/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=https://test.doc.ntp.org/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=https://test.doc.ntp.org/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://test.doc.ntp.org/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://test.doc.ntp.org/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://test.doc.ntp.org/favicons/android-chrome-512x512.png sizes=512x512></head><body><header class="sticky-top navigation"><div class=container><nav class="navbar navbar-expand-lg navbar-light py-0"><div class="d-flex align-items-center" style=height:80px;width:80px><a class="py-0 mx-1" href=https://www.nwtime.org><img class=img-fluid src=https://test.doc.ntp.org/images/logo.png alt></a></div><div class="d-flex align-items-center" style=height:80px;width:80px><a class="navbar-brand py-0 mx-1" href=https://test.doc.ntp.org/><img class=img-fluid src=https://test.doc.ntp.org/images/ntp_logo.jpg alt="NTP: Network Time Protocol"></a></div><button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class=bi-plus></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto py-0"><li class="nav-item py-0"><a class="nav-link py-0" style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/></a></li><li class="nav-item dropdown py-0"><a class="nav-link dropdown-toggle py-0" style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Support</a><div class=dropdown-menu><a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://support.ntp.org/>Support Wiki</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://support.ntp.org/bin/view/Servers/WebHome>Time Servers</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/support/securitynotice>Security</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/ntpfaq>FAQ</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://support.ntp.org/bin/view/Dev/WebHome>Developer Resources</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/contributorslist>Contributors List</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/contact>Contacts</a></div></li><li class="nav-item dropdown py-0"><a class="nav-link dropdown-toggle py-0" style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Reference Library</a><div class=dropdown-menu><a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/brief>Briefs</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/memos>Memos</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/reports>Reports</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/rfc>RFCs</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/software>Software</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/reflib/papers>White Papers</a></div></li><li class="nav-item dropdown py-0"><a class="nav-link dropdown-toggle py-0" style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Documentation</a><div class=dropdown-menu><a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.2.8-series>4.2.8-series</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.2.6-series>4.2.6-series</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.2.4-series>4.2.4-series</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.2.2-series>4.2.2-series</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.2.0>4.2.0</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.1.2>4.1.2</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.1.1>4.1.1</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/4.1.0>4.1.0</a>
<a class=dropdown-item style="text-decoration:none;font-size:16px;font-family:nunito sans,sans-serif" href=https://test.doc.ntp.org/archives/3-5.93e>3-5.93e</a></div></li></ul></div><script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script><div class=gcse-search></div></nav></div><div class=header-border></div></header><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://test.doc.ntp.org/documentation/>Documentation</a></li><li class=breadcrumb-item><a href=https://test.doc.ntp.org/archives/3-5.93e/>3-5.93e</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://test.doc.ntp.org/archives/3-5.93e/driver6/>IRIG Audio Decoder</a></li></ol></nav><section class="section pt-0 pb-auto"><div class=container><h1>IRIG Audio Decoder</h1><h4 id=table-of-contents>Table of Contents</h4><ul><li><a href=/archives/3-5.93e/driver6/#synopsis>Synopsis</a></li><li><a href=/archives/3-5.93e/driver6/#description>Description</a></li><li><a href=/archives/3-5.93e/driver6/#monitor-data>Monitor Data</a></li><li><a href=/archives/3-5.93e/driver6/#fudge-factors>Fudge Factors</a></li><li><a href=/archives/3-5.93e/driver6/#additional-information>Additional Information</a></li></ul><hr><h4 id=synopsis>Synopsis</h4><dl><dt><strong>Address:</strong> <code>127.127.6.<em>u</em></code></dt><dd><strong>Reference ID:</strong> <code>IRIG</code></dd><dd><strong>Driver ID:</strong> <code>IRIG_AUDIO</code></dd><dd><strong>Audio Device:</strong> <code>/dev/irigu</code></dd><dd><strong>Requires:</strong> modified SunOS 4.1.3 BSD audio driver and <code>/usr/include/sys/bsd_audioirig.h</code> header file</dd></dl><hr><h4 id=description>Description</h4><p>This driver supports the Inter-Range Instrumentation Group standard time-distribution signal IRIG-B using the audio codec native to the Sun SPARCstation. This signal is generated by several radio clocks, including those made by Austron, TrueTime, Odetics and Spectracom, among others, although it is generally an add-on option. The signal is connected via an attenuator box and cable to the audio codec input on a Sun SPARCstation and requires a specially modified kernel audio driver described in the <a href=/archives/3-5.93e/irig/>IRIG Support Using Sun SPARC Audio</a> page.</p><p>The driver requires a modified SunOS 4.1.3 BSD audio driver available as a compressed <a href=/reflib/software/ntp3/bsd_audio.tar.Z>tar archive</a>. For ordinary audio applications, the audio driver is transparent; for use with the NTP driver, the audio driver decodes the IRIG audio signals and provides a timestamp, raw binary timecode, status byte and decoded ASCII timecode. The data are represented in the structure in the <code>sys/bsd_audioirig.h</code> header file:</p><pre>     struct irig_time {
          struct timeval stamp;    /* timestamp */
          u_char    bits[13];      /* 100 IRIG data bits */
          u_char    status;        /* status byte */
          char      time[14];      /* time string (null terminated) */
</pre><p>where stamp represents a timestamp at the zero crossing of the index marker at the second&rsquo;s epoch, bits is a 13-octet, zero-padded binary- coded string representing code elements 1 through 100 in the IRIG-B code format, and status is a status byte, The decoded timestamp is a 13- octet, null-terminated ASCII string <code>ddd hh:mm:ss*</code>, where <code>ddd</code> is the day of year, <code>hh:mm:ss</code> the time of day, and <code>*</code> is a status indicator, with ' ' indicating valid time and <code>?</code> indicating something wrong.</p><p>The timestamp is in Unix timeval format, consisting of two 32-bit words, the first of which is the seconds since 1970 and the second is the fraction of the second in microseconds. The status byte is zero if (a) the input signal is within amplitude tolerances, (b) the raw binary timecode contains only valid code elements, (c) 11 position identifiers have been found at the expected element positions, (d) the clock status byte contained in the timecode is valid, and (e) a time determination has been made since the last read() system call.</p><p>The 100 elements of the IRIG-B timecode are numbered from 0 through 99. Position identifiers occur at elements 0, 9, 19 and every ten thereafter to 99. The control function (CF) elements begin at element 50 (CF 1) and extend to element 78 (CF 27). The straight-binary-seconds (SBS) field, which encodes the seconds of the UTC day, begins at element 80 (CF 28) and extends to element 97 (CF 44). The encoding of elements 50 (CF 1) through 78 (CF 27) is device dependent. This driver presently does not use the CF elements.</p><p>Where feasible, the interface should be operated with signature control, so that, if the IRIG signal is lost or malformed, the interface produces an unmodulated signal, rather than possibly random digits. The driver will declare itself unsynchronized in this case.</p><pre>     Element   CF        Function
     -------------------------------------
     55        6         time sync status
     60-63     10-13     bcd year units
     65-68     15-18     bcd year tens
</pre><p>Timing jitter using the decoder and a Sun IPC is in the order of a few microseconds, although the overall timing accuracy is limited by the wander of the CPU oscillator used for timing purposes to a few hundred microseconds. These figures are comparable with what can be achieved using the PPS discipline as describe elsewhere in this note.</p><hr><h4 id=monitor-data>Monitor Data</h4><p>The driver writes each timecode as received to the <code>clockstats</code> file.</p><hr><h4 id=fudge-factors>Fudge Factors</h4><dl><dt><code><strong>time1 <em>time</em></strong></code></dt><dd><p>Specifies the time offset calibration factor, in seconds and fraction, with default 0.0.</p></dd><dt><code><strong>time2 <em>time</em></strong></code></dt><dd><p>Not used by this driver.</p></dd><dt><code><strong>stratum <em>number</em></strong></code></dt><dd><p>Specifies the driver stratum, in decimal from 0 to 15, with default 0.</p></dd><dt><code><strong>refid <em>string</em></strong></code></dt><dd><p>Specifies the driver reference identifier, an ASCII string from one to four characters, with default <code>IRIG</code>.</p></dd><dt><code><strong>flag1 0 | 1</strong></code></dt><dd><p>Not used by this driver.</p></dd><dt><code><strong>flag2 0 | 1</strong></code></dt><dd><p>Not used by this driver.</p></dd><dt><code><strong>flag3 0 | 1</strong></code></dt><dd><p>Not used by this driver.</p></dd><dt><code><strong>flag4 0 | 1</strong></code></dt><dd><p>Enable <code>clockstats</code> recording if set.</p></dd></dl><hr><h4 id=additional-information>Additional Information</h4><p><a href=/archives/3-5.93e/refclock/>Reference Clock Drivers</a></p></div></section><footer class="navbar site-footer fixed-bottom pb-0 py-0"><div class=container-fluid style=height:3%><ul class="nav justify-content-center"><li class=nav-item data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class="nav-link text-white" target=_blank rel="noopener noreferrer" href=https://twitter.com/ntp><img src=images/icons/twitter.svg width=16 height=16></img></a></li><li class=nav-item data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class="nav-link text-white" target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/groups/4651343><img src=images/icons/linkedin.svg width=16 height=16></img></a></li><li class=nav-item data-toggle=tooltip data-placement=top title=Facebook aria-label=Facebook><a class="nav-link text-white" target=_blank rel="noopener noreferrer" href=https://www.facebook.com/networktimeprotocol><img src=images/icons/facebook.svg width=16 height=16></img></a></li></ul><ul class="mx-auto pt-3"><li class=nav-item><p>&copy; 2022 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></li></ul></div></footer></body></html>