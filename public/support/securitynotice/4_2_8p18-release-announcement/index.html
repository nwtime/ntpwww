<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW"><link rel="canonical" href="https://www.ntp.org/support/securitynotice/4_2_8p18-release-announcement/" />
  
  <meta property="og:title" content="4.2.8p18 Release Announcement" />
<meta property="og:description" content="The NTP Project at Network Time Foundation publicly released NTP 4.2.8p18 on May 25, 2024. This release fixes 40 bugs and provides 40 improvement." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ntp.org/support/securitynotice/4_2_8p18-release-announcement/" /><meta property="og:image" content="https://www.ntp.org/images/NTPLogo800x418.webp"/><meta property="article:section" content="support" />

<meta property="article:modified_time" content="2024-05-25T12:49:01&#43;01:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.ntp.org/images/NTPLogo800x418.webp"/>

<meta name="twitter:title" content="4.2.8p18 Release Announcement"/>
<meta name="twitter:description" content="The NTP Project at Network Time Foundation publicly released NTP 4.2.8p18 on May 25, 2024. This release fixes 40 bugs and provides 40 improvement."/>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-K07ZJQFYSZ"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-K07ZJQFYSZ', { 'anonymize_ip': true });
</script>





<script>
window.onload = demo;
function demo() {
    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search...")
}
</script>


<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "c33igkoodm");
</script>


  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>4.2.8p18 Release Announcement</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The NTP Project at Network Time Foundation publicly released NTP 4.2.8p18 on May 25, 2024. This release fixes 40 bugs and provides 40 improvement.">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://www.ntp.org/scss/nwtime.min.88a7f853c9f0350ac0942eda114d25cc.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://www.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://www.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://www.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://www.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://www.ntp.org/"><img height="80" width="80" src="https://www.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/current-stable/">Documentation</a>
        </button>
      
	
	  <button class="btn btn-primary btn-lg" type="button"><a class="nav-item btn btn-primary btn-lg" style="text-decoration: none; text-transform: uppercase" href="https://www.ntp.org/donate/">Support NTP<br>Donate Today!</a>
      </button>
    </div>



<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>

</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/support/">Support</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://www.ntp.org/support/securitynotice/">Security</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://www.ntp.org/support/securitynotice/4_2_8p18-release-announcement/">4.2.8p18 Release Announcement</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>4.2.8p18 Release Announcement</h1> 
    <p style="font-size: small; color: grey;">Last update: May 25, 2024 12:49 UTC (<a href="https://git.nwtime.org/websites/ntpwww/commit/0eb8a6f62e9e8db17b3bbf9370fb7ac570ff87c9">0eb8a6f62</a>)</p>
	<p>The NTP Project, part of Network Time Foundation (NTF), is pleased to announce the release candidate for NTP 4.2.8p18, a Point Release of the Reference Implementation of the Network Time Protocol (NTP) software. It is available at <a href="https://downloads.nwtime.org/ntp/">https://downloads.nwtime.org/ntp/</a> or by pointing your ftp client to <a href="mailto:anonymous@ftp.nwtime.org">anonymous@ftp.nwtime.org</a>.</p>
<ul>
<li>File-size: 7210799 bytes</li>
<li>MD5 (ntp-4.2.8p18.tar.gz) = 516bdabd94ab7c824e9771390761a46c</li>
<li>SHA256 (ntp-4.2.8p18.tar.gz) = cf84c5f3fb1a295284942624d823fffa634144e096cfc4f9969ac98ef5f468e5</li>
</ul>
<p>ntp-4.2.8p18 is a RECOMMENDED upgrade for all users. It fixes 40 bugs and provides 40 other improvements:</p>
<ul>
<li><a href="https://bugs.ntp.org/3918">Bug 3918 Tweak openssl header/library handling</a>. stenn@</li>
<li><a href="https://bugs.ntp.org/3914">Bug 3914 Spurious &ldquo;Unexpected origin timestamp&rdquo; logged after time stepped</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3913">Bug 3913 Avoid duplicate IPv6 link-local manycast associations</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3912">Bug 3912 Avoid rare math errors in <code>ntptrace</code></a>. Brian Utterback</li>
<li><a href="https://bugs.ntp.org/3910">Bug 3910 Memory leak using openssl-3</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3909">Bug 3909 Do not select multicast local address for unicast peer</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3903">Bug 3903 <code>lib/isc/win32/strerror.c NTstrerror()</code> is not thread-safe</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3901">Bug 3901 <code>LIB_GETBUF</code> isn&rsquo;t thread-safe</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3900">Bug 3900 <code>fast_xmit()</code> selects wrong local addr responding to mcast on Windows</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3888">Bug 3888 <code>ntpd</code> with multiple same-subnet IPs using manycastclient creates duplicate associations</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3872">Bug 3872 Ignore restrict mask for hostname</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3871">Bug 3871 4.2.8p17 build without hopf6021 refclock enabled fails</a>.
<ul>
<li>Reported by Hans Mayer.</li>
<li>Moved <code>NONEMPTY_TRANSLATION_UNIT</code> declaration from <code>ntp_types.h</code> to <code>config.h</code>. hart@</li>
</ul>
</li>
<li><a href="https://bugs.ntp.org/3870">Bug 3870 Server drops client packets with <code>ppoll</code> &lt; 4</a>. stenn@</li>
<li><a href="https://bugs.ntp.org/3869">Bug 3869 Remove long-gone <code>calldelay</code> &amp; <code>crypto sign</code> from docs</a>.
<ul>
<li>Reported by PoolMUC. hart@</li>
</ul>
</li>
<li><a href="https://bugs.ntp.org/3868">Bug 3868 Cannot restrict a pool peer</a>. hart@
<ul>
<li>Thanks to Edward McGuire for tracking down the deficiency.</li>
</ul>
</li>
<li><a href="https://bugs.ntp.org/3864">Bug 3864 <code>ntpd</code> IPv6 refid different for big-endian and little-endian</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3859">Bug 3859 Use <code>NotifyIpInterfaceChange</code> on Windows <code>ntpd</code></a>. hart@</li>
<li><a href="https://bugs.ntp.org/3856">Bug 3856 Enable Edit &amp; Continue debugging with Visual Studio</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3855">Bug 3855 <code>ntpq</code> lacks an equivalent to <code>ntpdc</code>&rsquo;s <code>delrestrict</code></a>. hart@</li>
<li><a href="https://bugs.ntp.org/3854">Bug 3854 <code>ntpd</code> 4.2.8p17 corrupts rawstats file with space in refid</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3853">Bug 3853 Clean up warnings with modern compilers</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3852">Bug 3852 <code>check-libntp.mf</code> and friends are not triggering rebuilds as intended</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3851">Bug 3851 Drop pool server when no local address can reach it</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3850">Bug 3850 <code>ntpq -c apeers</code> breaks column formatting s2 w/refclock refid</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3849">Bug 3849 <code>ntpd --wait-sync</code> times out</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3847">Bug 3847 SSL detection in configure should run-test if runpath is needed</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3846">Bug 3846 Use <code>-Wno-format-truncation</code> by default</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3845">Bug 3845 accelerate pool clock_sync when IPv6 has only link-local access</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3842">Bug 3842 Windows <code>ntpd</code> PPSAPI DLL load failure crashes</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3841">Bug 3841 4.2.8p17 build break w/ <code>gcc</code> 12 <code>-Wformat-security</code> without <code>-Wformat</code></a>. Need to remove <code>--Wformat-security</code> when removing <code>-Wformat</code> to silence numerous <code>libopts</code> warnings. hart@</li>
<li><a href="https://bugs.ntp.org/3837">Bug 3837 NULL pointer deref crash when <code>ntpd</code> deletes last interface</a>.
<ul>
<li>Reported by renmingshuai.</li>
<li>Correct <code>UNLINK_EXPR_SLIST()</code> when the list is empty. hart@</li>
</ul>
</li>
<li><a href="https://bugs.ntp.org/3835">Bug 3835 <code>NTP_HARD_*FLAGS</code> not used by l<code>ibevent</code> tearoff</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3831">Bug 3831 <code>pollskewlist</code> zeroed on runtime configuration</a>. hart@</li>
<li><a href="https://bugs.ntp.org/3830">Bug 3830 <code>configure</code> libevent check intersperses output with answer</a>. stenn@</li>
<li><a href="https://bugs.ntp.org/3828">Bug 3828 BK should ignore a git repo in the same directory</a>. burnicki@</li>
<li><a href="https://bugs.ntp.org/3827">Bug 3827 Fix build in case <code>CLOCK_HOPF6021</code> or <code>CLOCK_WHARTON_400A</code> is disabled</a>. burnicki@</li>
<li><a href="https://bugs.ntp.org/3825">Bug 3825 Don&rsquo;t touch HTML files unless building inside a BK repo</a>. Fix the script checkHtmlFileDates. burnicki@</li>
<li><a href="https://bugs.ntp.org/3756">Bug 3756 Improve OpenSSL library/header detection</a>.</li>
<li><a href="https://bugs.ntp.org/3753">Bug 3753 <code>ntpd</code> fails to start with FIPS-enabled OpenSSL 3</a>. hart@</li>
<li><a href="https://bugs.ntp.org/2734">Bug 2734 TEST3 prevents initial interleave sync</a>.
<ul>
<li>Fix from PoolMUC</li>
</ul>
</li>
<li>Remove extraneous <code>*/</code> from <code>libparse/ieee754io.c</code>.</li>
<li>Fix <code>.datecheck</code> target line in <code>Makefile.am</code>. stenn@</li>
<li>Log failures to allocate receive buffers. hart@</li>
<li>Update the copyright year. stenn@</li>
<li>Update <code>ntp.conf</code> documentation to add <code>delrestrict</code> and correct information about KoD rate limiting. hart@</li>
<li><code>html/clockopt.html</code> cleanup. stenn@</li>
<li><code>util/lsf-times</code> - added. stenn@</li>
<li>Add DSA, DSA-SHA, and SHA to <code>tests/libntp/digests.c</code>. hart@</li>
<li>Provide <code>ntpd</code> thread names to debugger on Windows. hart@</li>
<li>Remove dead code <code>libntp/numtohost.c</code> and its unit tests. hart@</li>
<li>Remove class A, B, C IPv4 distinctions in <code>netof()</code>. hart@</li>
<li>Use <code>@configure_input@</code> in various <code>*.in</code> files to include a comment that the file is generated from another pointing to the <code>*.in</code>. hart@</li>
<li>Correct underquoting, indents in <code>ntp_facilitynames.m4</code>. hart@</li>
<li>Clean up a few warnings seen building with older <code>gcc</code>. hart@</li>
<li>Fix build on older FreeBSD lacking <code>sys/procctl.h</code>. hart@</li>
<li>Disable <a href="https://bugs.ntp.org/3627">Bug 3627</a> workaround on newer FreeBSD which has the kernel fix that makes it unnecessary, re-enabling ASLR stack gap. hart@</li>
<li>Use <code>NONEMPTY_COMPILATION_UNIT</code> in more conditionally-compiled files.</li>
<li>Remove useless pointer to Windows Help from system error messages.</li>
<li>Avoid newlines within Windows error messages. hart@</li>
<li>Ensure unique association IDs if wrapped. hart@</li>
<li>Simplify <code>calc_addr_distance()</code>. hart@</li>
<li>Clamp min/maxpoll in edge cases in <code>newpeer()</code>. hart@</li>
<li>Quiet local addr change logging when unpeering. hart@</li>
<li>Correct missing arg for <code>%s printf</code> specifier in <code>send_blocking_resp_internal()</code>. hart@</li>
<li>Suppress OpenSSL 3 deprecation warning clutter. hart@</li>
<li>Correct OpenSSL usage in Autokey code to avoid warnings about discarding const qualifiers with OpenSSL 3. hart@</li>
<li>Display KoD refid as text in recently added message. hart@</li>
<li>Avoid running <code>checkHtmlFileDates</code> script repeatedly when no <code>html/*.html</code> files have changed. hart@</li>
<li>Abort <code>configure</code> if <code>--enable-crypto-rand</code> given &amp; unavailable. hart@</li>
<li>Add <code>configure --enable-verbose-ssl</code> to trace SSL detection. hart@</li>
<li>Add build test coverage for <code>--disable-saveconfig</code> to <code>flock-build</code> script. hart@</li>
<li>Remove deprecated <code>configure --with-arlib</code> option. hart@</li>
<li>Remove <code>configure</code> support for ISC UNIX ca. 1998. hart@</li>
<li>Move <code>NTP_OPENSSL</code> and <code>NTP_CRYPTO_RAND</code> invocations from <code>configure.ac</code> files to <code>NTP_LIBNTP</code>. hart@</li>
<li>Move <code>ENABLE_CMAC</code> to <code>ntp_openssl.m4</code>, enabling <code>sntp/tests</code> CMAC unit tests. hart@</li>
<li>Remove dead code: <code>HAVE_U_INT32_ONLY_WITH_DNS</code>. hart@</li>
<li>Eliminate <code>[v]snprintf</code> redefinition warnings on macOS. hart@</li>
<li>Fix clang 14 cast increases alignment warning on Linux. hart@</li>
<li>Use <code>NTP_HARD_CPPFLAGS</code> in <code>libopts</code> tearoff. hart@</li>
<li>Wire in <code>--enable-build-framework-help</code>.</li>
</ul>
<p>Please report any bugs, issues, or desired enhancements via <a href="https://bugs.ntp.org/">https://bugs.ntp.org/</a>.</p>
<p>End-user and developer support for NTP, both community and professional, is <a href="https://www.ntp.org/support/">available</a>.</p>
<p>Additional resources and information about the NTP Project’s Reference Implementation of NTP is available at <a href="https://www.ntp.org/">https://www.ntp.org/</a>.</p>
<p>Support Network Time Foundation and the NTP Project - donate or join at <a href="https://www.nwtime.org/">https://www.nwtime.org/</a>.</p>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="https://www.ntp.org/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="https://www.ntp.org/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2024 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>