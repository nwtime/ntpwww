<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW"><link rel="canonical" href="https://doc.ntp.org/support/securitynotice/4_2_8p1-release-announcement/" />
  
  <meta property="og:title" content="4.2.8p1 Release Announcement" />
<meta property="og:description" content="NTF&rsquo;s NTP Project has been notified of a number of vulnerabilities from Neel Mehta and Stephen Roettger of Google&rsquo;s Security Team.
The two most serious of these issues and four less serious issues have been resolved as of ntp-4.2.8, which was released on 18 December 2014.
The remaining two issues are addressed by 4.2.8p1, which was released on 4 February 2015.
 2671: vallen is not validated in several places in ntp_crypto." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://doc.ntp.org/support/securitynotice/4_2_8p1-release-announcement/" /><meta property="og:image" content="https://doc.ntp.org/images/sundial.jpg"/><meta property="article:section" content="support" />
<meta property="article:published_time" content="2015-02-04T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-02-15T15:25:41&#43;00:00" /><meta property="og:site_name" content="NTP: Network Time Protocol" />



<script async src="https://www.googletagmanager.com/gtag/js?id=G-K07ZJQFYSZ"></script>
<script>
var doNotTrack = true;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-K07ZJQFYSZ', { 'anonymize_ip': true });
}
</script>





<script>
window.onload = demo;
function demo() {
    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search...")
}
</script>


<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "c33igkoodm");
</script>


  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel="stylesheet"/>
   
  <title>4.2.8p1 Release Announcement</title>

  <!-- Mobile Responsive Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The NTP Project conducts Research and Development in NTP, a protocol designed to synchronize the clocks of computers over a network to a common timebase.">
  
  <meta name="generator" content="Hugo 0.83.1" />

  <!-- Plugins -->
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://doc.ntp.org/scss/nwtime.min.628523c03b8d13d316307f90d6bec3f6.css" media="screen">

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://doc.ntp.org/favicons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://doc.ntp.org/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://doc.ntp.org/favicons/android-chrome-512x512.png" sizes="512x512"></head>
<body><!-- navigation -->

<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">


	<div>
	  <a class="navbar-brand" href="https://www.nwtime.org"><img height="80" width="80" src="https://doc.ntp.org/images/logo.png" alt=""></a>
	  <a class="navbar-brand" href="https://doc.ntp.org/"><img height="80" width="80" src="https://doc.ntp.org/images/ntp_logo.jpg" alt="NTP: Network Time Protocol"></a> 
    </div>


    <div>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/support/">Support</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/reflib/">Reference Library</a>
        </button>
      
		<button class="btn btn-light btn-lg" type="button" aria-expanded="false"><a class="nav-item" style="text-decoration: none; text-transform: uppercase" href="https://doc.ntp.org/documentation/">Documentation</a>
        </button>
      
    </div>



<script async src="https://cse.google.com/cse.js?cx=bb3c9b3e375d856be"></script>
  <div class="gcse-search">
  </div>

</nav>


  <div class="header-border">
  </div>
<!-- /navigation --><nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/support/">Support</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://doc.ntp.org/support/securitynotice/">Security</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://doc.ntp.org/support/securitynotice/4_2_8p1-release-announcement/">4.2.8p1 Release Announcement</a>
</li>

	</ol>
</nav	>


<section class="section pt-0  pb-auto">
  <div class="container">
  	<h1>4.2.8p1 Release Announcement</h1>
     
    <p style="font-size: small; color: grey;">Last update: February 15, 2022 15:25 UTC (<a href="https://bitbucket.nwtime.org/projects/WEBSITES/repos/ntpwww/commits/b158e7036d994d06570e8bcaa5bbfe919b4bf452">b158e7036</a>)</p>
	<p>NTF&rsquo;s NTP Project has been notified of a number of vulnerabilities from Neel Mehta and Stephen Roettger of Google&rsquo;s Security Team.</p>
<p>The two most serious of these issues and four less serious issues have been resolved as of <a href="https://doc.ntp.org/support/securitynotice/4_2_8-release-announcement/">ntp-4.2.8</a>, which was released on 18 December 2014.</p>
<p>The remaining two issues are addressed by 4.2.8p1, which was released on 4 February 2015.</p>
<ul>
<li><a href="https://doc.ntp.org/support/securitynotice/ntpbug2671/">2671: vallen is not validated in several places in ntp_crypto.c, leading to a potential info leak or possibly crashing ntpd</a> / <a href="https://nvd.nist.gov/vuln/detail/CVE-2014-9297">CVE-2014-9297</a></li>
<li><a href="https://doc.ntp.org/support/securitynotice/ntpbug2672/">2672: ::1 can be spoofed on some OSes, so ACLs based on IPv6 ::1 addresses can be bypassed</a> / <a href="https://nvd.nist.gov/vuln/detail/CVE-2014-9298">CVE-2014-9298</a></li>
</ul>
<p>These are the vulnerabilities from Neel Mehta and Stephen Roettger of Google&rsquo;s Security Team:</p>
<ul>
<li>We have been generating a weak default key if no authentication key is defined in the <code>ntp.conf</code> file.</li>
<li><code>ntp-keygen</code> before 4.2.7p230 used a non-cryptographic random number generator with a weak seed to generate symmetric keys.</li>
<li>It&rsquo;s possible to overflow a stack buffer in <code>crypto_recv()</code> when using autokey and potentially allow malicious code to be executed with the privilege level of the <code>ntpd</code> process.</li>
<li>It&rsquo;s possible to overflow a buffer in <code>ctl_putdata()</code> and potentially allow malicious code to be executed with the privilege level of the <code>ntpd</code> process.</li>
<li>It&rsquo;s possible to overflow a buffer in <code>configure()</code> and potentially allow malicious code to be executed with the privilege level of the <code>ntpd</code> process.</li>
<li>A missing <code>return;</code> in a rare error condition case in <code>ntp_proto.c:receive()</code> will cause a temporary association to become mobilized. While we haven&rsquo;t yet found a way this can be exploited, an exploit might be possible.</li>
<li>In several places, the <code>vallen</code> packet value in <code>ntp_crypto.c</code> is not validated, which can lead to information leakage.</li>
<li>If ::1 is spoofed on some OSes, the packet is processed instead of being dropped, so ACLs based on IPv6 ::1 addresses can be bypassed. This could allow an attacker to tell your <code>ntpd</code> to, among other things, reconfigure itself.</li>
</ul>
<p>Additionally, we are working to patch the known deficiencies in NTP&rsquo;s Autokey protocol, as a stop-gap measure until the Network Time Security draft (which will replace Autokey) is ready to be deployed. These weaknesses were discovered by Dieter Sibold, PhD of PTB, and Stephen Roettger of the Google Security Team.</p>
<hr>
<p><strong>Timeline:</strong></p>
<ul>
<li>2015 Feb 4: Public release</li>
<li>: <a href="https://www.nwtime.org/membership/benefits">Early Access Program Release: Premier and Partner Institutional Members</a></li>
<li>: <a href="https://www.nwtime.org/membership/benefits">Notification to Institutional Members</a></li>
<li>: Initial notification received; analysis begins</li>
</ul>

	  
  </div>
</section>
<nav class="site-footer navbar navbar-expand-sm mt-auto">
  <div class="container">
      <ul class="navbar-nav">
        
        <li class="nav-item" title="Twitter" aria-label="Twitter">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ntp">
          <img src="https://doc.ntp.org/images/icons/twitter.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="LinkedIn" aria-label="LinkedIn">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/groups/4651343">
          <img src="https://doc.ntp.org/images/icons/linkedin.svg" width="20" height="20"></img>
          </a>
       </li>
       
        <li class="nav-item" title="Facebook" aria-label="Facebook">
          <a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/networktimeprotocol">
          <img src="https://doc.ntp.org/images/icons/facebook.svg" width="20" height="20"></img>
          </a>
       </li>
       
	  </ul>
	  <ul class="mx-auto pt-3">
        <p>&copy; 2022 <a class="navbar-text text-white" href="https://www.nwtime.org/">Network Time Foundation</a></p>	
      </ul>
    </div>
</nav>
</body>
</html>